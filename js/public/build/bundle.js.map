{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/style-inject/dist/style-inject.es.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/dom/events.js","../../node_modules/@material/base/component.js","../../node_modules/@material/slider/constants.js","../../node_modules/@material/animation/util.js","../../node_modules/@material/slider/foundation.js","../../node_modules/@material/slider/component.js","../../node_modules/@smui/common/forwardEvents.js","../../node_modules/@smui/common/exclude.js","../../node_modules/@smui/common/useActions.js","../../node_modules/@smui/slider/Slider.svelte","../../src/Brightness.svelte","../../src/ShowCycle.svelte","../../src/Speed.svelte","../../node_modules/svelte/store/index.mjs","../../src/stores.js","../../node_modules/svelte-awesome/components/svg/Path.svelte","../../node_modules/svelte-awesome/components/svg/Polygon.svelte","../../node_modules/svelte-awesome/components/svg/Raw.svelte","../../node_modules/svelte-awesome/components/svg/Svg.svelte","../../node_modules/svelte-awesome/components/Icon.svelte","../../node_modules/svelte-awesome/icons/cog.js","../../node_modules/svelte-awesome/icons/chevron-right.js","../../node_modules/svelte-awesome/icons/plus-circle.js","../../node_modules/svelte-awesome/icons/play-circle.js","../../node_modules/svelte-awesome/icons/trash.js","../../node_modules/tabbable/index.js","../../node_modules/focus-trap/index.js","../../node_modules/xtend/immutable.js","../../node_modules/@material/dom/ponyfill.js","../../node_modules/@material/ripple/constants.js","../../node_modules/@material/ripple/util.js","../../node_modules/@material/ripple/foundation.js","../../node_modules/@material/ripple/component.js","../../node_modules/@material/dialog/constants.js","../../node_modules/@material/dialog/foundation.js","../../node_modules/@material/dialog/component.js","../../node_modules/@material/dialog/util.js","../../node_modules/@smui/dialog/Dialog.svelte","../../node_modules/@smui/common/ClassAdder.svelte","../../node_modules/@smui/common/classAdderBuilder.js","../../node_modules/@smui/common/H2.svelte","../../node_modules/@smui/dialog/Title.js","../../node_modules/@smui/common/Div.svelte","../../node_modules/@smui/dialog/Content.js","../../node_modules/@smui/common/Footer.svelte","../../node_modules/@smui/dialog/Actions.js","../../node_modules/chroma-js/chroma.js","../../src/HSVKnob.svelte","../../src/ValueKnob.svelte","../../src/PlaylistItem.svelte","../../src/Playlist.svelte","../../src/PlayingSettings.svelte","../../src/ShowSelector.svelte","../../src/Status.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.35.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCFoundation = /** @class */ (function () {\n    function MDCFoundation(adapter) {\n        if (adapter === void 0) { adapter = {}; }\n        this.adapter_ = adapter;\n    }\n    Object.defineProperty(MDCFoundation, \"cssClasses\", {\n        get: function () {\n            // Classes extending MDCFoundation should implement this method to return an object which exports every\n            // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCFoundation, \"strings\", {\n        get: function () {\n            // Classes extending MDCFoundation should implement this method to return an object which exports all\n            // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCFoundation, \"numbers\", {\n        get: function () {\n            // Classes extending MDCFoundation should implement this method to return an object which exports all\n            // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCFoundation, \"defaultAdapter\", {\n        get: function () {\n            // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n            // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n            // validation.\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCFoundation.prototype.init = function () {\n        // Subclasses should override this method to perform initialization routines (registering events, etc.)\n    };\n    MDCFoundation.prototype.destroy = function () {\n        // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n    };\n    return MDCFoundation;\n}());\nexport { MDCFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2019 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * Stores result from applyPassive to avoid redundant processing to detect\n * passive event listener support.\n */\nvar supportsPassive_;\n/**\n * Determine whether the current browser supports passive event listeners, and\n * if so, use them.\n */\nexport function applyPassive(globalObj, forceRefresh) {\n    if (globalObj === void 0) { globalObj = window; }\n    if (forceRefresh === void 0) { forceRefresh = false; }\n    if (supportsPassive_ === undefined || forceRefresh) {\n        var isSupported_1 = false;\n        try {\n            globalObj.document.addEventListener('test', function () { return undefined; }, {\n                get passive() {\n                    isSupported_1 = true;\n                    return isSupported_1;\n                },\n            });\n        }\n        catch (e) {\n        } // tslint:disable-line:no-empty cannot throw error due to tests. tslint also disables console.log.\n        supportsPassive_ = isSupported_1;\n    }\n    return supportsPassive_ ? { passive: true } : false;\n}\n//# sourceMappingURL=events.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from './foundation';\nvar MDCComponent = /** @class */ (function () {\n    function MDCComponent(root, foundation) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        this.root_ = root;\n        this.initialize.apply(this, tslib_1.__spread(args));\n        // Note that we initialize foundation here and not within the constructor's default param so that\n        // this.root_ is defined and can be used within the foundation class.\n        this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n        this.foundation_.init();\n        this.initialSyncWithDOM();\n    }\n    MDCComponent.attachTo = function (root) {\n        // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n        // returns an instantiated component with its root set to that element. Also note that in the cases of\n        // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n        // from getDefaultFoundation().\n        return new MDCComponent(root, new MDCFoundation({}));\n    };\n    /* istanbul ignore next: method param only exists for typing purposes; it does not need to be unit tested */\n    MDCComponent.prototype.initialize = function () {\n        var _args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            _args[_i] = arguments[_i];\n        }\n        // Subclasses can override this to do any additional setup work that would be considered part of a\n        // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n        // initialized. Any additional arguments besides root and foundation will be passed in here.\n    };\n    MDCComponent.prototype.getDefaultFoundation = function () {\n        // Subclasses must override this method to return a properly configured foundation class for the\n        // component.\n        throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n            'foundation class');\n    };\n    MDCComponent.prototype.initialSyncWithDOM = function () {\n        // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n        // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n        // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n        // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n    };\n    MDCComponent.prototype.destroy = function () {\n        // Subclasses may implement this method to release any resources / deregister any listeners they have\n        // attached. An example of this might be deregistering a resize event from the window object.\n        this.foundation_.destroy();\n    };\n    MDCComponent.prototype.listen = function (evtType, handler, options) {\n        this.root_.addEventListener(evtType, handler, options);\n    };\n    MDCComponent.prototype.unlisten = function (evtType, handler, options) {\n        this.root_.removeEventListener(evtType, handler, options);\n    };\n    /**\n     * Fires a cross-browser-compatible custom event from the component root of the given type, with the given data.\n     */\n    MDCComponent.prototype.emit = function (evtType, evtData, shouldBubble) {\n        if (shouldBubble === void 0) { shouldBubble = false; }\n        var evt;\n        if (typeof CustomEvent === 'function') {\n            evt = new CustomEvent(evtType, {\n                bubbles: shouldBubble,\n                detail: evtData,\n            });\n        }\n        else {\n            evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n        }\n        this.root_.dispatchEvent(evt);\n    };\n    return MDCComponent;\n}());\nexport { MDCComponent };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCComponent;\n//# sourceMappingURL=component.js.map","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    ACTIVE: 'mdc-slider--active',\n    DISABLED: 'mdc-slider--disabled',\n    DISCRETE: 'mdc-slider--discrete',\n    FOCUS: 'mdc-slider--focus',\n    HAS_TRACK_MARKER: 'mdc-slider--display-markers',\n    IN_TRANSIT: 'mdc-slider--in-transit',\n    IS_DISCRETE: 'mdc-slider--discrete',\n};\nvar strings = {\n    ARIA_DISABLED: 'aria-disabled',\n    ARIA_VALUEMAX: 'aria-valuemax',\n    ARIA_VALUEMIN: 'aria-valuemin',\n    ARIA_VALUENOW: 'aria-valuenow',\n    CHANGE_EVENT: 'MDCSlider:change',\n    INPUT_EVENT: 'MDCSlider:input',\n    LAST_TRACK_MARKER_SELECTOR: '.mdc-slider__track-marker:last-child',\n    PIN_VALUE_MARKER_SELECTOR: '.mdc-slider__pin-value-marker',\n    STEP_DATA_ATTR: 'data-step',\n    THUMB_CONTAINER_SELECTOR: '.mdc-slider__thumb-container',\n    TRACK_MARKER_CONTAINER_SELECTOR: '.mdc-slider__track-marker-container',\n    TRACK_SELECTOR: '.mdc-slider__track',\n};\nvar numbers = {\n    PAGE_FACTOR: 4,\n};\nexport { cssClasses, strings, numbers };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssPropertyNameMap = {\n    animation: {\n        prefixed: '-webkit-animation',\n        standard: 'animation',\n    },\n    transform: {\n        prefixed: '-webkit-transform',\n        standard: 'transform',\n    },\n    transition: {\n        prefixed: '-webkit-transition',\n        standard: 'transition',\n    },\n};\nvar jsEventTypeMap = {\n    animationend: {\n        cssProperty: 'animation',\n        prefixed: 'webkitAnimationEnd',\n        standard: 'animationend',\n    },\n    animationiteration: {\n        cssProperty: 'animation',\n        prefixed: 'webkitAnimationIteration',\n        standard: 'animationiteration',\n    },\n    animationstart: {\n        cssProperty: 'animation',\n        prefixed: 'webkitAnimationStart',\n        standard: 'animationstart',\n    },\n    transitionend: {\n        cssProperty: 'transition',\n        prefixed: 'webkitTransitionEnd',\n        standard: 'transitionend',\n    },\n};\nfunction isWindow(windowObj) {\n    return Boolean(windowObj.document) && typeof windowObj.document.createElement === 'function';\n}\nexport function getCorrectPropertyName(windowObj, cssProperty) {\n    if (isWindow(windowObj) && cssProperty in cssPropertyNameMap) {\n        var el = windowObj.document.createElement('div');\n        var _a = cssPropertyNameMap[cssProperty], standard = _a.standard, prefixed = _a.prefixed;\n        var isStandard = standard in el.style;\n        return isStandard ? standard : prefixed;\n    }\n    return cssProperty;\n}\nexport function getCorrectEventName(windowObj, eventType) {\n    if (isWindow(windowObj) && eventType in jsEventTypeMap) {\n        var el = windowObj.document.createElement('div');\n        var _a = jsEventTypeMap[eventType], standard = _a.standard, prefixed = _a.prefixed, cssProperty = _a.cssProperty;\n        var isStandard = cssProperty in el.style;\n        return isStandard ? standard : prefixed;\n    }\n    return eventType;\n}\n//# sourceMappingURL=util.js.map","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { getCorrectEventName, getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar DOWN_EVENTS = ['mousedown', 'pointerdown', 'touchstart'];\nvar UP_EVENTS = ['mouseup', 'pointerup', 'touchend'];\nvar MOVE_EVENT_MAP = {\n    mousedown: 'mousemove',\n    pointerdown: 'pointermove',\n    touchstart: 'touchmove',\n};\nvar KEY_IDS = {\n    ARROW_DOWN: 'ArrowDown',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_RIGHT: 'ArrowRight',\n    ARROW_UP: 'ArrowUp',\n    END: 'End',\n    HOME: 'Home',\n    PAGE_DOWN: 'PageDown',\n    PAGE_UP: 'PageUp',\n};\nvar MDCSliderFoundation = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCSliderFoundation, _super);\n    function MDCSliderFoundation(adapter) {\n        var _this = _super.call(this, tslib_1.__assign({}, MDCSliderFoundation.defaultAdapter, adapter)) || this;\n        /**\n         * We set this to NaN since we want it to be a number, but we can't use '0' or '-1'\n         * because those could be valid tabindices set by the client code.\n         */\n        _this.savedTabIndex_ = NaN;\n        _this.active_ = false;\n        _this.inTransit_ = false;\n        _this.isDiscrete_ = false;\n        _this.hasTrackMarker_ = false;\n        _this.handlingThumbTargetEvt_ = false;\n        _this.min_ = 0;\n        _this.max_ = 100;\n        _this.step_ = 0;\n        _this.value_ = 0;\n        _this.disabled_ = false;\n        _this.preventFocusState_ = false;\n        _this.thumbContainerPointerHandler_ = function () { return _this.handlingThumbTargetEvt_ = true; };\n        _this.interactionStartHandler_ = function (evt) { return _this.handleDown_(evt); };\n        _this.keydownHandler_ = function (evt) { return _this.handleKeydown_(evt); };\n        _this.focusHandler_ = function () { return _this.handleFocus_(); };\n        _this.blurHandler_ = function () { return _this.handleBlur_(); };\n        _this.resizeHandler_ = function () { return _this.layout(); };\n        return _this;\n    }\n    Object.defineProperty(MDCSliderFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                hasClass: function () { return false; },\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                getAttribute: function () { return null; },\n                setAttribute: function () { return undefined; },\n                removeAttribute: function () { return undefined; },\n                computeBoundingRect: function () { return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 }); },\n                getTabIndex: function () { return 0; },\n                registerInteractionHandler: function () { return undefined; },\n                deregisterInteractionHandler: function () { return undefined; },\n                registerThumbContainerInteractionHandler: function () { return undefined; },\n                deregisterThumbContainerInteractionHandler: function () { return undefined; },\n                registerBodyInteractionHandler: function () { return undefined; },\n                deregisterBodyInteractionHandler: function () { return undefined; },\n                registerResizeHandler: function () { return undefined; },\n                deregisterResizeHandler: function () { return undefined; },\n                notifyInput: function () { return undefined; },\n                notifyChange: function () { return undefined; },\n                setThumbContainerStyleProperty: function () { return undefined; },\n                setTrackStyleProperty: function () { return undefined; },\n                setMarkerValue: function () { return undefined; },\n                appendTrackMarkers: function () { return undefined; },\n                removeTrackMarkers: function () { return undefined; },\n                setLastTrackMarkersStyleProperty: function () { return undefined; },\n                isRTL: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCSliderFoundation.prototype.init = function () {\n        var _this = this;\n        this.isDiscrete_ = this.adapter_.hasClass(cssClasses.IS_DISCRETE);\n        this.hasTrackMarker_ = this.adapter_.hasClass(cssClasses.HAS_TRACK_MARKER);\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter_.registerInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter_.registerThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        this.adapter_.registerInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n        this.layout();\n        // At last step, provide a reasonable default value to discrete slider\n        if (this.isDiscrete_ && this.getStep() === 0) {\n            this.step_ = 1;\n        }\n    };\n    MDCSliderFoundation.prototype.destroy = function () {\n        var _this = this;\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter_.deregisterInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter_.deregisterThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        this.adapter_.deregisterInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n        this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    };\n    MDCSliderFoundation.prototype.setupTrackMarker = function () {\n        if (this.isDiscrete_ && this.hasTrackMarker_ && this.getStep() !== 0) {\n            var min = this.getMin();\n            var max = this.getMax();\n            var step = this.getStep();\n            var numMarkers = (max - min) / step;\n            // In case distance between max & min is indivisible to step,\n            // we place the secondary to last marker proportionally at where thumb\n            // could reach and place the last marker at max value\n            var indivisible = Math.ceil(numMarkers) !== numMarkers;\n            if (indivisible) {\n                numMarkers = Math.ceil(numMarkers);\n            }\n            this.adapter_.removeTrackMarkers();\n            this.adapter_.appendTrackMarkers(numMarkers);\n            if (indivisible) {\n                var lastStepRatio = (max - numMarkers * step) / step + 1;\n                this.adapter_.setLastTrackMarkersStyleProperty('flex-grow', String(lastStepRatio));\n            }\n        }\n    };\n    MDCSliderFoundation.prototype.layout = function () {\n        this.rect_ = this.adapter_.computeBoundingRect();\n        this.updateUIForCurrentValue_();\n    };\n    MDCSliderFoundation.prototype.getValue = function () {\n        return this.value_;\n    };\n    MDCSliderFoundation.prototype.setValue = function (value) {\n        this.setValue_(value, false);\n    };\n    MDCSliderFoundation.prototype.getMax = function () {\n        return this.max_;\n    };\n    MDCSliderFoundation.prototype.setMax = function (max) {\n        if (max < this.min_) {\n            throw new Error('Cannot set max to be less than the slider\\'s minimum value');\n        }\n        this.max_ = max;\n        this.setValue_(this.value_, false, true);\n        this.adapter_.setAttribute(strings.ARIA_VALUEMAX, String(this.max_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getMin = function () {\n        return this.min_;\n    };\n    MDCSliderFoundation.prototype.setMin = function (min) {\n        if (min > this.max_) {\n            throw new Error('Cannot set min to be greater than the slider\\'s maximum value');\n        }\n        this.min_ = min;\n        this.setValue_(this.value_, false, true);\n        this.adapter_.setAttribute(strings.ARIA_VALUEMIN, String(this.min_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getStep = function () {\n        return this.step_;\n    };\n    MDCSliderFoundation.prototype.setStep = function (step) {\n        if (step < 0) {\n            throw new Error('Step cannot be set to a negative number');\n        }\n        if (this.isDiscrete_ && (typeof (step) !== 'number' || step < 1)) {\n            step = 1;\n        }\n        this.step_ = step;\n        this.setValue_(this.value_, false, true);\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.isDisabled = function () {\n        return this.disabled_;\n    };\n    MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n        this.disabled_ = disabled;\n        this.toggleClass_(cssClasses.DISABLED, this.disabled_);\n        if (this.disabled_) {\n            this.savedTabIndex_ = this.adapter_.getTabIndex();\n            this.adapter_.setAttribute(strings.ARIA_DISABLED, 'true');\n            this.adapter_.removeAttribute('tabindex');\n        }\n        else {\n            this.adapter_.removeAttribute(strings.ARIA_DISABLED);\n            if (!isNaN(this.savedTabIndex_)) {\n                this.adapter_.setAttribute('tabindex', String(this.savedTabIndex_));\n            }\n        }\n    };\n    /**\n     * Called when the user starts interacting with the slider\n     */\n    MDCSliderFoundation.prototype.handleDown_ = function (downEvent) {\n        var _this = this;\n        if (this.disabled_) {\n            return;\n        }\n        this.preventFocusState_ = true;\n        this.setInTransit_(!this.handlingThumbTargetEvt_);\n        this.handlingThumbTargetEvt_ = false;\n        this.setActive_(true);\n        var moveHandler = function (moveEvent) {\n            _this.handleMove_(moveEvent);\n        };\n        var moveEventType = MOVE_EVENT_MAP[downEvent.type];\n        // Note: upHandler is [de]registered on ALL potential pointer-related release event types, since some browsers\n        // do not always fire these consistently in pairs.\n        // (See https://github.com/material-components/material-components-web/issues/1192)\n        var upHandler = function () {\n            _this.handleUp_();\n            _this.adapter_.deregisterBodyInteractionHandler(moveEventType, moveHandler);\n            UP_EVENTS.forEach(function (evtName) { return _this.adapter_.deregisterBodyInteractionHandler(evtName, upHandler); });\n        };\n        this.adapter_.registerBodyInteractionHandler(moveEventType, moveHandler);\n        UP_EVENTS.forEach(function (evtName) { return _this.adapter_.registerBodyInteractionHandler(evtName, upHandler); });\n        this.setValueFromEvt_(downEvent);\n    };\n    /**\n     * Called when the user moves the slider\n     */\n    MDCSliderFoundation.prototype.handleMove_ = function (evt) {\n        evt.preventDefault();\n        this.setValueFromEvt_(evt);\n    };\n    /**\n     * Called when the user's interaction with the slider ends\n     */\n    MDCSliderFoundation.prototype.handleUp_ = function () {\n        this.setActive_(false);\n        this.adapter_.notifyChange();\n    };\n    /**\n     * Returns the pageX of the event\n     */\n    MDCSliderFoundation.prototype.getPageX_ = function (evt) {\n        if (evt.targetTouches && evt.targetTouches.length > 0) {\n            return evt.targetTouches[0].pageX;\n        }\n        return evt.pageX;\n    };\n    /**\n     * Sets the slider value from an event\n     */\n    MDCSliderFoundation.prototype.setValueFromEvt_ = function (evt) {\n        var pageX = this.getPageX_(evt);\n        var value = this.computeValueFromPageX_(pageX);\n        this.setValue_(value, true);\n    };\n    /**\n     * Computes the new value from the pageX position\n     */\n    MDCSliderFoundation.prototype.computeValueFromPageX_ = function (pageX) {\n        var _a = this, max = _a.max_, min = _a.min_;\n        var xPos = pageX - this.rect_.left;\n        var pctComplete = xPos / this.rect_.width;\n        if (this.adapter_.isRTL()) {\n            pctComplete = 1 - pctComplete;\n        }\n        // Fit the percentage complete between the range [min,max]\n        // by remapping from [0, 1] to [min, min+(max-min)].\n        return min + pctComplete * (max - min);\n    };\n    /**\n     * Handles keydown events\n     */\n    MDCSliderFoundation.prototype.handleKeydown_ = function (evt) {\n        var keyId = this.getKeyId_(evt);\n        var value = this.getValueForKeyId_(keyId);\n        if (isNaN(value)) {\n            return;\n        }\n        // Prevent page from scrolling due to key presses that would normally scroll the page\n        evt.preventDefault();\n        this.adapter_.addClass(cssClasses.FOCUS);\n        this.setValue_(value, true);\n        this.adapter_.notifyChange();\n    };\n    /**\n     * Returns the computed name of the event\n     */\n    MDCSliderFoundation.prototype.getKeyId_ = function (kbdEvt) {\n        if (kbdEvt.key === KEY_IDS.ARROW_LEFT || kbdEvt.keyCode === 37) {\n            return KEY_IDS.ARROW_LEFT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_RIGHT || kbdEvt.keyCode === 39) {\n            return KEY_IDS.ARROW_RIGHT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_UP || kbdEvt.keyCode === 38) {\n            return KEY_IDS.ARROW_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_DOWN || kbdEvt.keyCode === 40) {\n            return KEY_IDS.ARROW_DOWN;\n        }\n        if (kbdEvt.key === KEY_IDS.HOME || kbdEvt.keyCode === 36) {\n            return KEY_IDS.HOME;\n        }\n        if (kbdEvt.key === KEY_IDS.END || kbdEvt.keyCode === 35) {\n            return KEY_IDS.END;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_UP || kbdEvt.keyCode === 33) {\n            return KEY_IDS.PAGE_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_DOWN || kbdEvt.keyCode === 34) {\n            return KEY_IDS.PAGE_DOWN;\n        }\n        return '';\n    };\n    /**\n     * Computes the value given a keyboard key ID\n     */\n    MDCSliderFoundation.prototype.getValueForKeyId_ = function (keyId) {\n        var _a = this, max = _a.max_, min = _a.min_, step = _a.step_;\n        var delta = step || (max - min) / 100;\n        var valueNeedsToBeFlipped = this.adapter_.isRTL() && (keyId === KEY_IDS.ARROW_LEFT || keyId === KEY_IDS.ARROW_RIGHT);\n        if (valueNeedsToBeFlipped) {\n            delta = -delta;\n        }\n        switch (keyId) {\n            case KEY_IDS.ARROW_LEFT:\n            case KEY_IDS.ARROW_DOWN:\n                return this.value_ - delta;\n            case KEY_IDS.ARROW_RIGHT:\n            case KEY_IDS.ARROW_UP:\n                return this.value_ + delta;\n            case KEY_IDS.HOME:\n                return this.min_;\n            case KEY_IDS.END:\n                return this.max_;\n            case KEY_IDS.PAGE_UP:\n                return this.value_ + delta * numbers.PAGE_FACTOR;\n            case KEY_IDS.PAGE_DOWN:\n                return this.value_ - delta * numbers.PAGE_FACTOR;\n            default:\n                return NaN;\n        }\n    };\n    MDCSliderFoundation.prototype.handleFocus_ = function () {\n        if (this.preventFocusState_) {\n            return;\n        }\n        this.adapter_.addClass(cssClasses.FOCUS);\n    };\n    MDCSliderFoundation.prototype.handleBlur_ = function () {\n        this.preventFocusState_ = false;\n        this.adapter_.removeClass(cssClasses.FOCUS);\n    };\n    /**\n     * Sets the value of the slider\n     */\n    MDCSliderFoundation.prototype.setValue_ = function (value, shouldFireInput, force) {\n        if (force === void 0) { force = false; }\n        if (value === this.value_ && !force) {\n            return;\n        }\n        var _a = this, min = _a.min_, max = _a.max_;\n        var valueSetToBoundary = value === min || value === max;\n        if (this.step_ && !valueSetToBoundary) {\n            value = this.quantize_(value);\n        }\n        if (value < min) {\n            value = min;\n        }\n        else if (value > max) {\n            value = max;\n        }\n        this.value_ = value;\n        this.adapter_.setAttribute(strings.ARIA_VALUENOW, String(this.value_));\n        this.updateUIForCurrentValue_();\n        if (shouldFireInput) {\n            this.adapter_.notifyInput();\n            if (this.isDiscrete_) {\n                this.adapter_.setMarkerValue(value);\n            }\n        }\n    };\n    /**\n     * Calculates the quantized value\n     */\n    MDCSliderFoundation.prototype.quantize_ = function (value) {\n        var numSteps = Math.round(value / this.step_);\n        return numSteps * this.step_;\n    };\n    MDCSliderFoundation.prototype.updateUIForCurrentValue_ = function () {\n        var _this = this;\n        var _a = this, max = _a.max_, min = _a.min_, value = _a.value_;\n        var pctComplete = (value - min) / (max - min);\n        var translatePx = pctComplete * this.rect_.width;\n        if (this.adapter_.isRTL()) {\n            translatePx = this.rect_.width - translatePx;\n        }\n        var transformProp = getCorrectPropertyName(window, 'transform');\n        var transitionendEvtName = getCorrectEventName(window, 'transitionend');\n        if (this.inTransit_) {\n            var onTransitionEnd_1 = function () {\n                _this.setInTransit_(false);\n                _this.adapter_.deregisterThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n            };\n            this.adapter_.registerThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n        }\n        requestAnimationFrame(function () {\n            // NOTE(traviskaufman): It would be nice to use calc() here,\n            // but IE cannot handle calcs in transforms correctly.\n            // See: https://goo.gl/NC2itk\n            // Also note that the -50% offset is used to center the slider thumb.\n            _this.adapter_.setThumbContainerStyleProperty(transformProp, \"translateX(\" + translatePx + \"px) translateX(-50%)\");\n            _this.adapter_.setTrackStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n        });\n    };\n    /**\n     * Toggles the active state of the slider\n     */\n    MDCSliderFoundation.prototype.setActive_ = function (active) {\n        this.active_ = active;\n        this.toggleClass_(cssClasses.ACTIVE, this.active_);\n    };\n    /**\n     * Toggles the inTransit state of the slider\n     */\n    MDCSliderFoundation.prototype.setInTransit_ = function (inTransit) {\n        this.inTransit_ = inTransit;\n        this.toggleClass_(cssClasses.IN_TRANSIT, this.inTransit_);\n    };\n    /**\n     * Conditionally adds or removes a class based on shouldBePresent\n     */\n    MDCSliderFoundation.prototype.toggleClass_ = function (className, shouldBePresent) {\n        if (shouldBePresent) {\n            this.adapter_.addClass(className);\n        }\n        else {\n            this.adapter_.removeClass(className);\n        }\n    };\n    return MDCSliderFoundation;\n}(MDCFoundation));\nexport { MDCSliderFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCSliderFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { applyPassive } from '@material/dom/events';\nimport { strings } from './constants';\nimport { MDCSliderFoundation } from './foundation';\nvar MDCSlider = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCSlider, _super);\n    function MDCSlider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCSlider.attachTo = function (root) {\n        return new MDCSlider(root);\n    };\n    Object.defineProperty(MDCSlider.prototype, \"value\", {\n        get: function () {\n            return this.foundation_.getValue();\n        },\n        set: function (value) {\n            this.foundation_.setValue(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSlider.prototype, \"min\", {\n        get: function () {\n            return this.foundation_.getMin();\n        },\n        set: function (min) {\n            this.foundation_.setMin(min);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSlider.prototype, \"max\", {\n        get: function () {\n            return this.foundation_.getMax();\n        },\n        set: function (max) {\n            this.foundation_.setMax(max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSlider.prototype, \"step\", {\n        get: function () {\n            return this.foundation_.getStep();\n        },\n        set: function (step) {\n            this.foundation_.setStep(step);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSlider.prototype, \"disabled\", {\n        get: function () {\n            return this.foundation_.isDisabled();\n        },\n        set: function (disabled) {\n            this.foundation_.setDisabled(disabled);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCSlider.prototype.initialize = function () {\n        this.thumbContainer_ = this.root_.querySelector(strings.THUMB_CONTAINER_SELECTOR);\n        this.track_ = this.root_.querySelector(strings.TRACK_SELECTOR);\n        this.pinValueMarker_ = this.root_.querySelector(strings.PIN_VALUE_MARKER_SELECTOR);\n        this.trackMarkerContainer_ = this.root_.querySelector(strings.TRACK_MARKER_CONTAINER_SELECTOR);\n    };\n    MDCSlider.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            hasClass: function (className) { return _this.root_.classList.contains(className); },\n            addClass: function (className) { return _this.root_.classList.add(className); },\n            removeClass: function (className) { return _this.root_.classList.remove(className); },\n            getAttribute: function (name) { return _this.root_.getAttribute(name); },\n            setAttribute: function (name, value) { return _this.root_.setAttribute(name, value); },\n            removeAttribute: function (name) { return _this.root_.removeAttribute(name); },\n            computeBoundingRect: function () { return _this.root_.getBoundingClientRect(); },\n            getTabIndex: function () { return _this.root_.tabIndex; },\n            registerInteractionHandler: function (evtType, handler) { return _this.listen(evtType, handler, applyPassive()); },\n            deregisterInteractionHandler: function (evtType, handler) { return _this.unlisten(evtType, handler, applyPassive()); },\n            registerThumbContainerInteractionHandler: function (evtType, handler) {\n                _this.thumbContainer_.addEventListener(evtType, handler, applyPassive());\n            },\n            deregisterThumbContainerInteractionHandler: function (evtType, handler) {\n                _this.thumbContainer_.removeEventListener(evtType, handler, applyPassive());\n            },\n            registerBodyInteractionHandler: function (evtType, handler) { return document.body.addEventListener(evtType, handler); },\n            deregisterBodyInteractionHandler: function (evtType, handler) { return document.body.removeEventListener(evtType, handler); },\n            registerResizeHandler: function (handler) { return window.addEventListener('resize', handler); },\n            deregisterResizeHandler: function (handler) { return window.removeEventListener('resize', handler); },\n            notifyInput: function () { return _this.emit(strings.INPUT_EVENT, _this); },\n            notifyChange: function () { return _this.emit(strings.CHANGE_EVENT, _this); },\n            setThumbContainerStyleProperty: function (propertyName, value) {\n                _this.thumbContainer_.style.setProperty(propertyName, value);\n            },\n            setTrackStyleProperty: function (propertyName, value) { return _this.track_.style.setProperty(propertyName, value); },\n            setMarkerValue: function (value) { return _this.pinValueMarker_.innerText = value.toLocaleString(); },\n            appendTrackMarkers: function (numMarkers) {\n                var frag = document.createDocumentFragment();\n                for (var i = 0; i < numMarkers; i++) {\n                    var marker = document.createElement('div');\n                    marker.classList.add('mdc-slider__track-marker');\n                    frag.appendChild(marker);\n                }\n                _this.trackMarkerContainer_.appendChild(frag);\n            },\n            removeTrackMarkers: function () {\n                while (_this.trackMarkerContainer_.firstChild) {\n                    _this.trackMarkerContainer_.removeChild(_this.trackMarkerContainer_.firstChild);\n                }\n            },\n            setLastTrackMarkersStyleProperty: function (propertyName, value) {\n                // We remove and append new nodes, thus, the last track marker must be dynamically found.\n                var lastTrackMarker = _this.root_.querySelector(strings.LAST_TRACK_MARKER_SELECTOR);\n                lastTrackMarker.style.setProperty(propertyName, value);\n            },\n            isRTL: function () { return getComputedStyle(_this.root_).direction === 'rtl'; },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCSliderFoundation(adapter);\n    };\n    MDCSlider.prototype.initialSyncWithDOM = function () {\n        var origValueNow = this.parseFloat_(this.root_.getAttribute(strings.ARIA_VALUENOW), this.value);\n        var min = this.parseFloat_(this.root_.getAttribute(strings.ARIA_VALUEMIN), this.min);\n        var max = this.parseFloat_(this.root_.getAttribute(strings.ARIA_VALUEMAX), this.max);\n        // min and max need to be set in the right order to avoid throwing an error\n        // when the new min is greater than the default max.\n        if (min >= this.max) {\n            this.max = max;\n            this.min = min;\n        }\n        else {\n            this.min = min;\n            this.max = max;\n        }\n        this.step = this.parseFloat_(this.root_.getAttribute(strings.STEP_DATA_ATTR), this.step);\n        this.value = origValueNow;\n        this.disabled = (this.root_.hasAttribute(strings.ARIA_DISABLED) &&\n            this.root_.getAttribute(strings.ARIA_DISABLED) !== 'false');\n        this.foundation_.setupTrackMarker();\n    };\n    MDCSlider.prototype.layout = function () {\n        this.foundation_.layout();\n    };\n    MDCSlider.prototype.stepUp = function (amount) {\n        if (amount === void 0) { amount = (this.step || 1); }\n        this.value += amount;\n    };\n    MDCSlider.prototype.stepDown = function (amount) {\n        if (amount === void 0) { amount = (this.step || 1); }\n        this.value -= amount;\n    };\n    MDCSlider.prototype.parseFloat_ = function (str, defaultValue) {\n        var num = parseFloat(str); // tslint:disable-line:ban\n        var isNumeric = typeof num === 'number' && isFinite(num);\n        return isNumeric ? num : defaultValue;\n    };\n    return MDCSlider;\n}(MDCComponent));\nexport { MDCSlider };\n//# sourceMappingURL=component.js.map","import {bubble, listen} from 'svelte/internal';\n\nexport function forwardEventsBuilder(component, additionalEvents = []) {\n  const events = [\n    'focus', 'blur',\n    'fullscreenchange', 'fullscreenerror', 'scroll',\n    'cut', 'copy', 'paste',\n    'keydown', 'keypress', 'keyup',\n    'auxclick', 'click', 'contextmenu', 'dblclick', 'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseover', 'mouseout', 'mouseup', 'pointerlockchange', 'pointerlockerror', 'select', 'wheel',\n    'drag', 'dragend', 'dragenter', 'dragstart', 'dragleave', 'dragover', 'drop',\n    'touchcancel', 'touchend', 'touchmove', 'touchstart',\n    'pointerover', 'pointerenter', 'pointerdown', 'pointermove', 'pointerup', 'pointercancel', 'pointerout', 'pointerleave', 'gotpointercapture', 'lostpointercapture',\n    ...additionalEvents\n  ];\n\n  function forward(e) {\n    bubble(component, e);\n  }\n\n  return node => {\n    const destructors = [];\n\n    for (let i = 0; i < events.length; i++) {\n      destructors.push(listen(node, events[i], forward));\n    }\n\n    return {\n      destroy: () => {\n        for (let i = 0; i < destructors.length; i++) {\n          destructors[i]();\n        }\n      }\n    }\n  };\n}","export function exclude(obj, keys) {\n  let names = Object.getOwnPropertyNames(obj);\n  const newObj = {};\n\n  for (let i = 0; i < names.length; i++) {\n    const name = names[i];\n    const cashIndex = name.indexOf('$');\n    if (cashIndex !== -1 && keys.indexOf(name.substring(0, cashIndex + 1)) !== -1) {\n      continue;\n    }\n    if (keys.indexOf(name) !== -1) {\n      continue;\n    }\n    newObj[name] = obj[name];\n  }\n\n  return newObj;\n}","export function useActions(node, actions) {\n  let objects = [];\n\n  if (actions) {\n    for (let i = 0; i < actions.length; i++) {\n      const isArray = Array.isArray(actions[i]);\n      const action = isArray ? actions[i][0] : actions[i];\n      if (isArray && actions[i].length > 1) {\n        objects.push(action(node, actions[i][1]));\n      } else {\n        objects.push(action(node));\n      }\n    }\n  }\n\n  return {\n    update(actions) {\n      if ((actions && actions.length || 0) != objects.length) {\n        throw new Error('You must not change the length of an actions array.');\n      }\n\n      if (actions) {\n        for (let i = 0; i < actions.length; i++) {\n          if (objects[i] && 'update' in objects[i]) {\n            const isArray = Array.isArray(actions[i]);\n            if (isArray && actions[i].length > 1) {\n              objects[i].update(actions[i][1]);\n            } else {\n              objects[i].update();\n            }\n          }\n        }\n      }\n    },\n\n    destroy() {\n      for (let i = 0; i < objects.length; i++) {\n        if (objects[i] && 'destroy' in objects[i]) {\n          objects[i].destroy();\n        }\n      }\n    }\n  }\n}","<div\n  bind:this={element}\n  use:useActions={use}\n  use:forwardEvents\n  class=\"\n    mdc-slider\n    {className}\n    {discrete ? 'mdc-slider--discrete' : ''}\n    {(discrete && displayMarkers) ? 'mdc-slider--display-markers' : ''}\n  \"\n  role=\"slider\"\n  aria-disabled={disabled ? 'true' : 'false'}\n  aria-valuemin={min}\n  aria-valuemax={max}\n  aria-valuenow={value}\n  {...(step === 0 ? {} : {'data-step': step})}\n  {tabindex}\n  {...inputProps}\n  on:MDCSlider:input={handleChange}\n  {...exclude($$props, ['use', 'class', 'disabled', 'discrete', 'displayMarkers', 'min', 'max', 'step', 'value', 'tabindex'])}\n>\n  <div class=\"mdc-slider__track-container\">\n    <div class=\"mdc-slider__track\"></div>\n    {#if discrete && displayMarkers}\n      <div class=\"mdc-slider__track-marker-container\"></div>\n    {/if}\n  </div>\n  <div class=\"mdc-slider__thumb-container\">\n    {#if discrete}\n      <div class=\"mdc-slider__pin\">\n        <span class=\"mdc-slider__pin-value-marker\"></span>\n      </div>\n    {/if}\n    <svg class=\"mdc-slider__thumb\" width=\"21\" height=\"21\">\n      <circle cx=\"10.5\" cy=\"10.5\" r=\"7.875\"></circle>\n    </svg>\n    <div class=\"mdc-slider__focus-ring\"></div>\n  </div>\n</div>\n\n<script>\n  import {MDCSlider} from '@material/slider';\n  import {onMount, onDestroy, getContext} from 'svelte';\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from '@smui/common/forwardEvents.js';\n  import {exclude} from '@smui/common/exclude.js';\n  import {useActions} from '@smui/common/useActions.js';\n\n  const forwardEvents = forwardEventsBuilder(get_current_component(), ['MDCSlider:input', 'MDCSlider:change']);\n\n  export let use = [];\n  let className = '';\n  export {className as class};\n  export let disabled = false;\n  export let discrete = false;\n  export let displayMarkers = false;\n  export let min = 0;\n  export let max = 100;\n  export let step = 0;\n  export let value = null;\n  export let tabindex = '0';\n\n  let element;\n  let slider;\n  let formField = getContext('SMUI:form-field');\n  let inputProps = getContext('SMUI:generic:input:props') || {};\n  let addLayoutListener = getContext('SMUI:addLayoutListener');\n  let removeLayoutListener;\n\n  $: if (slider && slider.disabled !== disabled) {\n    slider.disabled = disabled;\n  }\n\n  $: if (slider && slider.min !== min) {\n    slider.min = min;\n  }\n\n  $: if (slider && slider.max !== max) {\n    slider.max = max;\n  }\n\n  $: if (slider && slider.step !== step) {\n    slider.step = step;\n  }\n\n  $: if (slider && slider.value !== value) {\n    slider.value = value;\n  }\n\n  if (addLayoutListener) {\n    removeLayoutListener = addLayoutListener(layout);\n  }\n\n  onMount(() => {\n    slider = new MDCSlider(element);\n\n    if (formField && formField()) {\n      formField().input = slider;\n    }\n  });\n\n  onDestroy(() => {\n    slider && slider.destroy();\n\n    if (removeLayoutListener) {\n      removeLayoutListener();\n    }\n  });\n\n  function handleChange() {\n    value = slider.value;\n  }\n\n  export function layout(...args) {\n    return slider.layout(...args);\n  }\n\n  export function stepUp(amount = 1, ...args) {\n    return slider.stepUp(amount, ...args);\n  }\n\n  export function stepDown(amount = 1, ...args) {\n    return slider.stepDown(amount, ...args);\n  }\n\n  export function getId() {\n    return inputProps && inputProps.id;\n  }\n</script>\n","<script>\n  import {onMount} from 'svelte';\n  import Slider from '@smui/slider';\n\n  let value = 100;\n\n  onMount(async () => {\n    const resp = await fetch(\"brightness\");\n    if (!resp.ok) {\n      throw new Error('failed to get /brightness');\n    }\n    const data = await resp.json();\n    value = data.value;\n  });\n\n  const handleChange = async (e, v) => {\n    await fetch('brightness', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({value: Math.round(value)}),\n    });\n  };\n</script>\n\n<div class=\"flex flex-col m-1 text-white\">\n  Brightness\n  <Slider min={0} max={100} bind:value on:MDCSlider:change={handleChange} />\n</div>\n","<script>\n  import {onMount} from 'svelte';\n  import Slider from '@smui/slider';\n\n  let value = 60;\n\n  onMount(async () => {\n    const resp = await fetch('cycle_time');\n    if (!resp.ok) {\n      throw new Error('failed to get /cycle_time');\n    }\n    const data = await resp.json();\n    value = data['value'];\n  });\n\n  const handleChange = async (e, v) => {\n    await fetch('cycle_time', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({value: value}),\n    });\n  };\n</script>\n\n<div class=\"flex flex-col m-1 text-white\">\n  Show duration (s)\n  <Slider min={10} max={120} step={10} discrete bind:value on:MDCSlider:change={handleChange} />\n</div>\n","<script>\n  import {onMount} from 'svelte';\n  import Slider from '@smui/slider';\n\n  // MDCSlider has bug with floats < 1, so use percentages\n  let value = 100;\n\n  onMount(async () => {\n    const resp = await fetch('speed');\n    if (!resp.ok) {\n      throw new Error('failed to get /speed');\n    }\n    const data = await resp.json();\n    value = data['value']*100;\n  });\n\n  const handleChange = async (e, v) => {\n    await fetch('speed', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({value: value/100}),\n    });\n  };\n</script>\n\n<div class=\"flex flex-col m-1 text-white\">\n  Speed Percentage\n  <Slider min={50} max={200} step={25} discrete bind:value on:MDCSlider:change={handleChange} />\n</div>\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import {derived, readable, writable} from 'svelte/store';\n\n// lastUpdate is a timestamp of the last /status update. It lets us countdown remaining show time.\nlet lastUpdate = new Date();\n\n// status is a readable store which periodically updates itself\nexport const status = readable({show: undefined, seconds: 0, showKnobs: []},\n  function start(set) {\n    const interval = setInterval(async () => {\n      const resp = await fetch('status');\n      if (!resp.ok) {\n        throw new Error('get /status failed');\n      }\n      const { show, seconds_remaining, knobs } = await resp.json();\n\n      set({\n        show: show,\n        seconds: seconds_remaining,\n        showKnobs: knobs,\n      });\n\n      lastUpdate = new Date();\n    }, 2000);\n    return () => clearInterval(interval);\n});\n\n// seconds_remaining is a readable store decrementing down to zero.\n// The counter resets when status store is updated.\nexport const seconds_remaining = derived(\n  status,\n  ($status, set) => {\n    const interval = setInterval(() => {\n      const elapsed = Math.round((new Date() - lastUpdate) / 1000);\n      const remaining = $status.seconds - elapsed;\n      set(remaining >= 0 ? remaining : 0);\n    }, 500);\n    return () => clearInterval(interval);\n});\n\n// createPlaylist creates a writeable store for playlist data.\n// Rather than using the raw store, it returns several methods for interacting with the playlist.\nfunction createPlaylist() {\n  const latest = async () => {\n    const resp = await fetch('playlist');\n    if (!resp.ok) {\n      throw new Error('get /playlist failed');\n    }\n    return await resp.json();\n  };\n\n  let initialValue = {'playlist':[],'playing':undefined};\n  const { subscribe, set, update } = writable(initialValue,\n    function start(set) {\n      // updates playlist data from server on an interval\n      const interval = setInterval(async () => {\n        const data = await latest();\n        set(data);\n      }, 1000);\n      return () => clearInterval(interval);\n  });\n\n  const clear = async () => {\n    await fetch('playlist', {\n      method: 'DELETE',\n    });\n    set(initialValue);\n  };\n\n  const add = async (show) => {\n    const resp = await fetch('playlist', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({show: show}),\n    });\n    if (!resp.ok) {\n      throw new Error('failure adding to playlist');\n    }\n    const data = await resp.json();\n    set(data);\n  }\n\n  const deleteItem = async (entryId) => {\n    const resp = await fetch(`playlist/entries/${entryId}`, {\n      method: 'DELETE',\n    });\n    if (!resp.ok) {\n      throw new Error(`failure to DELETE playlist entry playlist/entries/${entryId}`);\n    }\n    const data = await latest();\n    set(data);\n  };\n\n  const setNext = async (entryId) => {\n    await fetch('playlist', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({entry_id: entryId}),\n    });\n    update(data => {\n      data.playing = entryId;\n      return data;\n    });\n  };\n\n  return {\n    subscribe, // subscribe is necessary for all stores\n    clear,\n    add,\n    deleteItem,\n    setNext,\n  };\n}\n\nexport const playlist = createPlaylist();\n","<path key=\"path-{id}\" {...data} />\n\n<script>\n  export let id = '';\n  export let data = {};\n</script>\n","<polygon key=\"polygon-{id}\" {...data} />\n\n<script>\n  export let id = '';\n  export let data = {};\n</script>\n","<g>\n{@html raw}\n</g>\n\n<script>\n  /* eslint-disable no-unused-vars, import/prefer-default-export */\n  let cursor = 0xd4937;\n  function getId() {\n    cursor += 1;\n    return `fa-${cursor.toString(16)}`;\n  }\n\n  let raw;\n\n  export let data;\n\n  function getRaw(data) {\n    if (!data || !data.raw) {\n      return null;\n    }\n    let rawData = data.raw;\n    const ids = {};\n    rawData = rawData.replace(/\\s(?:xml:)?id=[\"']?([^\"')\\s]+)/g, (match, id) => {\n      const uniqueId = getId();\n      ids[id] = uniqueId;\n      return ` id=\"${uniqueId}\"`;\n    });\n\n    rawData = rawData.replace(/#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g, (match, rawId, _, pointerId) => {\n      const id = rawId || pointerId;\n      if (!id || !ids[id]) {\n        return match;\n      }\n      return `#${ids[id]}`;\n    });\n    return rawData;\n  }\n\n  $: raw = getRaw(data);\n</script>\n","<svg version=\"1.1\" class=\"fa-icon {className}\"\n  class:fa-spin={spin} class:fa-pulse={pulse} class:fa-inverse={inverse}\n  class:fa-flip-horizontal=\"{flip === 'horizontal'}\" class:fa-flip-vertical=\"{flip === 'vertical'}\"\n  {x} {y} {width} {height}\n  aria-label={label}\n  role=\"{ label ? 'img' : 'presentation' }\"\n  viewBox={box} style={style}\n  >\n  <slot></slot>\n</svg>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n.fa-inverse {\n  color: #fff;\n}\n.fa-pulse {\n  animation: fa-spin 1s infinite steps(8);\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\n  let className;\n\n  export { className as class };\n\n  export let width;\n  export let height;\n  export let box;\n\n  export let spin = false;\n  export let inverse = false;\n  export let pulse = false;\n  export let flip = null;\n\n  // optionals\n  export let x = undefined;\n  export let y = undefined;\n  export let style = undefined;\n  export let label = undefined;\n</script>\n","<Svg label={label} width={width} height={height} box={box} style={combinedStyle}\n  spin={spin} flip={flip} inverse={inverse} pulse={pulse} class={className}>\n  <slot>\n    {#if self}\n      {#if self.paths}\n        {#each self.paths as path, i}\n        <Path id=\"{i}\" data=\"{path}\"/>\n        {/each}\n      {/if}\n      {#if self.polygons}\n        {#each self.polygons as polygon, i}\n        <Polygon id=\"{i}\" data=\"{polygon}\"/>\n        {/each}\n      {/if}\n      {#if self.raw}\n        <Raw bind:data={self} />\n      {/if}\n    {/if}\n  </slot>\n</Svg>\n\n<script>\n  /* eslint-disable no-unused-vars */\n  import Path from './svg/Path.svelte';\n  import Polygon from './svg/Polygon.svelte';\n  import Raw from './svg/Raw.svelte';\n  import Svg from './svg/Svg.svelte';\n\n  let className = \"\";\n\n  export let data;\n  export let scale = 1;\n  export let spin = false;\n  export let inverse = false;\n  export let pulse = false;\n  export let flip = null;\n  export let label = null;\n  export let self = null;\n  export let style = null;\n  export { className as class };\n\n  // internal\n  let x = 0;\n  let y = 0;\n  let childrenHeight = 0;\n  let childrenWidth = 0;\n  let outerScale = 1;\n\n  let width;\n  let height;\n  let combinedStyle;\n  let box;\n\n  function init() {\n    if (typeof data === 'undefined') {\n      return;\n    }\n    const normalisedData = normaliseData(data);\n    const [name] = Object.keys(normalisedData);\n    const icon = normalisedData[name];\n    if (!icon.paths) {\n      icon.paths = [];\n    }\n    if (icon.d) {\n      icon.paths.push({\n        d: icon.d,\n      });\n    }\n    if (!icon.polygons) {\n      icon.polygons = [];\n    }\n    if (icon.points) {\n      icon.polygons.push({\n        points: icon.points,\n      });\n    }\n    self = icon;\n  }\n\n  function normaliseData(data) {\n    if ('iconName' in data && 'icon' in data) {\n      let normalisedData = {};\n      let faIcon = data.icon;\n      let name = data.iconName;\n      let width = faIcon[0];\n      let height = faIcon[1];\n      let paths = faIcon[4];\n      let iconData = {\n        width,\n        height,\n        paths: [{\n          d: paths\n        }]\n      }\n      normalisedData[name] = iconData;\n      return normalisedData;\n    }\n    return data;\n  }\n\n  function normalisedScale() {\n    let numScale = 1;\n    if (typeof scale !== 'undefined') {\n      numScale = Number(scale);\n    }\n    if (isNaN(numScale) || numScale <= 0) { // eslint-disable-line no-restricted-globals\n      console.warn('Invalid prop: prop \"scale\" should be a number over 0.'); // eslint-disable-line no-console\n      return outerScale;\n    }\n    return numScale * outerScale;\n  }\n\n  function calculateBox() {\n    if (self) {\n      return `0 0 ${self.width} ${self.height}`;\n    }\n    return `0 0 ${width} ${height}`;\n  }\n\n  function calculateRatio() {\n    if (!self) {\n      return 1;\n    }\n    return Math.max(self.width, self.height) / 16;\n  }\n\n  function calculateWidth() {\n    if (childrenWidth) {\n      return childrenWidth;\n    }\n    if (self) {\n      return (self.width / calculateRatio()) * normalisedScale();\n    }\n    return 0;\n  }\n\n  function calculateHeight() {\n    if (childrenHeight) {\n      return childrenHeight;\n    }\n    if (self) {\n      return (self.height / calculateRatio()) * normalisedScale();\n    }\n    return 0;\n  }\n\n  function calculateStyle() {\n    let combined = \"\";\n    if (style !== null) {\n      combined += style;\n    }\n    let size = normalisedScale();\n    if (size === 1) {\n      return combined;\n    }\n    if (combined !== \"\" && !combined.endsWith(';')) {\n      combined += '; ';\n    }\n    return `${combined}font-size: ${size}em`;\n  }\n\n   $: {\n    data; // this is needed to keep data up-to-date\n    style;\n    scale;\n    init();\n    width = calculateWidth();\n    height = calculateHeight();\n    combinedStyle = calculateStyle();\n    box = calculateBox();\n  }\n</script>\n","export default { cog: { width: 1536, height: 1792, paths: [{ d: 'M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1536 787v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z' }] } };\n","export default { 'chevron-right': { width: 1280, height: 1792, paths: [{ d: 'M1107 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z' }] } };\n","export default { 'plus-circle': { width: 1536, height: 1792, paths: [{ d: 'M1216 960v-128q0-26-19-45t-45-19h-256v-256q0-26-19-45t-45-19h-128q-26 0-45 19t-19 45v256h-256q-26 0-45 19t-19 45v128q0 26 19 45t45 19h256v256q0 26 19 45t45 19h128q26 0 45-19t19-45v-256h256q26 0 45-19t19-45zM1536 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z' }] } };\n","export default { 'play-circle': { width: 1536, height: 1792, paths: [{ d: 'M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zM1152 951q32-18 32-55t-32-55l-544-320q-31-19-64-1-32 19-32 56v640q0 37 32 56 16 8 32 8 17 0 32-9z' }] } };\n","export default { trash: { width: 1408, height: 1792, paths: [{ d: 'M512 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM768 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM1024 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM480 384h448l-48-117q-7-9-17-11h-317q-10 2-17 11zM1408 416v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z' }] } };\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || isHidden(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n","var tabbable = require('tabbable');\nvar xtend = require('xtend');\n\nvar activeFocusDelay;\n\nvar activeFocusTraps = (function() {\n  var trapQueue = [];\n  return {\n    activateTrap: function(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap: function(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n})();\n\nfunction focusTrap(element, userOptions) {\n  var doc = document;\n  var container =\n    typeof element === 'string' ? doc.querySelector(element) : element;\n\n  var config = xtend(\n    {\n      returnFocusOnDeactivate: true,\n      escapeDeactivates: true\n    },\n    userOptions\n  );\n\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n\n    updateTabbableNodes();\n\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n\n    var onActivate =\n      activateOptions && activateOptions.onActivate\n        ? activateOptions.onActivate\n        : config.onActivate;\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n\n    clearTimeout(activeFocusDelay);\n\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n\n    activeFocusTraps.deactivateTrap(trap);\n\n    var onDeactivate =\n      deactivateOptions && deactivateOptions.onDeactivate !== undefined\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate;\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus =\n      deactivateOptions && deactivateOptions.returnFocus !== undefined\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate;\n    if (returnFocus) {\n      delay(function() {\n        tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    updateTabbableNodes();\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return;\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    activeFocusDelay = delay(function() {\n      tryFocus(getInitialFocusNode());\n    });\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active) return;\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  }\n\n  function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus');\n    return node ? node : previousActiveElement;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) return;\n    if (config.clickOutsideDeactivates) {\n      deactivate({\n        returnFocus: !tabbable.isFocusable(e.target)\n      });\n      return;\n    }\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (config.allowOutsideClick && config.allowOutsideClick(e)) {\n      return;\n    }\n    e.preventDefault();\n  }\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  }\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  function checkTab(e) {\n    updateTabbableNodes();\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    if (config.allowOutsideClick && config.allowOutsideClick(e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode =\n      tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus();\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nmodule.exports = focusTrap;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * @fileoverview A \"ponyfill\" is a polyfill that doesn't modify the global prototype chain.\n * This makes ponyfills safer than traditional polyfills, especially for libraries like MDC.\n */\nexport function closest(element, selector) {\n    if (element.closest) {\n        return element.closest(selector);\n    }\n    var el = element;\n    while (el) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentElement;\n    }\n    return null;\n}\nexport function matches(element, selector) {\n    var nativeMatches = element.matches\n        || element.webkitMatchesSelector\n        || element.msMatchesSelector;\n    return nativeMatches.call(element, selector);\n}\n//# sourceMappingURL=ponyfill.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nexport var cssClasses = {\n    // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n    // given that it's an 'upgrade' to an existing component. That being said it is the root\n    // CSS class that all other CSS classes derive from.\n    BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n    FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n    FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n    ROOT: 'mdc-ripple-upgraded',\n    UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n};\nexport var strings = {\n    VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n    VAR_FG_SIZE: '--mdc-ripple-fg-size',\n    VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n    VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n    VAR_LEFT: '--mdc-ripple-left',\n    VAR_TOP: '--mdc-ripple-top',\n};\nexport var numbers = {\n    DEACTIVATION_TIMEOUT_MS: 225,\n    FG_DEACTIVATION_MS: 150,\n    INITIAL_ORIGIN_SCALE: 0.6,\n    PADDING: 10,\n    TAP_DELAY_MS: 300,\n};\n//# sourceMappingURL=constants.js.map","/**\n * Stores result from supportsCssVariables to avoid redundant processing to\n * detect CSS custom variable support.\n */\nvar supportsCssVariables_;\nfunction detectEdgePseudoVarBug(windowObj) {\n    // Detect versions of Edge with buggy var() support\n    // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n    var document = windowObj.document;\n    var node = document.createElement('div');\n    node.className = 'mdc-ripple-surface--test-edge-var-bug';\n    // Append to head instead of body because this script might be invoked in the\n    // head, in which case the body doesn't exist yet. The probe works either way.\n    document.head.appendChild(node);\n    // The bug exists if ::before style ends up propagating to the parent element.\n    // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n    // but Firefox is known to support CSS custom properties correctly.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    var computedStyle = windowObj.getComputedStyle(node);\n    var hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n    return hasPseudoVarBug;\n}\nexport function supportsCssVariables(windowObj, forceRefresh) {\n    if (forceRefresh === void 0) { forceRefresh = false; }\n    var CSS = windowObj.CSS;\n    var supportsCssVars = supportsCssVariables_;\n    if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n        return supportsCssVariables_;\n    }\n    var supportsFunctionPresent = CSS && typeof CSS.supports === 'function';\n    if (!supportsFunctionPresent) {\n        return false;\n    }\n    var explicitlySupportsCssVars = CSS.supports('--css-vars', 'yes');\n    // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n    // See: README section on Safari\n    var weAreFeatureDetectingSafari10plus = (CSS.supports('(--css-vars: yes)') &&\n        CSS.supports('color', '#00000000'));\n    if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n        supportsCssVars = !detectEdgePseudoVarBug(windowObj);\n    }\n    else {\n        supportsCssVars = false;\n    }\n    if (!forceRefresh) {\n        supportsCssVariables_ = supportsCssVars;\n    }\n    return supportsCssVars;\n}\nexport function getNormalizedEventCoords(evt, pageOffset, clientRect) {\n    if (!evt) {\n        return { x: 0, y: 0 };\n    }\n    var x = pageOffset.x, y = pageOffset.y;\n    var documentX = x + clientRect.left;\n    var documentY = y + clientRect.top;\n    var normalizedX;\n    var normalizedY;\n    // Determine touch point relative to the ripple container.\n    if (evt.type === 'touchstart') {\n        var touchEvent = evt;\n        normalizedX = touchEvent.changedTouches[0].pageX - documentX;\n        normalizedY = touchEvent.changedTouches[0].pageY - documentY;\n    }\n    else {\n        var mouseEvent = evt;\n        normalizedX = mouseEvent.pageX - documentX;\n        normalizedY = mouseEvent.pageY - documentY;\n    }\n    return { x: normalizedX, y: normalizedY };\n}\n//# sourceMappingURL=util.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nimport { getNormalizedEventCoords } from './util';\n// Activation events registered on the root element of each instance for activation\nvar ACTIVATION_EVENT_TYPES = [\n    'touchstart', 'pointerdown', 'mousedown', 'keydown',\n];\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nvar POINTER_DEACTIVATION_EVENT_TYPES = [\n    'touchend', 'pointerup', 'mouseup', 'contextmenu',\n];\n// simultaneous nested activations\nvar activatedTargets = [];\nvar MDCRippleFoundation = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCRippleFoundation, _super);\n    function MDCRippleFoundation(adapter) {\n        var _this = _super.call(this, tslib_1.__assign({}, MDCRippleFoundation.defaultAdapter, adapter)) || this;\n        _this.activationAnimationHasEnded_ = false;\n        _this.activationTimer_ = 0;\n        _this.fgDeactivationRemovalTimer_ = 0;\n        _this.fgScale_ = '0';\n        _this.frame_ = { width: 0, height: 0 };\n        _this.initialSize_ = 0;\n        _this.layoutFrame_ = 0;\n        _this.maxRadius_ = 0;\n        _this.unboundedCoords_ = { left: 0, top: 0 };\n        _this.activationState_ = _this.defaultActivationState_();\n        _this.activationTimerCallback_ = function () {\n            _this.activationAnimationHasEnded_ = true;\n            _this.runDeactivationUXLogicIfReady_();\n        };\n        _this.activateHandler_ = function (e) { return _this.activate_(e); };\n        _this.deactivateHandler_ = function () { return _this.deactivate_(); };\n        _this.focusHandler_ = function () { return _this.handleFocus(); };\n        _this.blurHandler_ = function () { return _this.handleBlur(); };\n        _this.resizeHandler_ = function () { return _this.layout(); };\n        return _this;\n    }\n    Object.defineProperty(MDCRippleFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCRippleFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCRippleFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCRippleFoundation, \"defaultAdapter\", {\n        get: function () {\n            return {\n                addClass: function () { return undefined; },\n                browserSupportsCssVars: function () { return true; },\n                computeBoundingRect: function () { return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 }); },\n                containsEventTarget: function () { return true; },\n                deregisterDocumentInteractionHandler: function () { return undefined; },\n                deregisterInteractionHandler: function () { return undefined; },\n                deregisterResizeHandler: function () { return undefined; },\n                getWindowPageOffset: function () { return ({ x: 0, y: 0 }); },\n                isSurfaceActive: function () { return true; },\n                isSurfaceDisabled: function () { return true; },\n                isUnbounded: function () { return true; },\n                registerDocumentInteractionHandler: function () { return undefined; },\n                registerInteractionHandler: function () { return undefined; },\n                registerResizeHandler: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                updateCssVariable: function () { return undefined; },\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCRippleFoundation.prototype.init = function () {\n        var _this = this;\n        var supportsPressRipple = this.supportsPressRipple_();\n        this.registerRootHandlers_(supportsPressRipple);\n        if (supportsPressRipple) {\n            var _a = MDCRippleFoundation.cssClasses, ROOT_1 = _a.ROOT, UNBOUNDED_1 = _a.UNBOUNDED;\n            requestAnimationFrame(function () {\n                _this.adapter_.addClass(ROOT_1);\n                if (_this.adapter_.isUnbounded()) {\n                    _this.adapter_.addClass(UNBOUNDED_1);\n                    // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n                    _this.layoutInternal_();\n                }\n            });\n        }\n    };\n    MDCRippleFoundation.prototype.destroy = function () {\n        var _this = this;\n        if (this.supportsPressRipple_()) {\n            if (this.activationTimer_) {\n                clearTimeout(this.activationTimer_);\n                this.activationTimer_ = 0;\n                this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n            }\n            if (this.fgDeactivationRemovalTimer_) {\n                clearTimeout(this.fgDeactivationRemovalTimer_);\n                this.fgDeactivationRemovalTimer_ = 0;\n                this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n            }\n            var _a = MDCRippleFoundation.cssClasses, ROOT_2 = _a.ROOT, UNBOUNDED_2 = _a.UNBOUNDED;\n            requestAnimationFrame(function () {\n                _this.adapter_.removeClass(ROOT_2);\n                _this.adapter_.removeClass(UNBOUNDED_2);\n                _this.removeCssVars_();\n            });\n        }\n        this.deregisterRootHandlers_();\n        this.deregisterDeactivationHandlers_();\n    };\n    /**\n     * @param evt Optional event containing position information.\n     */\n    MDCRippleFoundation.prototype.activate = function (evt) {\n        this.activate_(evt);\n    };\n    MDCRippleFoundation.prototype.deactivate = function () {\n        this.deactivate_();\n    };\n    MDCRippleFoundation.prototype.layout = function () {\n        var _this = this;\n        if (this.layoutFrame_) {\n            cancelAnimationFrame(this.layoutFrame_);\n        }\n        this.layoutFrame_ = requestAnimationFrame(function () {\n            _this.layoutInternal_();\n            _this.layoutFrame_ = 0;\n        });\n    };\n    MDCRippleFoundation.prototype.setUnbounded = function (unbounded) {\n        var UNBOUNDED = MDCRippleFoundation.cssClasses.UNBOUNDED;\n        if (unbounded) {\n            this.adapter_.addClass(UNBOUNDED);\n        }\n        else {\n            this.adapter_.removeClass(UNBOUNDED);\n        }\n    };\n    MDCRippleFoundation.prototype.handleFocus = function () {\n        var _this = this;\n        requestAnimationFrame(function () {\n            return _this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);\n        });\n    };\n    MDCRippleFoundation.prototype.handleBlur = function () {\n        var _this = this;\n        requestAnimationFrame(function () {\n            return _this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);\n        });\n    };\n    /**\n     * We compute this property so that we are not querying information about the client\n     * until the point in time where the foundation requests it. This prevents scenarios where\n     * client-side feature-detection may happen too early, such as when components are rendered on the server\n     * and then initialized at mount time on the client.\n     */\n    MDCRippleFoundation.prototype.supportsPressRipple_ = function () {\n        return this.adapter_.browserSupportsCssVars();\n    };\n    MDCRippleFoundation.prototype.defaultActivationState_ = function () {\n        return {\n            activationEvent: undefined,\n            hasDeactivationUXRun: false,\n            isActivated: false,\n            isProgrammatic: false,\n            wasActivatedByPointer: false,\n            wasElementMadeActive: false,\n        };\n    };\n    /**\n     * supportsPressRipple Passed from init to save a redundant function call\n     */\n    MDCRippleFoundation.prototype.registerRootHandlers_ = function (supportsPressRipple) {\n        var _this = this;\n        if (supportsPressRipple) {\n            ACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n                _this.adapter_.registerInteractionHandler(evtType, _this.activateHandler_);\n            });\n            if (this.adapter_.isUnbounded()) {\n                this.adapter_.registerResizeHandler(this.resizeHandler_);\n            }\n        }\n        this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n    };\n    MDCRippleFoundation.prototype.registerDeactivationHandlers_ = function (evt) {\n        var _this = this;\n        if (evt.type === 'keydown') {\n            this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n        }\n        else {\n            POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n                _this.adapter_.registerDocumentInteractionHandler(evtType, _this.deactivateHandler_);\n            });\n        }\n    };\n    MDCRippleFoundation.prototype.deregisterRootHandlers_ = function () {\n        var _this = this;\n        ACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n            _this.adapter_.deregisterInteractionHandler(evtType, _this.activateHandler_);\n        });\n        this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n        if (this.adapter_.isUnbounded()) {\n            this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n        }\n    };\n    MDCRippleFoundation.prototype.deregisterDeactivationHandlers_ = function () {\n        var _this = this;\n        this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n        POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {\n            _this.adapter_.deregisterDocumentInteractionHandler(evtType, _this.deactivateHandler_);\n        });\n    };\n    MDCRippleFoundation.prototype.removeCssVars_ = function () {\n        var _this = this;\n        var rippleStrings = MDCRippleFoundation.strings;\n        var keys = Object.keys(rippleStrings);\n        keys.forEach(function (key) {\n            if (key.indexOf('VAR_') === 0) {\n                _this.adapter_.updateCssVariable(rippleStrings[key], null);\n            }\n        });\n    };\n    MDCRippleFoundation.prototype.activate_ = function (evt) {\n        var _this = this;\n        if (this.adapter_.isSurfaceDisabled()) {\n            return;\n        }\n        var activationState = this.activationState_;\n        if (activationState.isActivated) {\n            return;\n        }\n        // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n        var previousActivationEvent = this.previousActivationEvent_;\n        var isSameInteraction = previousActivationEvent && evt !== undefined && previousActivationEvent.type !== evt.type;\n        if (isSameInteraction) {\n            return;\n        }\n        activationState.isActivated = true;\n        activationState.isProgrammatic = evt === undefined;\n        activationState.activationEvent = evt;\n        activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : evt !== undefined && (evt.type === 'mousedown' || evt.type === 'touchstart' || evt.type === 'pointerdown');\n        var hasActivatedChild = evt !== undefined && activatedTargets.length > 0 && activatedTargets.some(function (target) { return _this.adapter_.containsEventTarget(target); });\n        if (hasActivatedChild) {\n            // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n            this.resetActivationState_();\n            return;\n        }\n        if (evt !== undefined) {\n            activatedTargets.push(evt.target);\n            this.registerDeactivationHandlers_(evt);\n        }\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(evt);\n        if (activationState.wasElementMadeActive) {\n            this.animateActivation_();\n        }\n        requestAnimationFrame(function () {\n            // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n            activatedTargets = [];\n            if (!activationState.wasElementMadeActive\n                && evt !== undefined\n                && (evt.key === ' ' || evt.keyCode === 32)) {\n                // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n                // active states inconsistently when they're called within event handling code:\n                // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n                // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n                // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n                // variable is set within a rAF callback for a submit button interaction (#2241).\n                activationState.wasElementMadeActive = _this.checkElementMadeActive_(evt);\n                if (activationState.wasElementMadeActive) {\n                    _this.animateActivation_();\n                }\n            }\n            if (!activationState.wasElementMadeActive) {\n                // Reset activation state immediately if element was not made active.\n                _this.activationState_ = _this.defaultActivationState_();\n            }\n        });\n    };\n    MDCRippleFoundation.prototype.checkElementMadeActive_ = function (evt) {\n        return (evt !== undefined && evt.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n    };\n    MDCRippleFoundation.prototype.animateActivation_ = function () {\n        var _this = this;\n        var _a = MDCRippleFoundation.strings, VAR_FG_TRANSLATE_START = _a.VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END = _a.VAR_FG_TRANSLATE_END;\n        var _b = MDCRippleFoundation.cssClasses, FG_DEACTIVATION = _b.FG_DEACTIVATION, FG_ACTIVATION = _b.FG_ACTIVATION;\n        var DEACTIVATION_TIMEOUT_MS = MDCRippleFoundation.numbers.DEACTIVATION_TIMEOUT_MS;\n        this.layoutInternal_();\n        var translateStart = '';\n        var translateEnd = '';\n        if (!this.adapter_.isUnbounded()) {\n            var _c = this.getFgTranslationCoordinates_(), startPoint = _c.startPoint, endPoint = _c.endPoint;\n            translateStart = startPoint.x + \"px, \" + startPoint.y + \"px\";\n            translateEnd = endPoint.x + \"px, \" + endPoint.y + \"px\";\n        }\n        this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n        this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n        // Cancel any ongoing activation/deactivation animations\n        clearTimeout(this.activationTimer_);\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.rmBoundedActivationClasses_();\n        this.adapter_.removeClass(FG_DEACTIVATION);\n        // Force layout in order to re-trigger the animation.\n        this.adapter_.computeBoundingRect();\n        this.adapter_.addClass(FG_ACTIVATION);\n        this.activationTimer_ = setTimeout(function () { return _this.activationTimerCallback_(); }, DEACTIVATION_TIMEOUT_MS);\n    };\n    MDCRippleFoundation.prototype.getFgTranslationCoordinates_ = function () {\n        var _a = this.activationState_, activationEvent = _a.activationEvent, wasActivatedByPointer = _a.wasActivatedByPointer;\n        var startPoint;\n        if (wasActivatedByPointer) {\n            startPoint = getNormalizedEventCoords(activationEvent, this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect());\n        }\n        else {\n            startPoint = {\n                x: this.frame_.width / 2,\n                y: this.frame_.height / 2,\n            };\n        }\n        // Center the element around the start point.\n        startPoint = {\n            x: startPoint.x - (this.initialSize_ / 2),\n            y: startPoint.y - (this.initialSize_ / 2),\n        };\n        var endPoint = {\n            x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n            y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n        };\n        return { startPoint: startPoint, endPoint: endPoint };\n    };\n    MDCRippleFoundation.prototype.runDeactivationUXLogicIfReady_ = function () {\n        var _this = this;\n        // This method is called both when a pointing device is released, and when the activation animation ends.\n        // The deactivation animation should only run after both of those occur.\n        var FG_DEACTIVATION = MDCRippleFoundation.cssClasses.FG_DEACTIVATION;\n        var _a = this.activationState_, hasDeactivationUXRun = _a.hasDeactivationUXRun, isActivated = _a.isActivated;\n        var activationHasEnded = hasDeactivationUXRun || !isActivated;\n        if (activationHasEnded && this.activationAnimationHasEnded_) {\n            this.rmBoundedActivationClasses_();\n            this.adapter_.addClass(FG_DEACTIVATION);\n            this.fgDeactivationRemovalTimer_ = setTimeout(function () {\n                _this.adapter_.removeClass(FG_DEACTIVATION);\n            }, numbers.FG_DEACTIVATION_MS);\n        }\n    };\n    MDCRippleFoundation.prototype.rmBoundedActivationClasses_ = function () {\n        var FG_ACTIVATION = MDCRippleFoundation.cssClasses.FG_ACTIVATION;\n        this.adapter_.removeClass(FG_ACTIVATION);\n        this.activationAnimationHasEnded_ = false;\n        this.adapter_.computeBoundingRect();\n    };\n    MDCRippleFoundation.prototype.resetActivationState_ = function () {\n        var _this = this;\n        this.previousActivationEvent_ = this.activationState_.activationEvent;\n        this.activationState_ = this.defaultActivationState_();\n        // Touch devices may fire additional events for the same interaction within a short time.\n        // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n        setTimeout(function () { return _this.previousActivationEvent_ = undefined; }, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n    };\n    MDCRippleFoundation.prototype.deactivate_ = function () {\n        var _this = this;\n        var activationState = this.activationState_;\n        // This can happen in scenarios such as when you have a keyup event that blurs the element.\n        if (!activationState.isActivated) {\n            return;\n        }\n        var state = tslib_1.__assign({}, activationState);\n        if (activationState.isProgrammatic) {\n            requestAnimationFrame(function () { return _this.animateDeactivation_(state); });\n            this.resetActivationState_();\n        }\n        else {\n            this.deregisterDeactivationHandlers_();\n            requestAnimationFrame(function () {\n                _this.activationState_.hasDeactivationUXRun = true;\n                _this.animateDeactivation_(state);\n                _this.resetActivationState_();\n            });\n        }\n    };\n    MDCRippleFoundation.prototype.animateDeactivation_ = function (_a) {\n        var wasActivatedByPointer = _a.wasActivatedByPointer, wasElementMadeActive = _a.wasElementMadeActive;\n        if (wasActivatedByPointer || wasElementMadeActive) {\n            this.runDeactivationUXLogicIfReady_();\n        }\n    };\n    MDCRippleFoundation.prototype.layoutInternal_ = function () {\n        var _this = this;\n        this.frame_ = this.adapter_.computeBoundingRect();\n        var maxDim = Math.max(this.frame_.height, this.frame_.width);\n        // Surface diameter is treated differently for unbounded vs. bounded ripples.\n        // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n        // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n        // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n        // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n        // `overflow: hidden`.\n        var getBoundedRadius = function () {\n            var hypotenuse = Math.sqrt(Math.pow(_this.frame_.width, 2) + Math.pow(_this.frame_.height, 2));\n            return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n        };\n        this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n        // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n        this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n        this.fgScale_ = \"\" + this.maxRadius_ / this.initialSize_;\n        this.updateLayoutCssVars_();\n    };\n    MDCRippleFoundation.prototype.updateLayoutCssVars_ = function () {\n        var _a = MDCRippleFoundation.strings, VAR_FG_SIZE = _a.VAR_FG_SIZE, VAR_LEFT = _a.VAR_LEFT, VAR_TOP = _a.VAR_TOP, VAR_FG_SCALE = _a.VAR_FG_SCALE;\n        this.adapter_.updateCssVariable(VAR_FG_SIZE, this.initialSize_ + \"px\");\n        this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n        if (this.adapter_.isUnbounded()) {\n            this.unboundedCoords_ = {\n                left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n                top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n            };\n            this.adapter_.updateCssVariable(VAR_LEFT, this.unboundedCoords_.left + \"px\");\n            this.adapter_.updateCssVariable(VAR_TOP, this.unboundedCoords_.top + \"px\");\n        }\n    };\n    return MDCRippleFoundation;\n}(MDCFoundation));\nexport { MDCRippleFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCRippleFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { applyPassive } from '@material/dom/events';\nimport { matches } from '@material/dom/ponyfill';\nimport { MDCRippleFoundation } from './foundation';\nimport * as util from './util';\nvar MDCRipple = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCRipple, _super);\n    function MDCRipple() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.disabled = false;\n        return _this;\n    }\n    MDCRipple.attachTo = function (root, opts) {\n        if (opts === void 0) { opts = { isUnbounded: undefined }; }\n        var ripple = new MDCRipple(root);\n        // Only override unbounded behavior if option is explicitly specified\n        if (opts.isUnbounded !== undefined) {\n            ripple.unbounded = opts.isUnbounded;\n        }\n        return ripple;\n    };\n    MDCRipple.createAdapter = function (instance) {\n        return {\n            addClass: function (className) { return instance.root_.classList.add(className); },\n            browserSupportsCssVars: function () { return util.supportsCssVariables(window); },\n            computeBoundingRect: function () { return instance.root_.getBoundingClientRect(); },\n            containsEventTarget: function (target) { return instance.root_.contains(target); },\n            deregisterDocumentInteractionHandler: function (evtType, handler) {\n                return document.documentElement.removeEventListener(evtType, handler, applyPassive());\n            },\n            deregisterInteractionHandler: function (evtType, handler) {\n                return instance.root_.removeEventListener(evtType, handler, applyPassive());\n            },\n            deregisterResizeHandler: function (handler) { return window.removeEventListener('resize', handler); },\n            getWindowPageOffset: function () { return ({ x: window.pageXOffset, y: window.pageYOffset }); },\n            isSurfaceActive: function () { return matches(instance.root_, ':active'); },\n            isSurfaceDisabled: function () { return Boolean(instance.disabled); },\n            isUnbounded: function () { return Boolean(instance.unbounded); },\n            registerDocumentInteractionHandler: function (evtType, handler) {\n                return document.documentElement.addEventListener(evtType, handler, applyPassive());\n            },\n            registerInteractionHandler: function (evtType, handler) {\n                return instance.root_.addEventListener(evtType, handler, applyPassive());\n            },\n            registerResizeHandler: function (handler) { return window.addEventListener('resize', handler); },\n            removeClass: function (className) { return instance.root_.classList.remove(className); },\n            updateCssVariable: function (varName, value) { return instance.root_.style.setProperty(varName, value); },\n        };\n    };\n    Object.defineProperty(MDCRipple.prototype, \"unbounded\", {\n        get: function () {\n            return Boolean(this.unbounded_);\n        },\n        set: function (unbounded) {\n            this.unbounded_ = Boolean(unbounded);\n            this.setUnbounded_();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCRipple.prototype.activate = function () {\n        this.foundation_.activate();\n    };\n    MDCRipple.prototype.deactivate = function () {\n        this.foundation_.deactivate();\n    };\n    MDCRipple.prototype.layout = function () {\n        this.foundation_.layout();\n    };\n    MDCRipple.prototype.getDefaultFoundation = function () {\n        return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n    };\n    MDCRipple.prototype.initialSyncWithDOM = function () {\n        var root = this.root_;\n        this.unbounded = 'mdcRippleIsUnbounded' in root.dataset;\n    };\n    /**\n     * Closure Compiler throws an access control error when directly accessing a\n     * protected or private property inside a getter/setter, like unbounded above.\n     * By accessing the protected property inside a method, we solve that problem.\n     * That's why this function exists.\n     */\n    MDCRipple.prototype.setUnbounded_ = function () {\n        this.foundation_.setUnbounded(Boolean(this.unbounded_));\n    };\n    return MDCRipple;\n}(MDCComponent));\nexport { MDCRipple };\n//# sourceMappingURL=component.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nexport var cssClasses = {\n    CLOSING: 'mdc-dialog--closing',\n    OPEN: 'mdc-dialog--open',\n    OPENING: 'mdc-dialog--opening',\n    SCROLLABLE: 'mdc-dialog--scrollable',\n    SCROLL_LOCK: 'mdc-dialog-scroll-lock',\n    STACKED: 'mdc-dialog--stacked',\n};\nexport var strings = {\n    ACTION_ATTRIBUTE: 'data-mdc-dialog-action',\n    BUTTON_DEFAULT_ATTRIBUTE: 'data-mdc-dialog-button-default',\n    BUTTON_SELECTOR: '.mdc-dialog__button',\n    CLOSED_EVENT: 'MDCDialog:closed',\n    CLOSE_ACTION: 'close',\n    CLOSING_EVENT: 'MDCDialog:closing',\n    CONTAINER_SELECTOR: '.mdc-dialog__container',\n    CONTENT_SELECTOR: '.mdc-dialog__content',\n    DESTROY_ACTION: 'destroy',\n    INITIAL_FOCUS_ATTRIBUTE: 'data-mdc-dialog-initial-focus',\n    OPENED_EVENT: 'MDCDialog:opened',\n    OPENING_EVENT: 'MDCDialog:opening',\n    SCRIM_SELECTOR: '.mdc-dialog__scrim',\n    SUPPRESS_DEFAULT_PRESS_SELECTOR: [\n        'textarea',\n        '.mdc-menu .mdc-list-item',\n    ].join(', '),\n    SURFACE_SELECTOR: '.mdc-dialog__surface',\n};\nexport var numbers = {\n    DIALOG_ANIMATION_CLOSE_TIME_MS: 75,\n    DIALOG_ANIMATION_OPEN_TIME_MS: 150,\n};\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar MDCDialogFoundation = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCDialogFoundation, _super);\n    function MDCDialogFoundation(adapter) {\n        var _this = _super.call(this, tslib_1.__assign({}, MDCDialogFoundation.defaultAdapter, adapter)) || this;\n        _this.isOpen_ = false;\n        _this.animationFrame_ = 0;\n        _this.animationTimer_ = 0;\n        _this.layoutFrame_ = 0;\n        _this.escapeKeyAction_ = strings.CLOSE_ACTION;\n        _this.scrimClickAction_ = strings.CLOSE_ACTION;\n        _this.autoStackButtons_ = true;\n        _this.areButtonsStacked_ = false;\n        return _this;\n    }\n    Object.defineProperty(MDCDialogFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialogFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialogFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialogFoundation, \"defaultAdapter\", {\n        get: function () {\n            return {\n                addBodyClass: function () { return undefined; },\n                addClass: function () { return undefined; },\n                areButtonsStacked: function () { return false; },\n                clickDefaultButton: function () { return undefined; },\n                eventTargetMatches: function () { return false; },\n                getActionFromEvent: function () { return ''; },\n                getInitialFocusEl: function () { return null; },\n                hasClass: function () { return false; },\n                isContentScrollable: function () { return false; },\n                notifyClosed: function () { return undefined; },\n                notifyClosing: function () { return undefined; },\n                notifyOpened: function () { return undefined; },\n                notifyOpening: function () { return undefined; },\n                releaseFocus: function () { return undefined; },\n                removeBodyClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                reverseButtons: function () { return undefined; },\n                trapFocus: function () { return undefined; },\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCDialogFoundation.prototype.init = function () {\n        if (this.adapter_.hasClass(cssClasses.STACKED)) {\n            this.setAutoStackButtons(false);\n        }\n    };\n    MDCDialogFoundation.prototype.destroy = function () {\n        if (this.isOpen_) {\n            this.close(strings.DESTROY_ACTION);\n        }\n        if (this.animationTimer_) {\n            clearTimeout(this.animationTimer_);\n            this.handleAnimationTimerEnd_();\n        }\n        if (this.layoutFrame_) {\n            cancelAnimationFrame(this.layoutFrame_);\n            this.layoutFrame_ = 0;\n        }\n    };\n    MDCDialogFoundation.prototype.open = function () {\n        var _this = this;\n        this.isOpen_ = true;\n        this.adapter_.notifyOpening();\n        this.adapter_.addClass(cssClasses.OPENING);\n        // Wait a frame once display is no longer \"none\", to establish basis for animation\n        this.runNextAnimationFrame_(function () {\n            _this.adapter_.addClass(cssClasses.OPEN);\n            _this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK);\n            _this.layout();\n            _this.animationTimer_ = setTimeout(function () {\n                _this.handleAnimationTimerEnd_();\n                _this.adapter_.trapFocus(_this.adapter_.getInitialFocusEl());\n                _this.adapter_.notifyOpened();\n            }, numbers.DIALOG_ANIMATION_OPEN_TIME_MS);\n        });\n    };\n    MDCDialogFoundation.prototype.close = function (action) {\n        var _this = this;\n        if (action === void 0) { action = ''; }\n        if (!this.isOpen_) {\n            // Avoid redundant close calls (and events), e.g. from keydown on elements that inherently emit click\n            return;\n        }\n        this.isOpen_ = false;\n        this.adapter_.notifyClosing(action);\n        this.adapter_.addClass(cssClasses.CLOSING);\n        this.adapter_.removeClass(cssClasses.OPEN);\n        this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK);\n        cancelAnimationFrame(this.animationFrame_);\n        this.animationFrame_ = 0;\n        clearTimeout(this.animationTimer_);\n        this.animationTimer_ = setTimeout(function () {\n            _this.adapter_.releaseFocus();\n            _this.handleAnimationTimerEnd_();\n            _this.adapter_.notifyClosed(action);\n        }, numbers.DIALOG_ANIMATION_CLOSE_TIME_MS);\n    };\n    MDCDialogFoundation.prototype.isOpen = function () {\n        return this.isOpen_;\n    };\n    MDCDialogFoundation.prototype.getEscapeKeyAction = function () {\n        return this.escapeKeyAction_;\n    };\n    MDCDialogFoundation.prototype.setEscapeKeyAction = function (action) {\n        this.escapeKeyAction_ = action;\n    };\n    MDCDialogFoundation.prototype.getScrimClickAction = function () {\n        return this.scrimClickAction_;\n    };\n    MDCDialogFoundation.prototype.setScrimClickAction = function (action) {\n        this.scrimClickAction_ = action;\n    };\n    MDCDialogFoundation.prototype.getAutoStackButtons = function () {\n        return this.autoStackButtons_;\n    };\n    MDCDialogFoundation.prototype.setAutoStackButtons = function (autoStack) {\n        this.autoStackButtons_ = autoStack;\n    };\n    MDCDialogFoundation.prototype.layout = function () {\n        var _this = this;\n        if (this.layoutFrame_) {\n            cancelAnimationFrame(this.layoutFrame_);\n        }\n        this.layoutFrame_ = requestAnimationFrame(function () {\n            _this.layoutInternal_();\n            _this.layoutFrame_ = 0;\n        });\n    };\n    /** Handles click on the dialog root element. */\n    MDCDialogFoundation.prototype.handleClick = function (evt) {\n        var isScrim = this.adapter_.eventTargetMatches(evt.target, strings.SCRIM_SELECTOR);\n        // Check for scrim click first since it doesn't require querying ancestors.\n        if (isScrim && this.scrimClickAction_ !== '') {\n            this.close(this.scrimClickAction_);\n        }\n        else {\n            var action = this.adapter_.getActionFromEvent(evt);\n            if (action) {\n                this.close(action);\n            }\n        }\n    };\n    /** Handles keydown on the dialog root element. */\n    MDCDialogFoundation.prototype.handleKeydown = function (evt) {\n        var isEnter = evt.key === 'Enter' || evt.keyCode === 13;\n        if (!isEnter) {\n            return;\n        }\n        var action = this.adapter_.getActionFromEvent(evt);\n        if (action) {\n            // Action button callback is handled in `handleClick`,\n            // since space/enter keydowns on buttons trigger click events.\n            return;\n        }\n        var isDefault = !this.adapter_.eventTargetMatches(evt.target, strings.SUPPRESS_DEFAULT_PRESS_SELECTOR);\n        if (isEnter && isDefault) {\n            this.adapter_.clickDefaultButton();\n        }\n    };\n    /** Handles keydown on the document. */\n    MDCDialogFoundation.prototype.handleDocumentKeydown = function (evt) {\n        var isEscape = evt.key === 'Escape' || evt.keyCode === 27;\n        if (isEscape && this.escapeKeyAction_ !== '') {\n            this.close(this.escapeKeyAction_);\n        }\n    };\n    MDCDialogFoundation.prototype.layoutInternal_ = function () {\n        if (this.autoStackButtons_) {\n            this.detectStackedButtons_();\n        }\n        this.detectScrollableContent_();\n    };\n    MDCDialogFoundation.prototype.handleAnimationTimerEnd_ = function () {\n        this.animationTimer_ = 0;\n        this.adapter_.removeClass(cssClasses.OPENING);\n        this.adapter_.removeClass(cssClasses.CLOSING);\n    };\n    /**\n     * Runs the given logic on the next animation frame, using setTimeout to factor in Firefox reflow behavior.\n     */\n    MDCDialogFoundation.prototype.runNextAnimationFrame_ = function (callback) {\n        var _this = this;\n        cancelAnimationFrame(this.animationFrame_);\n        this.animationFrame_ = requestAnimationFrame(function () {\n            _this.animationFrame_ = 0;\n            clearTimeout(_this.animationTimer_);\n            _this.animationTimer_ = setTimeout(callback, 0);\n        });\n    };\n    MDCDialogFoundation.prototype.detectStackedButtons_ = function () {\n        // Remove the class first to let us measure the buttons' natural positions.\n        this.adapter_.removeClass(cssClasses.STACKED);\n        var areButtonsStacked = this.adapter_.areButtonsStacked();\n        if (areButtonsStacked) {\n            this.adapter_.addClass(cssClasses.STACKED);\n        }\n        if (areButtonsStacked !== this.areButtonsStacked_) {\n            this.adapter_.reverseButtons();\n            this.areButtonsStacked_ = areButtonsStacked;\n        }\n    };\n    MDCDialogFoundation.prototype.detectScrollableContent_ = function () {\n        // Remove the class first to let us measure the natural height of the content.\n        this.adapter_.removeClass(cssClasses.SCROLLABLE);\n        if (this.adapter_.isContentScrollable()) {\n            this.adapter_.addClass(cssClasses.SCROLLABLE);\n        }\n    };\n    return MDCDialogFoundation;\n}(MDCFoundation));\nexport { MDCDialogFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCDialogFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { closest, matches } from '@material/dom/ponyfill';\nimport { MDCRipple } from '@material/ripple/component';\nimport { MDCDialogFoundation } from './foundation';\nimport * as util from './util';\nvar strings = MDCDialogFoundation.strings;\nvar MDCDialog = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCDialog, _super);\n    function MDCDialog() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(MDCDialog.prototype, \"isOpen\", {\n        get: function () {\n            return this.foundation_.isOpen();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialog.prototype, \"escapeKeyAction\", {\n        get: function () {\n            return this.foundation_.getEscapeKeyAction();\n        },\n        set: function (action) {\n            this.foundation_.setEscapeKeyAction(action);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialog.prototype, \"scrimClickAction\", {\n        get: function () {\n            return this.foundation_.getScrimClickAction();\n        },\n        set: function (action) {\n            this.foundation_.setScrimClickAction(action);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCDialog.prototype, \"autoStackButtons\", {\n        get: function () {\n            return this.foundation_.getAutoStackButtons();\n        },\n        set: function (autoStack) {\n            this.foundation_.setAutoStackButtons(autoStack);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCDialog.attachTo = function (root) {\n        return new MDCDialog(root);\n    };\n    MDCDialog.prototype.initialize = function (focusTrapFactory) {\n        var e_1, _a;\n        var container = this.root_.querySelector(strings.CONTAINER_SELECTOR);\n        if (!container) {\n            throw new Error(\"Dialog component requires a \" + strings.CONTAINER_SELECTOR + \" container element\");\n        }\n        this.container_ = container;\n        this.content_ = this.root_.querySelector(strings.CONTENT_SELECTOR);\n        this.buttons_ = [].slice.call(this.root_.querySelectorAll(strings.BUTTON_SELECTOR));\n        this.defaultButton_ = this.root_.querySelector(\"[\" + strings.BUTTON_DEFAULT_ATTRIBUTE + \"]\");\n        this.focusTrapFactory_ = focusTrapFactory;\n        this.buttonRipples_ = [];\n        try {\n            for (var _b = tslib_1.__values(this.buttons_), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var buttonEl = _c.value;\n                this.buttonRipples_.push(new MDCRipple(buttonEl));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    MDCDialog.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        this.focusTrap_ = util.createFocusTrapInstance(this.container_, this.focusTrapFactory_, this.getInitialFocusEl_() || undefined);\n        this.handleClick_ = this.foundation_.handleClick.bind(this.foundation_);\n        this.handleKeydown_ = this.foundation_.handleKeydown.bind(this.foundation_);\n        this.handleDocumentKeydown_ = this.foundation_.handleDocumentKeydown.bind(this.foundation_);\n        this.handleLayout_ = this.layout.bind(this);\n        var LAYOUT_EVENTS = ['resize', 'orientationchange'];\n        this.handleOpening_ = function () {\n            LAYOUT_EVENTS.forEach(function (evtType) { return window.addEventListener(evtType, _this.handleLayout_); });\n            document.addEventListener('keydown', _this.handleDocumentKeydown_);\n        };\n        this.handleClosing_ = function () {\n            LAYOUT_EVENTS.forEach(function (evtType) { return window.removeEventListener(evtType, _this.handleLayout_); });\n            document.removeEventListener('keydown', _this.handleDocumentKeydown_);\n        };\n        this.listen('click', this.handleClick_);\n        this.listen('keydown', this.handleKeydown_);\n        this.listen(strings.OPENING_EVENT, this.handleOpening_);\n        this.listen(strings.CLOSING_EVENT, this.handleClosing_);\n    };\n    MDCDialog.prototype.destroy = function () {\n        this.unlisten('click', this.handleClick_);\n        this.unlisten('keydown', this.handleKeydown_);\n        this.unlisten(strings.OPENING_EVENT, this.handleOpening_);\n        this.unlisten(strings.CLOSING_EVENT, this.handleClosing_);\n        this.handleClosing_();\n        this.buttonRipples_.forEach(function (ripple) { return ripple.destroy(); });\n        _super.prototype.destroy.call(this);\n    };\n    MDCDialog.prototype.layout = function () {\n        this.foundation_.layout();\n    };\n    MDCDialog.prototype.open = function () {\n        this.foundation_.open();\n    };\n    MDCDialog.prototype.close = function (action) {\n        if (action === void 0) { action = ''; }\n        this.foundation_.close(action);\n    };\n    MDCDialog.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        var adapter = {\n            addBodyClass: function (className) { return document.body.classList.add(className); },\n            addClass: function (className) { return _this.root_.classList.add(className); },\n            areButtonsStacked: function () { return util.areTopsMisaligned(_this.buttons_); },\n            clickDefaultButton: function () { return _this.defaultButton_ && _this.defaultButton_.click(); },\n            eventTargetMatches: function (target, selector) { return target ? matches(target, selector) : false; },\n            getActionFromEvent: function (evt) {\n                if (!evt.target) {\n                    return '';\n                }\n                var element = closest(evt.target, \"[\" + strings.ACTION_ATTRIBUTE + \"]\");\n                return element && element.getAttribute(strings.ACTION_ATTRIBUTE);\n            },\n            getInitialFocusEl: function () { return _this.getInitialFocusEl_(); },\n            hasClass: function (className) { return _this.root_.classList.contains(className); },\n            isContentScrollable: function () { return util.isScrollable(_this.content_); },\n            notifyClosed: function (action) { return _this.emit(strings.CLOSED_EVENT, action ? { action: action } : {}); },\n            notifyClosing: function (action) { return _this.emit(strings.CLOSING_EVENT, action ? { action: action } : {}); },\n            notifyOpened: function () { return _this.emit(strings.OPENED_EVENT, {}); },\n            notifyOpening: function () { return _this.emit(strings.OPENING_EVENT, {}); },\n            releaseFocus: function () { return _this.focusTrap_.deactivate(); },\n            removeBodyClass: function (className) { return document.body.classList.remove(className); },\n            removeClass: function (className) { return _this.root_.classList.remove(className); },\n            reverseButtons: function () {\n                _this.buttons_.reverse();\n                _this.buttons_.forEach(function (button) {\n                    button.parentElement.appendChild(button);\n                });\n            },\n            trapFocus: function () { return _this.focusTrap_.activate(); },\n        };\n        return new MDCDialogFoundation(adapter);\n    };\n    MDCDialog.prototype.getInitialFocusEl_ = function () {\n        return document.querySelector(\"[\" + strings.INITIAL_FOCUS_ATTRIBUTE + \"]\");\n    };\n    return MDCDialog;\n}(MDCComponent));\nexport { MDCDialog };\n//# sourceMappingURL=component.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { default as createFocusTrap } from 'focus-trap';\nexport function createFocusTrapInstance(surfaceEl, focusTrapFactory, initialFocusEl) {\n    if (focusTrapFactory === void 0) { focusTrapFactory = createFocusTrap; }\n    return focusTrapFactory(surfaceEl, {\n        clickOutsideDeactivates: true,\n        escapeDeactivates: false,\n        initialFocus: initialFocusEl,\n    });\n}\nexport function isScrollable(el) {\n    return el ? el.scrollHeight > el.offsetHeight : false;\n}\nexport function areTopsMisaligned(els) {\n    var tops = new Set();\n    [].forEach.call(els, function (el) { return tops.add(el.offsetTop); });\n    return tops.size > 1;\n}\n//# sourceMappingURL=util.js.map","<div\n  bind:this={element}\n  use:useActions={use}\n  use:forwardEvents\n  class=\"mdc-dialog {className}\"\n  role=\"alertdialog\"\n  aria-modal=\"true\"\n  on:MDCDialog:opened={handleDialogOpened}\n  {...exclude($$props, ['use', 'class'])}\n>\n  <div class=\"mdc-dialog__container\">\n    <div class=\"mdc-dialog__surface\">\n      <slot></slot>\n    </div>\n  </div>\n  <div class=\"mdc-dialog__scrim\"></div>\n</div>\n\n<script>\n  import {MDCDialog} from '@material/dialog';\n  import {onMount, onDestroy, getContext, setContext} from 'svelte';\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from '@smui/common/forwardEvents.js';\n  import {exclude} from '@smui/common/exclude.js';\n  import {useActions} from '@smui/common/useActions.js';\n\n  const forwardEvents = forwardEventsBuilder(get_current_component(), ['MDCDialog:opening', 'MDCDialog:opened', 'MDCDialog:closing', 'MDCDialog:closed']);\n\n  export let use = [];\n  let className = '';\n  export {className as class};\n  export let escapeKeyAction = 'close';\n  export let scrimClickAction = 'close';\n  export let autoStackButtons = true;\n\n  let element;\n  let dialog;\n  let addLayoutListener = getContext('SMUI:addLayoutListener');\n  let removeLayoutListener;\n  let layoutListeners = [];\n  let addLayoutListenerFn = listener => {\n    layoutListeners.push(listener);\n\n    return () => {\n      const idx = layoutListeners.indexOf(listener);\n      if (idx >= 0) {\n        layoutListeners.splice(idx, 1);\n      }\n    };\n  };\n\n  setContext('SMUI:addLayoutListener', addLayoutListenerFn);\n\n  $: dialog && (dialog.escapeKeyAction = escapeKeyAction);\n  $: dialog && (dialog.scrimClickAction = scrimClickAction);\n  $: dialog && (dialog.autoStackButtons = autoStackButtons);\n\n  if (addLayoutListener) {\n    removeLayoutListener = addLayoutListener(layout);\n  }\n\n  onMount(() => {\n    dialog = new MDCDialog(element);\n  });\n\n  onDestroy(() => {\n    dialog && dialog.destroy();\n\n    if (removeLayoutListener) {\n      removeLayoutListener();\n    }\n  });\n\n  function handleDialogOpened() {\n    layoutListeners.forEach(listener => listener());\n  }\n\n  export function open(...args) {\n    return dialog.open(...args);\n  }\n\n  export function close(...args) {\n    return dialog.close(...args);\n  }\n\n  export function isOpen() {\n    return dialog.isOpen;\n  }\n\n  export function layout(...args) {\n    return dialog.layout(...args);\n  }\n</script>\n","<svelte:component\n  this={component}\n  use={[forwardEvents, ...use]}\n  class=\"{smuiClass} {className}\"\n  {...exclude($$props, ['use', 'class', 'component', 'forwardEvents'])}\n><slot></slot></svelte:component>\n\n<script context=\"module\">\n  export const internals = {\n    component: null,\n    smuiClass: null,\n    contexts: {}\n  };\n</script>\n\n<script>\n  import {setContext} from 'svelte';\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from './forwardEvents.js';\n  import {exclude} from './exclude.js';\n  import {useActions} from './useActions.js';\n\n  export let use = [];\n  let className = '';\n  export {className as class};\n  export let component = internals.component;\n  let smuiForwardEvents = [];\n  export {smuiForwardEvents as forwardEvents};\n\n  const smuiClass = internals.class;\n  const contexts = internals.contexts;\n\n  const forwardEvents = forwardEventsBuilder(get_current_component(), smuiForwardEvents);\n\n  for (let context in contexts) {\n    if (contexts.hasOwnProperty(context)) {\n      setContext(context, contexts[context]);\n    }\n  }\n</script>\n","import ClassAdder, {internals} from './ClassAdder.svelte';\n\nexport function classAdderBuilder(props) {\n  function Component(...args) {\n    Object.assign(internals, props);\n    return new ClassAdder(...args);\n  }\n\n  Component.prototype = ClassAdder;\n\n  // SSR support\n  if (ClassAdder.$$render) {\n    Component.$$render = (...args) => Object.assign(internals, props) && ClassAdder.$$render(...args);\n  }\n  if (ClassAdder.render) {\n    Component.render = (...args) => Object.assign(internals, props) && ClassAdder.render(...args);\n  }\n\n  return Component;\n}","<h2\n  use:useActions={use}\n  use:forwardEvents\n  {...exclude($$props, ['use'])}\n><slot></slot></h2>\n\n<script>\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from './forwardEvents.js';\n  import {exclude} from './exclude.js';\n  import {useActions} from './useActions.js';\n\n  const forwardEvents = forwardEventsBuilder(get_current_component());\n\n  export let use = [];\n</script>\n","import {classAdderBuilder} from '@smui/common/classAdderBuilder.js';\nimport H2 from '@smui/common/H2.svelte';\n\nexport default classAdderBuilder({\n  class: 'mdc-dialog__title',\n  component: H2,\n  contexts: {}\n});","<div\n  use:useActions={use}\n  use:forwardEvents\n  {...exclude($$props, ['use'])}\n><slot></slot></div>\n\n<script>\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from './forwardEvents.js';\n  import {exclude} from './exclude.js';\n  import {useActions} from './useActions.js';\n\n  const forwardEvents = forwardEventsBuilder(get_current_component());\n\n  export let use = [];\n</script>\n","import {classAdderBuilder} from '@smui/common/classAdderBuilder.js';\nimport Div from '@smui/common/Div.svelte';\n\nexport default classAdderBuilder({\n  class: 'mdc-dialog__content',\n  component: Div,\n  contexts: {}\n});","<footer\n  use:useActions={use}\n  use:forwardEvents\n  {...exclude($$props, ['use'])}\n><slot></slot></footer>\n\n<script>\n  import {get_current_component} from 'svelte/internal';\n  import {forwardEventsBuilder} from './forwardEvents.js';\n  import {exclude} from './exclude.js';\n  import {useActions} from './useActions.js';\n\n  const forwardEvents = forwardEventsBuilder(get_current_component());\n\n  export let use = [];\n</script>\n","import {classAdderBuilder} from '@smui/common/classAdderBuilder.js';\nimport Footer from '@smui/common/Footer.svelte';\n\nexport default classAdderBuilder({\n  class: 'mdc-dialog__actions',\n  component: Footer,\n  contexts: {\n    'SMUI:button:context': 'dialog:action'\n  }\n});\n","/**\n * chroma.js - JavaScript library for color conversions\n *\n * Copyright (c) 2011-2019, Gregor Aisch\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. The name Gregor Aisch may not be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * -------------------------------------------------------\n *\n * chroma.js includes colors from colorbrewer2.org, which are released under\n * the following license:\n *\n * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,\n * and The Pennsylvania State University.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n *\n * ------------------------------------------------------\n *\n * Named colors are taken from X11 Color Names.\n * http://www.w3.org/TR/css3-color/#svg-color\n *\n * @preserve\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.chroma = factory());\n}(this, (function () { 'use strict';\n\n    var limit = function (x, min, max) {\n        if ( min === void 0 ) min=0;\n        if ( max === void 0 ) max=1;\n\n        return x < min ? min : x > max ? max : x;\n    };\n\n    var clip_rgb = function (rgb) {\n        rgb._clipped = false;\n        rgb._unclipped = rgb.slice(0);\n        for (var i=0; i<=3; i++) {\n            if (i < 3) {\n                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }\n                rgb[i] = limit(rgb[i], 0, 255);\n            } else if (i === 3) {\n                rgb[i] = limit(rgb[i], 0, 1);\n            }\n        }\n        return rgb;\n    };\n\n    // ported from jQuery's $.type\n    var classToType = {};\n    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {\n        var name = list[i];\n\n        classToType[(\"[object \" + name + \"]\")] = name.toLowerCase();\n    }\n    var type = function(obj) {\n        return classToType[Object.prototype.toString.call(obj)] || \"object\";\n    };\n\n    var unpack = function (args, keyOrder) {\n        if ( keyOrder === void 0 ) keyOrder=null;\n\n    \t// if called with more than 3 arguments, we return the arguments\n        if (args.length >= 3) { return Array.prototype.slice.call(args); }\n        // with less than 3 args we check if first arg is object\n        // and use the keyOrder string to extract and sort properties\n    \tif (type(args[0]) == 'object' && keyOrder) {\n    \t\treturn keyOrder.split('')\n    \t\t\t.filter(function (k) { return args[0][k] !== undefined; })\n    \t\t\t.map(function (k) { return args[0][k]; });\n    \t}\n    \t// otherwise we just return the first argument\n    \t// (which we suppose is an array of args)\n        return args[0];\n    };\n\n    var last = function (args) {\n        if (args.length < 2) { return null; }\n        var l = args.length-1;\n        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }\n        return null;\n    };\n\n    var PI = Math.PI;\n\n    var utils = {\n    \tclip_rgb: clip_rgb,\n    \tlimit: limit,\n    \ttype: type,\n    \tunpack: unpack,\n    \tlast: last,\n    \tPI: PI,\n    \tTWOPI: PI*2,\n    \tPITHIRD: PI/3,\n    \tDEG2RAD: PI / 180,\n    \tRAD2DEG: 180 / PI\n    };\n\n    var input = {\n    \tformat: {},\n    \tautodetect: []\n    };\n\n    var last$1 = utils.last;\n    var clip_rgb$1 = utils.clip_rgb;\n    var type$1 = utils.type;\n\n\n    var Color = function Color() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var me = this;\n        if (type$1(args[0]) === 'object' &&\n            args[0].constructor &&\n            args[0].constructor === this.constructor) {\n            // the argument is already a Color instance\n            return args[0];\n        }\n\n        // last argument could be the mode\n        var mode = last$1(args);\n        var autodetect = false;\n\n        if (!mode) {\n            autodetect = true;\n            if (!input.sorted) {\n                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });\n                input.sorted = true;\n            }\n            // auto-detect format\n            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {\n                var chk = list[i];\n\n                mode = chk.test.apply(chk, args);\n                if (mode) { break; }\n            }\n        }\n\n        if (input.format[mode]) {\n            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));\n            me._rgb = clip_rgb$1(rgb);\n        } else {\n            throw new Error('unknown format: '+args);\n        }\n\n        // add alpha channel\n        if (me._rgb.length === 3) { me._rgb.push(1); }\n    };\n\n    Color.prototype.toString = function toString () {\n        if (type$1(this.hex) == 'function') { return this.hex(); }\n        return (\"[\" + (this._rgb.join(',')) + \"]\");\n    };\n\n    var Color_1 = Color;\n\n    var chroma = function () {\n    \tvar args = [], len = arguments.length;\n    \twhile ( len-- ) args[ len ] = arguments[ len ];\n\n    \treturn new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));\n    };\n\n    chroma.Color = Color_1;\n    chroma.version = '2.1.1';\n\n    var chroma_1 = chroma;\n\n    var unpack$1 = utils.unpack;\n    var max = Math.max;\n\n    var rgb2cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$1(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var k = 1 - max(r,max(g,b));\n        var f = k < 1 ? 1 / (1-k) : 0;\n        var c = (1-r-k) * f;\n        var m = (1-g-k) * f;\n        var y = (1-b-k) * f;\n        return [c,m,y,k];\n    };\n\n    var rgb2cmyk_1 = rgb2cmyk;\n\n    var unpack$2 = utils.unpack;\n\n    var cmyk2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$2(args, 'cmyk');\n        var c = args[0];\n        var m = args[1];\n        var y = args[2];\n        var k = args[3];\n        var alpha = args.length > 4 ? args[4] : 1;\n        if (k === 1) { return [0,0,0,alpha]; }\n        return [\n            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r\n            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g\n            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b\n            alpha\n        ];\n    };\n\n    var cmyk2rgb_1 = cmyk2rgb;\n\n    var unpack$3 = utils.unpack;\n    var type$2 = utils.type;\n\n\n\n    Color_1.prototype.cmyk = function() {\n        return rgb2cmyk_1(this._rgb);\n    };\n\n    chroma_1.cmyk = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));\n    };\n\n    input.format.cmyk = cmyk2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$3(args, 'cmyk');\n            if (type$2(args) === 'array' && args.length === 4) {\n                return 'cmyk';\n            }\n        }\n    });\n\n    var unpack$4 = utils.unpack;\n    var last$2 = utils.last;\n    var rnd = function (a) { return Math.round(a*100)/100; };\n\n    /*\n     * supported arguments:\n     * - hsl2css(h,s,l)\n     * - hsl2css(h,s,l,a)\n     * - hsl2css([h,s,l], mode)\n     * - hsl2css([h,s,l,a], mode)\n     * - hsl2css({h,s,l,a}, mode)\n     */\n    var hsl2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hsla = unpack$4(args, 'hsla');\n        var mode = last$2(args) || 'lsa';\n        hsla[0] = rnd(hsla[0] || 0);\n        hsla[1] = rnd(hsla[1]*100) + '%';\n        hsla[2] = rnd(hsla[2]*100) + '%';\n        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {\n            hsla[3] = hsla.length > 3 ? hsla[3] : 1;\n            mode = 'hsla';\n        } else {\n            hsla.length = 3;\n        }\n        return (mode + \"(\" + (hsla.join(',')) + \")\");\n    };\n\n    var hsl2css_1 = hsl2css;\n\n    var unpack$5 = utils.unpack;\n\n    /*\n     * supported arguments:\n     * - rgb2hsl(r,g,b)\n     * - rgb2hsl(r,g,b,a)\n     * - rgb2hsl([r,g,b])\n     * - rgb2hsl([r,g,b,a])\n     * - rgb2hsl({r,g,b,a})\n     */\n    var rgb2hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$5(args, 'rgba');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n\n        var l = (max + min) / 2;\n        var s, h;\n\n        if (max === min){\n            s = 0;\n            h = Number.NaN;\n        } else {\n            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n        }\n\n        if (r == max) { h = (g - b) / (max - min); }\n        else if (g == max) { h = 2 + (b - r) / (max - min); }\n        else if (b == max) { h = 4 + (r - g) / (max - min); }\n\n        h *= 60;\n        if (h < 0) { h += 360; }\n        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }\n        return [h,s,l];\n    };\n\n    var rgb2hsl_1 = rgb2hsl;\n\n    var unpack$6 = utils.unpack;\n    var last$3 = utils.last;\n\n\n    var round = Math.round;\n\n    /*\n     * supported arguments:\n     * - rgb2css(r,g,b)\n     * - rgb2css(r,g,b,a)\n     * - rgb2css([r,g,b], mode)\n     * - rgb2css([r,g,b,a], mode)\n     * - rgb2css({r,g,b,a}, mode)\n     */\n    var rgb2css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$6(args, 'rgba');\n        var mode = last$3(args) || 'rgb';\n        if (mode.substr(0,3) == 'hsl') {\n            return hsl2css_1(rgb2hsl_1(rgba), mode);\n        }\n        rgba[0] = round(rgba[0]);\n        rgba[1] = round(rgba[1]);\n        rgba[2] = round(rgba[2]);\n        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {\n            rgba[3] = rgba.length > 3 ? rgba[3] : 1;\n            mode = 'rgba';\n        }\n        return (mode + \"(\" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + \")\");\n    };\n\n    var rgb2css_1 = rgb2css;\n\n    var unpack$7 = utils.unpack;\n    var round$1 = Math.round;\n\n    var hsl2rgb = function () {\n        var assign;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$7(args, 'hsl');\n        var h = args[0];\n        var s = args[1];\n        var l = args[2];\n        var r,g,b;\n        if (s === 0) {\n            r = g = b = l*255;\n        } else {\n            var t3 = [0,0,0];\n            var c = [0,0,0];\n            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;\n            var t1 = 2 * l - t2;\n            var h_ = h / 360;\n            t3[0] = h_ + 1/3;\n            t3[1] = h_;\n            t3[2] = h_ - 1/3;\n            for (var i=0; i<3; i++) {\n                if (t3[i] < 0) { t3[i] += 1; }\n                if (t3[i] > 1) { t3[i] -= 1; }\n                if (6 * t3[i] < 1)\n                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }\n                else if (2 * t3[i] < 1)\n                    { c[i] = t2; }\n                else if (3 * t3[i] < 2)\n                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }\n                else\n                    { c[i] = t1; }\n            }\n            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);\n        }\n        if (args.length > 3) {\n            // keep alpha channel\n            return [r,g,b,args[3]];\n        }\n        return [r,g,b,1];\n    };\n\n    var hsl2rgb_1 = hsl2rgb;\n\n    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;\n    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;\n\n    var round$2 = Math.round;\n\n    var css2rgb = function (css) {\n        css = css.toLowerCase().trim();\n        var m;\n\n        if (input.format.named) {\n            try {\n                return input.format.named(css);\n            } catch (e) {\n                // eslint-disable-next-line\n            }\n        }\n\n        // rgb(250,20,0)\n        if ((m = css.match(RE_RGB))) {\n            var rgb = m.slice(1,4);\n            for (var i=0; i<3; i++) {\n                rgb[i] = +rgb[i];\n            }\n            rgb[3] = 1;  // default alpha\n            return rgb;\n        }\n\n        // rgba(250,20,0,0.4)\n        if ((m = css.match(RE_RGBA))) {\n            var rgb$1 = m.slice(1,5);\n            for (var i$1=0; i$1<4; i$1++) {\n                rgb$1[i$1] = +rgb$1[i$1];\n            }\n            return rgb$1;\n        }\n\n        // rgb(100%,0%,0%)\n        if ((m = css.match(RE_RGB_PCT))) {\n            var rgb$2 = m.slice(1,4);\n            for (var i$2=0; i$2<3; i$2++) {\n                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);\n            }\n            rgb$2[3] = 1;  // default alpha\n            return rgb$2;\n        }\n\n        // rgba(100%,0%,0%,0.4)\n        if ((m = css.match(RE_RGBA_PCT))) {\n            var rgb$3 = m.slice(1,5);\n            for (var i$3=0; i$3<3; i$3++) {\n                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);\n            }\n            rgb$3[3] = +rgb$3[3];\n            return rgb$3;\n        }\n\n        // hsl(0,100%,50%)\n        if ((m = css.match(RE_HSL))) {\n            var hsl = m.slice(1,4);\n            hsl[1] *= 0.01;\n            hsl[2] *= 0.01;\n            var rgb$4 = hsl2rgb_1(hsl);\n            rgb$4[3] = 1;\n            return rgb$4;\n        }\n\n        // hsla(0,100%,50%,0.5)\n        if ((m = css.match(RE_HSLA))) {\n            var hsl$1 = m.slice(1,4);\n            hsl$1[1] *= 0.01;\n            hsl$1[2] *= 0.01;\n            var rgb$5 = hsl2rgb_1(hsl$1);\n            rgb$5[3] = +m[4];  // default alpha = 1\n            return rgb$5;\n        }\n    };\n\n    css2rgb.test = function (s) {\n        return RE_RGB.test(s) ||\n            RE_RGBA.test(s) ||\n            RE_RGB_PCT.test(s) ||\n            RE_RGBA_PCT.test(s) ||\n            RE_HSL.test(s) ||\n            RE_HSLA.test(s);\n    };\n\n    var css2rgb_1 = css2rgb;\n\n    var type$3 = utils.type;\n\n\n\n\n    Color_1.prototype.css = function(mode) {\n        return rgb2css_1(this._rgb, mode);\n    };\n\n    chroma_1.css = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));\n    };\n\n    input.format.css = css2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {\n                return 'css';\n            }\n        }\n    });\n\n    var unpack$8 = utils.unpack;\n\n    input.format.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$8(args, 'rgba');\n        rgb[0] *= 255;\n        rgb[1] *= 255;\n        rgb[2] *= 255;\n        return rgb;\n    };\n\n    chroma_1.gl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));\n    };\n\n    Color_1.prototype.gl = function() {\n        var rgb = this._rgb;\n        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];\n    };\n\n    var unpack$9 = utils.unpack;\n\n    var rgb2hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$9(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var delta = max - min;\n        var c = delta * 100 / 255;\n        var _g = min / (255 - delta) * 100;\n        var h;\n        if (delta === 0) {\n            h = Number.NaN;\n        } else {\n            if (r === max) { h = (g - b) / delta; }\n            if (g === max) { h = 2+(b - r) / delta; }\n            if (b === max) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, c, _g];\n    };\n\n    var rgb2hcg_1 = rgb2hcg;\n\n    var unpack$a = utils.unpack;\n    var floor = Math.floor;\n\n    /*\n     * this is basically just HSV with some minor tweaks\n     *\n     * hue.. [0..360]\n     * chroma .. [0..1]\n     * grayness .. [0..1]\n     */\n\n    var hcg2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$a(args, 'hcg');\n        var h = args[0];\n        var c = args[1];\n        var _g = args[2];\n        var r,g,b;\n        _g = _g * 255;\n        var _c = c * 255;\n        if (c === 0) {\n            r = g = b = _g;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n            var i = floor(h);\n            var f = h - i;\n            var p = _g * (1 - c);\n            var q = p + _c * (1 - f);\n            var t = p + _c * f;\n            var v = p + _c;\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var hcg2rgb_1 = hcg2rgb;\n\n    var unpack$b = utils.unpack;\n    var type$4 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hcg = function() {\n        return rgb2hcg_1(this._rgb);\n    };\n\n    chroma_1.hcg = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));\n    };\n\n    input.format.hcg = hcg2rgb_1;\n\n    input.autodetect.push({\n        p: 1,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$b(args, 'hcg');\n            if (type$4(args) === 'array' && args.length === 3) {\n                return 'hcg';\n            }\n        }\n    });\n\n    var unpack$c = utils.unpack;\n    var last$4 = utils.last;\n    var round$3 = Math.round;\n\n    var rgb2hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$c(args, 'rgba');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var a = ref[3];\n        var mode = last$4(args) || 'auto';\n        if (a === undefined) { a = 1; }\n        if (mode === 'auto') {\n            mode = a < 1 ? 'rgba' : 'rgb';\n        }\n        r = round$3(r);\n        g = round$3(g);\n        b = round$3(b);\n        var u = r << 16 | g << 8 | b;\n        var str = \"000000\" + u.toString(16); //#.toUpperCase();\n        str = str.substr(str.length - 6);\n        var hxa = '0' + round$3(a * 255).toString(16);\n        hxa = hxa.substr(hxa.length - 2);\n        switch (mode.toLowerCase()) {\n            case 'rgba': return (\"#\" + str + hxa);\n            case 'argb': return (\"#\" + hxa + str);\n            default: return (\"#\" + str);\n        }\n    };\n\n    var rgb2hex_1 = rgb2hex;\n\n    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;\n\n    var hex2rgb = function (hex) {\n        if (hex.match(RE_HEX)) {\n            // remove optional leading #\n            if (hex.length === 4 || hex.length === 7) {\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full six-digit\n            if (hex.length === 3) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];\n            }\n            var u = parseInt(hex, 16);\n            var r = u >> 16;\n            var g = u >> 8 & 0xFF;\n            var b = u & 0xFF;\n            return [r,g,b,1];\n        }\n\n        // match rgba hex format, eg #FF000077\n        if (hex.match(RE_HEXA)) {\n            if (hex.length === 5 || hex.length === 9) {\n                // remove optional leading #\n                hex = hex.substr(1);\n            }\n            // expand short-notation to full eight-digit\n            if (hex.length === 4) {\n                hex = hex.split('');\n                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];\n            }\n            var u$1 = parseInt(hex, 16);\n            var r$1 = u$1 >> 24 & 0xFF;\n            var g$1 = u$1 >> 16 & 0xFF;\n            var b$1 = u$1 >> 8 & 0xFF;\n            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;\n            return [r$1,g$1,b$1,a];\n        }\n\n        // we used to check for css colors here\n        // if _input.css? and rgb = _input.css hex\n        //     return rgb\n\n        throw new Error((\"unknown hex color: \" + hex));\n    };\n\n    var hex2rgb_1 = hex2rgb;\n\n    var type$5 = utils.type;\n\n\n\n\n    Color_1.prototype.hex = function(mode) {\n        return rgb2hex_1(this._rgb, mode);\n    };\n\n    chroma_1.hex = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));\n    };\n\n    input.format.hex = hex2rgb_1;\n    input.autodetect.push({\n        p: 4,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {\n                return 'hex';\n            }\n        }\n    });\n\n    var unpack$d = utils.unpack;\n    var TWOPI = utils.TWOPI;\n    var min = Math.min;\n    var sqrt = Math.sqrt;\n    var acos = Math.acos;\n\n    var rgb2hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n        */\n        var ref = unpack$d(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var h;\n        var min_ = min(r,g,b);\n        var i = (r+g+b) / 3;\n        var s = i > 0 ? 1 - min_/i : 0;\n        if (s === 0) {\n            h = NaN;\n        } else {\n            h = ((r-g)+(r-b)) / 2;\n            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));\n            h = acos(h);\n            if (b > g) {\n                h = TWOPI - h;\n            }\n            h /= TWOPI;\n        }\n        return [h*360,s,i];\n    };\n\n    var rgb2hsi_1 = rgb2hsi;\n\n    var unpack$e = utils.unpack;\n    var limit$1 = utils.limit;\n    var TWOPI$1 = utils.TWOPI;\n    var PITHIRD = utils.PITHIRD;\n    var cos = Math.cos;\n\n    /*\n     * hue [0..360]\n     * saturation [0..1]\n     * intensity [0..1]\n     */\n    var hsi2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        borrowed from here:\n        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n        */\n        args = unpack$e(args, 'hsi');\n        var h = args[0];\n        var s = args[1];\n        var i = args[2];\n        var r,g,b;\n\n        if (isNaN(h)) { h = 0; }\n        if (isNaN(s)) { s = 0; }\n        // normalize hue\n        if (h > 360) { h -= 360; }\n        if (h < 0) { h += 360; }\n        h /= 360;\n        if (h < 1/3) {\n            b = (1-s)/3;\n            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            g = 1 - (b+r);\n        } else if (h < 2/3) {\n            h -= 1/3;\n            r = (1-s)/3;\n            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            b = 1 - (r+g);\n        } else {\n            h -= 2/3;\n            g = (1-s)/3;\n            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;\n            r = 1 - (g+b);\n        }\n        r = limit$1(i*r*3);\n        g = limit$1(i*g*3);\n        b = limit$1(i*b*3);\n        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];\n    };\n\n    var hsi2rgb_1 = hsi2rgb;\n\n    var unpack$f = utils.unpack;\n    var type$6 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsi = function() {\n        return rgb2hsi_1(this._rgb);\n    };\n\n    chroma_1.hsi = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));\n    };\n\n    input.format.hsi = hsi2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$f(args, 'hsi');\n            if (type$6(args) === 'array' && args.length === 3) {\n                return 'hsi';\n            }\n        }\n    });\n\n    var unpack$g = utils.unpack;\n    var type$7 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsl = function() {\n        return rgb2hsl_1(this._rgb);\n    };\n\n    chroma_1.hsl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));\n    };\n\n    input.format.hsl = hsl2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$g(args, 'hsl');\n            if (type$7(args) === 'array' && args.length === 3) {\n                return 'hsl';\n            }\n        }\n    });\n\n    var unpack$h = utils.unpack;\n    var min$1 = Math.min;\n    var max$1 = Math.max;\n\n    /*\n     * supported arguments:\n     * - rgb2hsv(r,g,b)\n     * - rgb2hsv([r,g,b])\n     * - rgb2hsv({r,g,b})\n     */\n    var rgb2hsl$1 = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$h(args, 'rgb');\n        var r = args[0];\n        var g = args[1];\n        var b = args[2];\n        var min_ = min$1(r, g, b);\n        var max_ = max$1(r, g, b);\n        var delta = max_ - min_;\n        var h,s,v;\n        v = max_ / 255.0;\n        if (max_ === 0) {\n            h = Number.NaN;\n            s = 0;\n        } else {\n            s = delta / max_;\n            if (r === max_) { h = (g - b) / delta; }\n            if (g === max_) { h = 2+(b - r) / delta; }\n            if (b === max_) { h = 4+(r - g) / delta; }\n            h *= 60;\n            if (h < 0) { h += 360; }\n        }\n        return [h, s, v]\n    };\n\n    var rgb2hsv = rgb2hsl$1;\n\n    var unpack$i = utils.unpack;\n    var floor$1 = Math.floor;\n\n    var hsv2rgb = function () {\n        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;\n\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n        args = unpack$i(args, 'hsv');\n        var h = args[0];\n        var s = args[1];\n        var v = args[2];\n        var r,g,b;\n        v *= 255;\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            if (h === 360) { h = 0; }\n            if (h > 360) { h -= 360; }\n            if (h < 0) { h += 360; }\n            h /= 60;\n\n            var i = floor$1(h);\n            var f = h - i;\n            var p = v * (1 - s);\n            var q = v * (1 - s * f);\n            var t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break\n                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break\n                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break\n                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break\n                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break\n                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break\n            }\n        }\n        return [r,g,b,args.length > 3?args[3]:1];\n    };\n\n    var hsv2rgb_1 = hsv2rgb;\n\n    var unpack$j = utils.unpack;\n    var type$8 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.hsv = function() {\n        return rgb2hsv(this._rgb);\n    };\n\n    chroma_1.hsv = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));\n    };\n\n    input.format.hsv = hsv2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$j(args, 'hsv');\n            if (type$8(args) === 'array' && args.length === 3) {\n                return 'hsv';\n            }\n        }\n    });\n\n    var labConstants = {\n        // Corresponds roughly to RGB brighter/darker\n        Kn: 18,\n\n        // D65 standard referent\n        Xn: 0.950470,\n        Yn: 1,\n        Zn: 1.088830,\n\n        t0: 0.137931034,  // 4 / 29\n        t1: 0.206896552,  // 6 / 29\n        t2: 0.12841855,   // 3 * t1 * t1\n        t3: 0.008856452,  // t1 * t1 * t1\n    };\n\n    var unpack$k = utils.unpack;\n    var pow = Math.pow;\n\n    var rgb2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$k(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2xyz(r,g,b);\n        var x = ref$1[0];\n        var y = ref$1[1];\n        var z = ref$1[2];\n        var l = 116 * y - 16;\n        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];\n    };\n\n    var rgb_xyz = function (r) {\n        if ((r /= 255) <= 0.04045) { return r / 12.92; }\n        return pow((r + 0.055) / 1.055, 2.4);\n    };\n\n    var xyz_lab = function (t) {\n        if (t > labConstants.t3) { return pow(t, 1 / 3); }\n        return t / labConstants.t2 + labConstants.t0;\n    };\n\n    var rgb2xyz = function (r,g,b) {\n        r = rgb_xyz(r);\n        g = rgb_xyz(g);\n        b = rgb_xyz(b);\n        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);\n        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);\n        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);\n        return [x,y,z];\n    };\n\n    var rgb2lab_1 = rgb2lab;\n\n    var unpack$l = utils.unpack;\n    var pow$1 = Math.pow;\n\n    /*\n     * L* [0..100]\n     * a [-100..100]\n     * b [-100..100]\n     */\n    var lab2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$l(args, 'lab');\n        var l = args[0];\n        var a = args[1];\n        var b = args[2];\n        var x,y,z, r,g,b_;\n\n        y = (l + 16) / 116;\n        x = isNaN(a) ? y : y + a / 500;\n        z = isNaN(b) ? y : y - b / 200;\n\n        y = labConstants.Yn * lab_xyz(y);\n        x = labConstants.Xn * lab_xyz(x);\n        z = labConstants.Zn * lab_xyz(z);\n\n        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB\n        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n\n        return [r,g,b_,args.length > 3 ? args[3] : 1];\n    };\n\n    var xyz_rgb = function (r) {\n        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)\n    };\n\n    var lab_xyz = function (t) {\n        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)\n    };\n\n    var lab2rgb_1 = lab2rgb;\n\n    var unpack$m = utils.unpack;\n    var type$9 = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lab = function() {\n        return rgb2lab_1(this._rgb);\n    };\n\n    chroma_1.lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));\n    };\n\n    input.format.lab = lab2rgb_1;\n\n    input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$m(args, 'lab');\n            if (type$9(args) === 'array' && args.length === 3) {\n                return 'lab';\n            }\n        }\n    });\n\n    var unpack$n = utils.unpack;\n    var RAD2DEG = utils.RAD2DEG;\n    var sqrt$1 = Math.sqrt;\n    var atan2 = Math.atan2;\n    var round$4 = Math.round;\n\n    var lab2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$n(args, 'lab');\n        var l = ref[0];\n        var a = ref[1];\n        var b = ref[2];\n        var c = sqrt$1(a * a + b * b);\n        var h = (atan2(b, a) * RAD2DEG + 360) % 360;\n        if (round$4(c*10000) === 0) { h = Number.NaN; }\n        return [l, c, h];\n    };\n\n    var lab2lch_1 = lab2lch;\n\n    var unpack$o = utils.unpack;\n\n\n\n    var rgb2lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$o(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        var ref$1 = rgb2lab_1(r,g,b);\n        var l = ref$1[0];\n        var a = ref$1[1];\n        var b_ = ref$1[2];\n        return lab2lch_1(l,a,b_);\n    };\n\n    var rgb2lch_1 = rgb2lch;\n\n    var unpack$p = utils.unpack;\n    var DEG2RAD = utils.DEG2RAD;\n    var sin = Math.sin;\n    var cos$1 = Math.cos;\n\n    var lch2lab = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        /*\n        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n        These formulas were invented by David Dalrymple to obtain maximum contrast without going\n        out of gamut if the parameters are in the range 0-1.\n\n        A saturation multiplier was added by Gregor Aisch\n        */\n        var ref = unpack$p(args, 'lch');\n        var l = ref[0];\n        var c = ref[1];\n        var h = ref[2];\n        if (isNaN(h)) { h = 0; }\n        h = h * DEG2RAD;\n        return [l, cos$1(h) * c, sin(h) * c]\n    };\n\n    var lch2lab_1 = lch2lab;\n\n    var unpack$q = utils.unpack;\n\n\n\n    var lch2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        args = unpack$q(args, 'lch');\n        var l = args[0];\n        var c = args[1];\n        var h = args[2];\n        var ref = lch2lab_1 (l,c,h);\n        var L = ref[0];\n        var a = ref[1];\n        var b_ = ref[2];\n        var ref$1 = lab2rgb_1 (L,a,b_);\n        var r = ref$1[0];\n        var g = ref$1[1];\n        var b = ref$1[2];\n        return [r, g, b, args.length > 3 ? args[3] : 1];\n    };\n\n    var lch2rgb_1 = lch2rgb;\n\n    var unpack$r = utils.unpack;\n\n\n    var hcl2rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var hcl = unpack$r(args, 'hcl').reverse();\n        return lch2rgb_1.apply(void 0, hcl);\n    };\n\n    var hcl2rgb_1 = hcl2rgb;\n\n    var unpack$s = utils.unpack;\n    var type$a = utils.type;\n\n\n\n\n\n\n    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };\n    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };\n\n    chroma_1.lch = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));\n    };\n    chroma_1.hcl = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));\n    };\n\n    input.format.lch = lch2rgb_1;\n    input.format.hcl = hcl2rgb_1;\n\n    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({\n        p: 2,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$s(args, m);\n            if (type$a(args) === 'array' && args.length === 3) {\n                return m;\n            }\n        }\n    }); });\n\n    /**\n    \tX11 color names\n\n    \thttp://www.w3.org/TR/css3-color/#svg-color\n    */\n\n    var w3cx11 = {\n        aliceblue: '#f0f8ff',\n        antiquewhite: '#faebd7',\n        aqua: '#00ffff',\n        aquamarine: '#7fffd4',\n        azure: '#f0ffff',\n        beige: '#f5f5dc',\n        bisque: '#ffe4c4',\n        black: '#000000',\n        blanchedalmond: '#ffebcd',\n        blue: '#0000ff',\n        blueviolet: '#8a2be2',\n        brown: '#a52a2a',\n        burlywood: '#deb887',\n        cadetblue: '#5f9ea0',\n        chartreuse: '#7fff00',\n        chocolate: '#d2691e',\n        coral: '#ff7f50',\n        cornflower: '#6495ed',\n        cornflowerblue: '#6495ed',\n        cornsilk: '#fff8dc',\n        crimson: '#dc143c',\n        cyan: '#00ffff',\n        darkblue: '#00008b',\n        darkcyan: '#008b8b',\n        darkgoldenrod: '#b8860b',\n        darkgray: '#a9a9a9',\n        darkgreen: '#006400',\n        darkgrey: '#a9a9a9',\n        darkkhaki: '#bdb76b',\n        darkmagenta: '#8b008b',\n        darkolivegreen: '#556b2f',\n        darkorange: '#ff8c00',\n        darkorchid: '#9932cc',\n        darkred: '#8b0000',\n        darksalmon: '#e9967a',\n        darkseagreen: '#8fbc8f',\n        darkslateblue: '#483d8b',\n        darkslategray: '#2f4f4f',\n        darkslategrey: '#2f4f4f',\n        darkturquoise: '#00ced1',\n        darkviolet: '#9400d3',\n        deeppink: '#ff1493',\n        deepskyblue: '#00bfff',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1e90ff',\n        firebrick: '#b22222',\n        floralwhite: '#fffaf0',\n        forestgreen: '#228b22',\n        fuchsia: '#ff00ff',\n        gainsboro: '#dcdcdc',\n        ghostwhite: '#f8f8ff',\n        gold: '#ffd700',\n        goldenrod: '#daa520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#adff2f',\n        grey: '#808080',\n        honeydew: '#f0fff0',\n        hotpink: '#ff69b4',\n        indianred: '#cd5c5c',\n        indigo: '#4b0082',\n        ivory: '#fffff0',\n        khaki: '#f0e68c',\n        laserlemon: '#ffff54',\n        lavender: '#e6e6fa',\n        lavenderblush: '#fff0f5',\n        lawngreen: '#7cfc00',\n        lemonchiffon: '#fffacd',\n        lightblue: '#add8e6',\n        lightcoral: '#f08080',\n        lightcyan: '#e0ffff',\n        lightgoldenrod: '#fafad2',\n        lightgoldenrodyellow: '#fafad2',\n        lightgray: '#d3d3d3',\n        lightgreen: '#90ee90',\n        lightgrey: '#d3d3d3',\n        lightpink: '#ffb6c1',\n        lightsalmon: '#ffa07a',\n        lightseagreen: '#20b2aa',\n        lightskyblue: '#87cefa',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#b0c4de',\n        lightyellow: '#ffffe0',\n        lime: '#00ff00',\n        limegreen: '#32cd32',\n        linen: '#faf0e6',\n        magenta: '#ff00ff',\n        maroon: '#800000',\n        maroon2: '#7f0000',\n        maroon3: '#b03060',\n        mediumaquamarine: '#66cdaa',\n        mediumblue: '#0000cd',\n        mediumorchid: '#ba55d3',\n        mediumpurple: '#9370db',\n        mediumseagreen: '#3cb371',\n        mediumslateblue: '#7b68ee',\n        mediumspringgreen: '#00fa9a',\n        mediumturquoise: '#48d1cc',\n        mediumvioletred: '#c71585',\n        midnightblue: '#191970',\n        mintcream: '#f5fffa',\n        mistyrose: '#ffe4e1',\n        moccasin: '#ffe4b5',\n        navajowhite: '#ffdead',\n        navy: '#000080',\n        oldlace: '#fdf5e6',\n        olive: '#808000',\n        olivedrab: '#6b8e23',\n        orange: '#ffa500',\n        orangered: '#ff4500',\n        orchid: '#da70d6',\n        palegoldenrod: '#eee8aa',\n        palegreen: '#98fb98',\n        paleturquoise: '#afeeee',\n        palevioletred: '#db7093',\n        papayawhip: '#ffefd5',\n        peachpuff: '#ffdab9',\n        peru: '#cd853f',\n        pink: '#ffc0cb',\n        plum: '#dda0dd',\n        powderblue: '#b0e0e6',\n        purple: '#800080',\n        purple2: '#7f007f',\n        purple3: '#a020f0',\n        rebeccapurple: '#663399',\n        red: '#ff0000',\n        rosybrown: '#bc8f8f',\n        royalblue: '#4169e1',\n        saddlebrown: '#8b4513',\n        salmon: '#fa8072',\n        sandybrown: '#f4a460',\n        seagreen: '#2e8b57',\n        seashell: '#fff5ee',\n        sienna: '#a0522d',\n        silver: '#c0c0c0',\n        skyblue: '#87ceeb',\n        slateblue: '#6a5acd',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#fffafa',\n        springgreen: '#00ff7f',\n        steelblue: '#4682b4',\n        tan: '#d2b48c',\n        teal: '#008080',\n        thistle: '#d8bfd8',\n        tomato: '#ff6347',\n        turquoise: '#40e0d0',\n        violet: '#ee82ee',\n        wheat: '#f5deb3',\n        white: '#ffffff',\n        whitesmoke: '#f5f5f5',\n        yellow: '#ffff00',\n        yellowgreen: '#9acd32'\n    };\n\n    var w3cx11_1 = w3cx11;\n\n    var type$b = utils.type;\n\n\n\n\n\n    Color_1.prototype.name = function() {\n        var hex = rgb2hex_1(this._rgb, 'rgb');\n        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {\n            var n = list[i];\n\n            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }\n        }\n        return hex;\n    };\n\n    input.format.named = function (name) {\n        name = name.toLowerCase();\n        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }\n        throw new Error('unknown color name: '+name);\n    };\n\n    input.autodetect.push({\n        p: 5,\n        test: function (h) {\n            var rest = [], len = arguments.length - 1;\n            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {\n                return 'named';\n            }\n        }\n    });\n\n    var unpack$t = utils.unpack;\n\n    var rgb2num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var ref = unpack$t(args, 'rgb');\n        var r = ref[0];\n        var g = ref[1];\n        var b = ref[2];\n        return (r << 16) + (g << 8) + b;\n    };\n\n    var rgb2num_1 = rgb2num;\n\n    var type$c = utils.type;\n\n    var num2rgb = function (num) {\n        if (type$c(num) == \"number\" && num >= 0 && num <= 0xFFFFFF) {\n            var r = num >> 16;\n            var g = (num >> 8) & 0xFF;\n            var b = num & 0xFF;\n            return [r,g,b,1];\n        }\n        throw new Error(\"unknown num color: \"+num);\n    };\n\n    var num2rgb_1 = num2rgb;\n\n    var type$d = utils.type;\n\n\n\n    Color_1.prototype.num = function() {\n        return rgb2num_1(this._rgb);\n    };\n\n    chroma_1.num = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));\n    };\n\n    input.format.num = num2rgb_1;\n\n    input.autodetect.push({\n        p: 5,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {\n                return 'num';\n            }\n        }\n    });\n\n    var unpack$u = utils.unpack;\n    var type$e = utils.type;\n    var round$5 = Math.round;\n\n    Color_1.prototype.rgb = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        if (rnd === false) { return this._rgb.slice(0,3); }\n        return this._rgb.slice(0,3).map(round$5);\n    };\n\n    Color_1.prototype.rgba = function(rnd) {\n        if ( rnd === void 0 ) rnd=true;\n\n        return this._rgb.slice(0,4).map(function (v,i) {\n            return i<3 ? (rnd === false ? v : round$5(v)) : v;\n        });\n    };\n\n    chroma_1.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));\n    };\n\n    input.format.rgb = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgba = unpack$u(args, 'rgba');\n        if (rgba[3] === undefined) { rgba[3] = 1; }\n        return rgba;\n    };\n\n    input.autodetect.push({\n        p: 3,\n        test: function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            args = unpack$u(args, 'rgba');\n            if (type$e(args) === 'array' && (args.length === 3 ||\n                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {\n                return 'rgb';\n            }\n        }\n    });\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     */\n\n    var log = Math.log;\n\n    var temperature2rgb = function (kelvin) {\n        var temp = kelvin / 100;\n        var r,g,b;\n        if (temp < 66) {\n            r = 255;\n            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);\n            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);\n        } else {\n            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);\n            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);\n            b = 255;\n        }\n        return [r,g,b,1];\n    };\n\n    var temperature2rgb_1 = temperature2rgb;\n\n    /*\n     * Based on implementation by Neil Bartlett\n     * https://github.com/neilbartlett/color-temperature\n     **/\n\n\n    var unpack$v = utils.unpack;\n    var round$6 = Math.round;\n\n    var rgb2temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var rgb = unpack$v(args, 'rgb');\n        var r = rgb[0], b = rgb[2];\n        var minTemp = 1000;\n        var maxTemp = 40000;\n        var eps = 0.4;\n        var temp;\n        while (maxTemp - minTemp > eps) {\n            temp = (maxTemp + minTemp) * 0.5;\n            var rgb$1 = temperature2rgb_1(temp);\n            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {\n                maxTemp = temp;\n            } else {\n                minTemp = temp;\n            }\n        }\n        return round$6(temp);\n    };\n\n    var rgb2temperature_1 = rgb2temperature;\n\n    Color_1.prototype.temp =\n    Color_1.prototype.kelvin =\n    Color_1.prototype.temperature = function() {\n        return rgb2temperature_1(this._rgb);\n    };\n\n    chroma_1.temp =\n    chroma_1.kelvin =\n    chroma_1.temperature = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));\n    };\n\n    input.format.temp =\n    input.format.kelvin =\n    input.format.temperature = temperature2rgb_1;\n\n    var type$f = utils.type;\n\n    Color_1.prototype.alpha = function(a, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        if (a !== undefined && type$f(a) === 'number') {\n            if (mutate) {\n                this._rgb[3] = a;\n                return this;\n            }\n            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');\n        }\n        return this._rgb[3];\n    };\n\n    Color_1.prototype.clipped = function() {\n        return this._rgb._clipped || false;\n    };\n\n    Color_1.prototype.darken = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lab = me.lab();\n    \tlab[0] -= labConstants.Kn * amount;\n    \treturn new Color_1(lab, 'lab').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.brighten = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.darken(-amount);\n    };\n\n    Color_1.prototype.darker = Color_1.prototype.darken;\n    Color_1.prototype.brighter = Color_1.prototype.brighten;\n\n    Color_1.prototype.get = function(mc) {\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) { return src[i]; }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var type$g = utils.type;\n    var pow$2 = Math.pow;\n\n    var EPS = 1e-7;\n    var MAX_ITER = 20;\n\n    Color_1.prototype.luminance = function(lum) {\n        if (lum !== undefined && type$g(lum) === 'number') {\n            if (lum === 0) {\n                // return pure black\n                return new Color_1([0,0,0,this._rgb[3]], 'rgb');\n            }\n            if (lum === 1) {\n                // return pure white\n                return new Color_1([255,255,255,this._rgb[3]], 'rgb');\n            }\n            // compute new color using...\n            var cur_lum = this.luminance();\n            var mode = 'rgb';\n            var max_iter = MAX_ITER;\n\n            var test = function (low, high) {\n                var mid = low.interpolate(high, 0.5, mode);\n                var lm = mid.luminance();\n                if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                    // close enough\n                    return mid;\n                }\n                return lm > lum ? test(low, mid) : test(mid, high);\n            };\n\n            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();\n            return new Color_1(rgb.concat( [this._rgb[3]]));\n        }\n        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));\n    };\n\n\n    var rgb2luminance = function (r,g,b) {\n        // relative luminance\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        r = luminance_x(r);\n        g = luminance_x(g);\n        b = luminance_x(b);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    var luminance_x = function (x) {\n        x /= 255;\n        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);\n    };\n\n    var interpolator = {};\n\n    var type$h = utils.type;\n\n\n    var mix = function (col1, col2, f) {\n        if ( f === void 0 ) f=0.5;\n        var rest = [], len = arguments.length - 3;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];\n\n        var mode = rest[0] || 'lrgb';\n        if (!interpolator[mode] && !rest.length) {\n            // fall back to the first supported mode\n            mode = Object.keys(interpolator)[0];\n        }\n        if (!interpolator[mode]) {\n            throw new Error((\"interpolation mode \" + mode + \" is not defined\"));\n        }\n        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }\n        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }\n        return interpolator[mode](col1, col2, f)\n            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n    };\n\n    Color_1.prototype.mix =\n    Color_1.prototype.interpolate = function(col2, f) {\n    \tif ( f === void 0 ) f=0.5;\n    \tvar rest = [], len = arguments.length - 2;\n    \twhile ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n    \treturn mix.apply(void 0, [ this, col2, f ].concat( rest ));\n    };\n\n    Color_1.prototype.premultiply = function(mutate) {\n    \tif ( mutate === void 0 ) mutate=false;\n\n    \tvar rgb = this._rgb;\n    \tvar a = rgb[3];\n    \tif (mutate) {\n    \t\tthis._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];\n    \t\treturn this;\n    \t} else {\n    \t\treturn new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');\n    \t}\n    };\n\n    Color_1.prototype.saturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \tvar me = this;\n    \tvar lch = me.lch();\n    \tlch[1] += labConstants.Kn * amount;\n    \tif (lch[1] < 0) { lch[1] = 0; }\n    \treturn new Color_1(lch, 'lch').alpha(me.alpha(), true);\n    };\n\n    Color_1.prototype.desaturate = function(amount) {\n    \tif ( amount === void 0 ) amount=1;\n\n    \treturn this.saturate(-amount);\n    };\n\n    var type$i = utils.type;\n\n    Color_1.prototype.set = function(mc, value, mutate) {\n        if ( mutate === void 0 ) mutate=false;\n\n        var ref = mc.split('.');\n        var mode = ref[0];\n        var channel = ref[1];\n        var src = this[mode]();\n        if (channel) {\n            var i = mode.indexOf(channel);\n            if (i > -1) {\n                if (type$i(value) == 'string') {\n                    switch(value.charAt(0)) {\n                        case '+': src[i] += +value; break;\n                        case '-': src[i] += +value; break;\n                        case '*': src[i] *= +(value.substr(1)); break;\n                        case '/': src[i] /= +(value.substr(1)); break;\n                        default: src[i] = +value;\n                    }\n                } else if (type$i(value) === 'number') {\n                    src[i] = value;\n                } else {\n                    throw new Error(\"unsupported value for Color.set\");\n                }\n                var out = new Color_1(src, mode);\n                if (mutate) {\n                    this._rgb = out._rgb;\n                    return this;\n                }\n                return out;\n            }\n            throw new Error((\"unknown channel \" + channel + \" in mode \" + mode));\n        } else {\n            return src;\n        }\n    };\n\n    var rgb$1 = function (col1, col2, f) {\n        var xyz0 = col1._rgb;\n        var xyz1 = col2._rgb;\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.rgb = rgb$1;\n\n    var sqrt$2 = Math.sqrt;\n    var pow$3 = Math.pow;\n\n    var lrgb = function (col1, col2, f) {\n        var ref = col1._rgb;\n        var x1 = ref[0];\n        var y1 = ref[1];\n        var z1 = ref[2];\n        var ref$1 = col2._rgb;\n        var x2 = ref$1[0];\n        var y2 = ref$1[1];\n        var z2 = ref$1[2];\n        return new Color_1(\n            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),\n            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),\n            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),\n            'rgb'\n        )\n    };\n\n    // register interpolator\n    interpolator.lrgb = lrgb;\n\n    var lab$1 = function (col1, col2, f) {\n        var xyz0 = col1.lab();\n        var xyz1 = col2.lab();\n        return new Color_1(\n            xyz0[0] + f * (xyz1[0]-xyz0[0]),\n            xyz0[1] + f * (xyz1[1]-xyz0[1]),\n            xyz0[2] + f * (xyz1[2]-xyz0[2]),\n            'lab'\n        )\n    };\n\n    // register interpolator\n    interpolator.lab = lab$1;\n\n    var _hsx = function (col1, col2, f, m) {\n        var assign, assign$1;\n\n        var xyz0, xyz1;\n        if (m === 'hsl') {\n            xyz0 = col1.hsl();\n            xyz1 = col2.hsl();\n        } else if (m === 'hsv') {\n            xyz0 = col1.hsv();\n            xyz1 = col2.hsv();\n        } else if (m === 'hcg') {\n            xyz0 = col1.hcg();\n            xyz1 = col2.hcg();\n        } else if (m === 'hsi') {\n            xyz0 = col1.hsi();\n            xyz1 = col2.hsi();\n        } else if (m === 'lch' || m === 'hcl') {\n            m = 'hcl';\n            xyz0 = col1.hcl();\n            xyz1 = col2.hcl();\n        }\n\n        var hue0, hue1, sat0, sat1, lbv0, lbv1;\n        if (m.substr(0, 1) === 'h') {\n            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);\n            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);\n        }\n\n        var sat, hue, lbv, dh;\n\n        if (!isNaN(hue0) && !isNaN(hue1)) {\n            // both colors have hue\n            if (hue1 > hue0 && hue1 - hue0 > 180) {\n                dh = hue1-(hue0+360);\n            } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n                dh = hue1+360-hue0;\n            } else{\n                dh = hue1 - hue0;\n            }\n            hue = hue0 + f * dh;\n        } else if (!isNaN(hue0)) {\n            hue = hue0;\n            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }\n        } else if (!isNaN(hue1)) {\n            hue = hue1;\n            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }\n        } else {\n            hue = Number.NaN;\n        }\n\n        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }\n        lbv = lbv0 + f * (lbv1-lbv0);\n        return new Color_1([hue, sat, lbv], m);\n    };\n\n    var lch$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'lch');\n    };\n\n    // register interpolator\n    interpolator.lch = lch$1;\n    interpolator.hcl = lch$1;\n\n    var num$1 = function (col1, col2, f) {\n        var c1 = col1.num();\n        var c2 = col2.num();\n        return new Color_1(c1 + f * (c2-c1), 'num')\n    };\n\n    // register interpolator\n    interpolator.num = num$1;\n\n    var hcg$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hcg');\n    };\n\n    // register interpolator\n    interpolator.hcg = hcg$1;\n\n    var hsi$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsi');\n    };\n\n    // register interpolator\n    interpolator.hsi = hsi$1;\n\n    var hsl$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsl');\n    };\n\n    // register interpolator\n    interpolator.hsl = hsl$1;\n\n    var hsv$1 = function (col1, col2, f) {\n    \treturn _hsx(col1, col2, f, 'hsv');\n    };\n\n    // register interpolator\n    interpolator.hsv = hsv$1;\n\n    var clip_rgb$2 = utils.clip_rgb;\n    var pow$4 = Math.pow;\n    var sqrt$3 = Math.sqrt;\n    var PI$1 = Math.PI;\n    var cos$2 = Math.cos;\n    var sin$1 = Math.sin;\n    var atan2$1 = Math.atan2;\n\n    var average = function (colors, mode, weights) {\n        if ( mode === void 0 ) mode='lrgb';\n        if ( weights === void 0 ) weights=null;\n\n        var l = colors.length;\n        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }\n        // normalize weights\n        var k = l / weights.reduce(function(a, b) { return a + b; });\n        weights.forEach(function (w,i) { weights[i] *= k; });\n        // convert colors to Color objects\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (mode === 'lrgb') {\n            return _average_lrgb(colors, weights)\n        }\n        var first = colors.shift();\n        var xyz = first.get(mode);\n        var cnt = [];\n        var dx = 0;\n        var dy = 0;\n        // initial color\n        for (var i=0; i<xyz.length; i++) {\n            xyz[i] = (xyz[i] || 0) * weights[0];\n            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);\n            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n                var A = xyz[i] / 180 * PI$1;\n                dx += cos$2(A) * weights[0];\n                dy += sin$1(A) * weights[0];\n            }\n        }\n\n        var alpha = first.alpha() * weights[0];\n        colors.forEach(function (c,ci) {\n            var xyz2 = c.get(mode);\n            alpha += c.alpha() * weights[ci+1];\n            for (var i=0; i<xyz.length; i++) {\n                if (!isNaN(xyz2[i])) {\n                    cnt[i] += weights[ci+1];\n                    if (mode.charAt(i) === 'h') {\n                        var A = xyz2[i] / 180 * PI$1;\n                        dx += cos$2(A) * weights[ci+1];\n                        dy += sin$1(A) * weights[ci+1];\n                    } else {\n                        xyz[i] += xyz2[i] * weights[ci+1];\n                    }\n                }\n            }\n        });\n\n        for (var i$1=0; i$1<xyz.length; i$1++) {\n            if (mode.charAt(i$1) === 'h') {\n                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;\n                while (A$1 < 0) { A$1 += 360; }\n                while (A$1 >= 360) { A$1 -= 360; }\n                xyz[i$1] = A$1;\n            } else {\n                xyz[i$1] = xyz[i$1]/cnt[i$1];\n            }\n        }\n        alpha /= l;\n        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);\n    };\n\n\n    var _average_lrgb = function (colors, weights) {\n        var l = colors.length;\n        var xyz = [0,0,0,0];\n        for (var i=0; i < colors.length; i++) {\n            var col = colors[i];\n            var f = weights[i] / l;\n            var rgb = col._rgb;\n            xyz[0] += pow$4(rgb[0],2) * f;\n            xyz[1] += pow$4(rgb[1],2) * f;\n            xyz[2] += pow$4(rgb[2],2) * f;\n            xyz[3] += rgb[3] * f;\n        }\n        xyz[0] = sqrt$3(xyz[0]);\n        xyz[1] = sqrt$3(xyz[1]);\n        xyz[2] = sqrt$3(xyz[2]);\n        if (xyz[3] > 0.9999999) { xyz[3] = 1; }\n        return new Color_1(clip_rgb$2(xyz));\n    };\n\n    // minimal multi-purpose interface\n\n    // @requires utils color analyze\n\n\n    var type$j = utils.type;\n\n    var pow$5 = Math.pow;\n\n    var scale = function(colors) {\n\n        // constructor\n        var _mode = 'rgb';\n        var _nacol = chroma_1('#ccc');\n        var _spread = 0;\n        // const _fixed = false;\n        var _domain = [0, 1];\n        var _pos = [];\n        var _padding = [0,0];\n        var _classes = false;\n        var _colors = [];\n        var _out = false;\n        var _min = 0;\n        var _max = 1;\n        var _correctLightness = false;\n        var _colorCache = {};\n        var _useCache = true;\n        var _gamma = 1;\n\n        // private methods\n\n        var setColors = function(colors) {\n            colors = colors || ['#fff', '#000'];\n            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&\n                chroma_1.brewer[colors.toLowerCase()]) {\n                colors = chroma_1.brewer[colors.toLowerCase()];\n            }\n            if (type$j(colors) === 'array') {\n                // handle single color\n                if (colors.length === 1) {\n                    colors = [colors[0], colors[0]];\n                }\n                // make a copy of the colors\n                colors = colors.slice(0);\n                // convert to chroma classes\n                for (var c=0; c<colors.length; c++) {\n                    colors[c] = chroma_1(colors[c]);\n                }\n                // auto-fill color position\n                _pos.length = 0;\n                for (var c$1=0; c$1<colors.length; c$1++) {\n                    _pos.push(c$1/(colors.length-1));\n                }\n            }\n            resetCache();\n            return _colors = colors;\n        };\n\n        var getClass = function(value) {\n            if (_classes != null) {\n                var n = _classes.length-1;\n                var i = 0;\n                while (i < n && value >= _classes[i]) {\n                    i++;\n                }\n                return i-1;\n            }\n            return 0;\n        };\n\n        var tMapLightness = function (t) { return t; };\n        var tMapDomain = function (t) { return t; };\n\n        // const classifyValue = function(value) {\n        //     let val = value;\n        //     if (_classes.length > 2) {\n        //         const n = _classes.length-1;\n        //         const i = getClass(value);\n        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class\n        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class\n        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));\n        //     }\n        //     return val;\n        // };\n\n        var getColor = function(val, bypassMap) {\n            var col, t;\n            if (bypassMap == null) { bypassMap = false; }\n            if (isNaN(val) || (val === null)) { return _nacol; }\n            if (!bypassMap) {\n                if (_classes && (_classes.length > 2)) {\n                    // find the class\n                    var c = getClass(val);\n                    t = c / (_classes.length-2);\n                } else if (_max !== _min) {\n                    // just interpolate between min/max\n                    t = (val - _min) / (_max - _min);\n                } else {\n                    t = 1;\n                }\n            } else {\n                t = val;\n            }\n\n            // domain map\n            t = tMapDomain(t);\n\n            if (!bypassMap) {\n                t = tMapLightness(t);  // lightness correction\n            }\n\n            if (_gamma !== 1) { t = pow$5(t, _gamma); }\n\n            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n\n            t = Math.min(1, Math.max(0, t));\n\n            var k = Math.floor(t * 10000);\n\n            if (_useCache && _colorCache[k]) {\n                col = _colorCache[k];\n            } else {\n                if (type$j(_colors) === 'array') {\n                    //for i in [0.._pos.length-1]\n                    for (var i=0; i<_pos.length; i++) {\n                        var p = _pos[i];\n                        if (t <= p) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if ((t >= p) && (i === (_pos.length-1))) {\n                            col = _colors[i];\n                            break;\n                        }\n                        if (t > p && t < _pos[i+1]) {\n                            t = (t-p)/(_pos[i+1]-p);\n                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);\n                            break;\n                        }\n                    }\n                } else if (type$j(_colors) === 'function') {\n                    col = _colors(t);\n                }\n                if (_useCache) { _colorCache[k] = col; }\n            }\n            return col;\n        };\n\n        var resetCache = function () { return _colorCache = {}; };\n\n        setColors(colors);\n\n        // public interface\n\n        var f = function(v) {\n            var c = chroma_1(getColor(v));\n            if (_out && c[_out]) { return c[_out](); } else { return c; }\n        };\n\n        f.classes = function(classes) {\n            if (classes != null) {\n                if (type$j(classes) === 'array') {\n                    _classes = classes;\n                    _domain = [classes[0], classes[classes.length-1]];\n                } else {\n                    var d = chroma_1.analyze(_domain);\n                    if (classes === 0) {\n                        _classes = [d.min, d.max];\n                    } else {\n                        _classes = chroma_1.limits(d, 'e', classes);\n                    }\n                }\n                return f;\n            }\n            return _classes;\n        };\n\n\n        f.domain = function(domain) {\n            if (!arguments.length) {\n                return _domain;\n            }\n            _min = domain[0];\n            _max = domain[domain.length-1];\n            _pos = [];\n            var k = _colors.length;\n            if ((domain.length === k) && (_min !== _max)) {\n                // update positions\n                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {\n                    var d = list[i];\n\n                  _pos.push((d-_min) / (_max-_min));\n                }\n            } else {\n                for (var c=0; c<k; c++) {\n                    _pos.push(c/(k-1));\n                }\n                if (domain.length > 2) {\n                    // set domain map\n                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });\n                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });\n                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {\n                        tMapDomain = function (t) {\n                            if (t <= 0 || t >= 1) { return t; }\n                            var i = 0;\n                            while (t >= tBreaks[i+1]) { i++; }\n                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);\n                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);\n                            return out;\n                        };\n                    }\n\n                }\n            }\n            _domain = [_min, _max];\n            return f;\n        };\n\n        f.mode = function(_m) {\n            if (!arguments.length) {\n                return _mode;\n            }\n            _mode = _m;\n            resetCache();\n            return f;\n        };\n\n        f.range = function(colors, _pos) {\n            setColors(colors, _pos);\n            return f;\n        };\n\n        f.out = function(_o) {\n            _out = _o;\n            return f;\n        };\n\n        f.spread = function(val) {\n            if (!arguments.length) {\n                return _spread;\n            }\n            _spread = val;\n            return f;\n        };\n\n        f.correctLightness = function(v) {\n            if (v == null) { v = true; }\n            _correctLightness = v;\n            resetCache();\n            if (_correctLightness) {\n                tMapLightness = function(t) {\n                    var L0 = getColor(0, true).lab()[0];\n                    var L1 = getColor(1, true).lab()[0];\n                    var pol = L0 > L1;\n                    var L_actual = getColor(t, true).lab()[0];\n                    var L_ideal = L0 + ((L1 - L0) * t);\n                    var L_diff = L_actual - L_ideal;\n                    var t0 = 0;\n                    var t1 = 1;\n                    var max_iter = 20;\n                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {\n                        (function() {\n                            if (pol) { L_diff *= -1; }\n                            if (L_diff < 0) {\n                                t0 = t;\n                                t += (t1 - t) * 0.5;\n                            } else {\n                                t1 = t;\n                                t += (t0 - t) * 0.5;\n                            }\n                            L_actual = getColor(t, true).lab()[0];\n                            return L_diff = L_actual - L_ideal;\n                        })();\n                    }\n                    return t;\n                };\n            } else {\n                tMapLightness = function (t) { return t; };\n            }\n            return f;\n        };\n\n        f.padding = function(p) {\n            if (p != null) {\n                if (type$j(p) === 'number') {\n                    p = [p,p];\n                }\n                _padding = p;\n                return f;\n            } else {\n                return _padding;\n            }\n        };\n\n        f.colors = function(numColors, out) {\n            // If no arguments are given, return the original colors that were provided\n            if (arguments.length < 2) { out = 'hex'; }\n            var result = [];\n\n            if (arguments.length === 0) {\n                result = _colors.slice(0);\n\n            } else if (numColors === 1) {\n                result = [f(0.5)];\n\n            } else if (numColors > 1) {\n                var dm = _domain[0];\n                var dd = _domain[1] - dm;\n                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });\n\n            } else { // returns all colors based on the defined classes\n                colors = [];\n                var samples = [];\n                if (_classes && (_classes.length > 2)) {\n                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                        samples.push((_classes[i-1]+_classes[i])*0.5);\n                    }\n                } else {\n                    samples = _domain;\n                }\n                result = samples.map(function (v) { return f(v); });\n            }\n\n            if (chroma_1[out]) {\n                result = result.map(function (c) { return c[out](); });\n            }\n            return result;\n        };\n\n        f.cache = function(c) {\n            if (c != null) {\n                _useCache = c;\n                return f;\n            } else {\n                return _useCache;\n            }\n        };\n\n        f.gamma = function(g) {\n            if (g != null) {\n                _gamma = g;\n                return f;\n            } else {\n                return _gamma;\n            }\n        };\n\n        f.nodata = function(d) {\n            if (d != null) {\n                _nacol = chroma_1(d);\n                return f;\n            } else {\n                return _nacol;\n            }\n        };\n\n        return f;\n    };\n\n    function __range__(left, right, inclusive) {\n      var range = [];\n      var ascending = left < right;\n      var end = !inclusive ? right : ascending ? right + 1 : right - 1;\n      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n        range.push(i);\n      }\n      return range;\n    }\n\n    //\n    // interpolates between a set of colors uzing a bezier spline\n    //\n\n    // @requires utils lab\n\n\n\n\n    var bezier = function(colors) {\n        var assign, assign$1, assign$2;\n\n        var I, lab0, lab1, lab2;\n        colors = colors.map(function (c) { return new Color_1(c); });\n        if (colors.length === 2) {\n            // linear interpolation\n            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 3) {\n            // quadratic bezier interpolation\n            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 4) {\n            // cubic bezier interpolation\n            var lab3;\n            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);\n            I = function(t) {\n                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));\n                return new Color_1(lab, 'lab');\n            };\n        } else if (colors.length === 5) {\n            var I0 = bezier(colors.slice(0, 3));\n            var I1 = bezier(colors.slice(2, 5));\n            I = function(t) {\n                if (t < 0.5) {\n                    return I0(t*2);\n                } else {\n                    return I1((t-0.5)*2);\n                }\n            };\n        }\n        return I;\n    };\n\n    var bezier_1 = function (colors) {\n        var f = bezier(colors);\n        f.scale = function () { return scale(f); };\n        return f;\n    };\n\n    /*\n     * interpolates between a set of colors uzing a bezier spline\n     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n     */\n\n\n\n\n    var blend = function (bottom, top, mode) {\n        if (!blend[mode]) {\n            throw new Error('unknown blend mode ' + mode);\n        }\n        return blend[mode](bottom, top);\n    };\n\n    var blend_f = function (f) { return function (bottom,top) {\n            var c0 = chroma_1(top).rgb();\n            var c1 = chroma_1(bottom).rgb();\n            return chroma_1.rgb(f(c0, c1));\n        }; };\n\n    var each = function (f) { return function (c0, c1) {\n            var out = [];\n            out[0] = f(c0[0], c1[0]);\n            out[1] = f(c0[1], c1[1]);\n            out[2] = f(c0[2], c1[2]);\n            return out;\n        }; };\n\n    var normal = function (a) { return a; };\n    var multiply = function (a,b) { return a * b / 255; };\n    var darken$1 = function (a,b) { return a > b ? b : a; };\n    var lighten = function (a,b) { return a > b ? a : b; };\n    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };\n    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };\n    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };\n    var dodge = function (a,b) {\n        if (a === 255) { return 255; }\n        a = 255 * (b / 255) / (1 - a / 255);\n        return a > 255 ? 255 : a\n    };\n\n    // # add = (a,b) ->\n    // #     if (a + b > 255) then 255 else a + b\n\n    blend.normal = blend_f(each(normal));\n    blend.multiply = blend_f(each(multiply));\n    blend.screen = blend_f(each(screen));\n    blend.overlay = blend_f(each(overlay));\n    blend.darken = blend_f(each(darken$1));\n    blend.lighten = blend_f(each(lighten));\n    blend.dodge = blend_f(each(dodge));\n    blend.burn = blend_f(each(burn));\n    // blend.add = blend_f(each(add));\n\n    var blend_1 = blend;\n\n    // cubehelix interpolation\n    // based on D.A. Green \"A colour scheme for the display of astronomical intensity images\"\n    // http://astron-soc.in/bulletin/11June/289392011.pdf\n\n    var type$k = utils.type;\n    var clip_rgb$3 = utils.clip_rgb;\n    var TWOPI$2 = utils.TWOPI;\n    var pow$6 = Math.pow;\n    var sin$2 = Math.sin;\n    var cos$3 = Math.cos;\n\n\n    var cubehelix = function(start, rotations, hue, gamma, lightness) {\n        if ( start === void 0 ) start=300;\n        if ( rotations === void 0 ) rotations=-1.5;\n        if ( hue === void 0 ) hue=1;\n        if ( gamma === void 0 ) gamma=1;\n        if ( lightness === void 0 ) lightness=[0,1];\n\n        var dh = 0, dl;\n        if (type$k(lightness) === 'array') {\n            dl = lightness[1] - lightness[0];\n        } else {\n            dl = 0;\n            lightness = [lightness, lightness];\n        }\n\n        var f = function(fract) {\n            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));\n            var l = pow$6(lightness[0] + (dl * fract), gamma);\n            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;\n            var amp = (h * l * (1-l)) / 2;\n            var cos_a = cos$3(a);\n            var sin_a = sin$2(a);\n            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));\n            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));\n            var b = l + (amp * (+1.97294 * cos_a));\n            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));\n        };\n\n        f.start = function(s) {\n            if ((s == null)) { return start; }\n            start = s;\n            return f;\n        };\n\n        f.rotations = function(r) {\n            if ((r == null)) { return rotations; }\n            rotations = r;\n            return f;\n        };\n\n        f.gamma = function(g) {\n            if ((g == null)) { return gamma; }\n            gamma = g;\n            return f;\n        };\n\n        f.hue = function(h) {\n            if ((h == null)) { return hue; }\n            hue = h;\n            if (type$k(hue) === 'array') {\n                dh = hue[1] - hue[0];\n                if (dh === 0) { hue = hue[1]; }\n            } else {\n                dh = 0;\n            }\n            return f;\n        };\n\n        f.lightness = function(h) {\n            if ((h == null)) { return lightness; }\n            if (type$k(h) === 'array') {\n                lightness = h;\n                dl = h[1] - h[0];\n            } else {\n                lightness = [h,h];\n                dl = 0;\n            }\n            return f;\n        };\n\n        f.scale = function () { return chroma_1.scale(f); };\n\n        f.hue(hue);\n\n        return f;\n    };\n\n    var digits = '0123456789abcdef';\n\n    var floor$2 = Math.floor;\n    var random = Math.random;\n\n    var random_1 = function () {\n        var code = '#';\n        for (var i=0; i<6; i++) {\n            code += digits.charAt(floor$2(random() * 16));\n        }\n        return new Color_1(code, 'hex');\n    };\n\n    var log$1 = Math.log;\n    var pow$7 = Math.pow;\n    var floor$3 = Math.floor;\n    var abs = Math.abs;\n\n\n    var analyze = function (data, key) {\n        if ( key === void 0 ) key=null;\n\n        var r = {\n            min: Number.MAX_VALUE,\n            max: Number.MAX_VALUE*-1,\n            sum: 0,\n            values: [],\n            count: 0\n        };\n        if (type(data) === 'object') {\n            data = Object.values(data);\n        }\n        data.forEach(function (val) {\n            if (key && type(val) === 'object') { val = val[key]; }\n            if (val !== undefined && val !== null && !isNaN(val)) {\n                r.values.push(val);\n                r.sum += val;\n                if (val < r.min) { r.min = val; }\n                if (val > r.max) { r.max = val; }\n                r.count += 1;\n            }\n        });\n\n        r.domain = [r.min, r.max];\n\n        r.limits = function (mode, num) { return limits(r, mode, num); };\n\n        return r;\n    };\n\n\n    var limits = function (data, mode, num) {\n        if ( mode === void 0 ) mode='equal';\n        if ( num === void 0 ) num=7;\n\n        if (type(data) == 'array') {\n            data = analyze(data);\n        }\n        var min = data.min;\n        var max = data.max;\n        var values = data.values.sort(function (a,b) { return a-b; });\n\n        if (num === 1) { return [min,max]; }\n\n        var limits = [];\n\n        if (mode.substr(0,1) === 'c') { // continuous\n            limits.push(min);\n            limits.push(max);\n        }\n\n        if (mode.substr(0,1) === 'e') { // equal interval\n            limits.push(min);\n            for (var i=1; i<num; i++) {\n                limits.push(min+((i/num)*(max-min)));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'l') { // log scale\n            if (min <= 0) {\n                throw new Error('Logarithmic scales are only possible for values > 0');\n            }\n            var min_log = Math.LOG10E * log$1(min);\n            var max_log = Math.LOG10E * log$1(max);\n            limits.push(min);\n            for (var i$1=1; i$1<num; i$1++) {\n                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));\n            }\n            limits.push(max);\n        }\n\n        else if (mode.substr(0,1) === 'q') { // quantile scale\n            limits.push(min);\n            for (var i$2=1; i$2<num; i$2++) {\n                var p = ((values.length-1) * i$2)/num;\n                var pb = floor$3(p);\n                if (pb === p) {\n                    limits.push(values[pb]);\n                } else { // p > pb\n                    var pr = p - pb;\n                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));\n                }\n            }\n            limits.push(max);\n\n        }\n\n        else if (mode.substr(0,1) === 'k') { // k-means clustering\n            /*\n            implementation based on\n            http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n            simplified for 1-d input values\n            */\n            var cluster;\n            var n = values.length;\n            var assignments = new Array(n);\n            var clusterSizes = new Array(num);\n            var repeat = true;\n            var nb_iters = 0;\n            var centroids = null;\n\n            // get seed values\n            centroids = [];\n            centroids.push(min);\n            for (var i$3=1; i$3<num; i$3++) {\n                centroids.push(min + ((i$3/num) * (max-min)));\n            }\n            centroids.push(max);\n\n            while (repeat) {\n                // assignment step\n                for (var j=0; j<num; j++) {\n                    clusterSizes[j] = 0;\n                }\n                for (var i$4=0; i$4<n; i$4++) {\n                    var value = values[i$4];\n                    var mindist = Number.MAX_VALUE;\n                    var best = (void 0);\n                    for (var j$1=0; j$1<num; j$1++) {\n                        var dist = abs(centroids[j$1]-value);\n                        if (dist < mindist) {\n                            mindist = dist;\n                            best = j$1;\n                        }\n                        clusterSizes[best]++;\n                        assignments[i$4] = best;\n                    }\n                }\n\n                // update centroids step\n                var newCentroids = new Array(num);\n                for (var j$2=0; j$2<num; j$2++) {\n                    newCentroids[j$2] = null;\n                }\n                for (var i$5=0; i$5<n; i$5++) {\n                    cluster = assignments[i$5];\n                    if (newCentroids[cluster] === null) {\n                        newCentroids[cluster] = values[i$5];\n                    } else {\n                        newCentroids[cluster] += values[i$5];\n                    }\n                }\n                for (var j$3=0; j$3<num; j$3++) {\n                    newCentroids[j$3] *= 1/clusterSizes[j$3];\n                }\n\n                // check convergence\n                repeat = false;\n                for (var j$4=0; j$4<num; j$4++) {\n                    if (newCentroids[j$4] !== centroids[j$4]) {\n                        repeat = true;\n                        break;\n                    }\n                }\n\n                centroids = newCentroids;\n                nb_iters++;\n\n                if (nb_iters > 200) {\n                    repeat = false;\n                }\n            }\n\n            // finished k-means clustering\n            // the next part is borrowed from gabrielflor.it\n            var kClusters = {};\n            for (var j$5=0; j$5<num; j$5++) {\n                kClusters[j$5] = [];\n            }\n            for (var i$6=0; i$6<n; i$6++) {\n                cluster = assignments[i$6];\n                kClusters[cluster].push(values[i$6]);\n            }\n            var tmpKMeansBreaks = [];\n            for (var j$6=0; j$6<num; j$6++) {\n                tmpKMeansBreaks.push(kClusters[j$6][0]);\n                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);\n            }\n            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });\n            limits.push(tmpKMeansBreaks[0]);\n            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {\n                var v = tmpKMeansBreaks[i$7];\n                if (!isNaN(v) && (limits.indexOf(v) === -1)) {\n                    limits.push(v);\n                }\n            }\n        }\n        return limits;\n    };\n\n    var analyze_1 = {analyze: analyze, limits: limits};\n\n    var contrast = function (a, b) {\n        // WCAG contrast ratio\n        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.luminance();\n        var l2 = b.luminance();\n        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);\n    };\n\n    var sqrt$4 = Math.sqrt;\n    var atan2$2 = Math.atan2;\n    var abs$1 = Math.abs;\n    var cos$4 = Math.cos;\n    var PI$2 = Math.PI;\n\n    var deltaE = function(a, b, L, C) {\n        if ( L === void 0 ) L=1;\n        if ( C === void 0 ) C=1;\n\n        // Delta E (CMC)\n        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var ref = Array.from(a.lab());\n        var L1 = ref[0];\n        var a1 = ref[1];\n        var b1 = ref[2];\n        var ref$1 = Array.from(b.lab());\n        var L2 = ref$1[0];\n        var a2 = ref$1[1];\n        var b2 = ref$1[2];\n        var c1 = sqrt$4((a1 * a1) + (b1 * b1));\n        var c2 = sqrt$4((a2 * a2) + (b2 * b2));\n        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));\n        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;\n        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;\n        while (h1 < 0) { h1 += 360; }\n        while (h1 >= 360) { h1 -= 360; }\n        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));\n        var c4 = c1 * c1 * c1 * c1;\n        var f = sqrt$4(c4 / (c4 + 1900.0));\n        var sh = sc * (((f * t) + 1.0) - f);\n        var delL = L1 - L2;\n        var delC = c1 - c2;\n        var delA = a1 - a2;\n        var delB = b1 - b2;\n        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);\n        var v1 = delL / (L * sl);\n        var v2 = delC / (C * sc);\n        var v3 = sh;\n        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));\n    };\n\n    // simple Euclidean distance\n    var distance = function(a, b, mode) {\n        if ( mode === void 0 ) mode='lab';\n\n        // Delta E (CIE 1976)\n        // see http://www.brucelindbloom.com/index.html?Equations.html\n        a = new Color_1(a);\n        b = new Color_1(b);\n        var l1 = a.get(mode);\n        var l2 = b.get(mode);\n        var sum_sq = 0;\n        for (var i in l1) {\n            var d = (l1[i] || 0) - (l2[i] || 0);\n            sum_sq += d*d;\n        }\n        return Math.sqrt(sum_sq);\n    };\n\n    var valid = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        try {\n            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    // some pre-defined color scales:\n\n\n\n\n    var scales = {\n    \tcool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },\n    \thot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }\n    };\n\n    /**\n        ColorBrewer colors for chroma.js\n\n        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The\n        Pennsylvania State University.\n\n        Licensed under the Apache License, Version 2.0 (the \"License\");\n        you may not use this file except in compliance with the License.\n        You may obtain a copy of the License at\n        http://www.apache.org/licenses/LICENSE-2.0\n\n        Unless required by applicable law or agreed to in writing, software distributed\n        under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n        CONDITIONS OF ANY KIND, either express or implied. See the License for the\n        specific language governing permissions and limitations under the License.\n    */\n\n    var colorbrewer = {\n        // sequential\n        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n\n        // diverging\n\n        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n\n        // qualitative\n\n        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],\n    };\n\n    // add lowercase aliases for case-insensitive matches\n    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {\n        var key = list$1[i$1];\n\n        colorbrewer[key.toLowerCase()] = colorbrewer[key];\n    }\n\n    var colorbrewer_1 = colorbrewer;\n\n    // feel free to comment out anything to rollup\n    // a smaller chroma.js built\n\n    // io --> convert colors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    // operators --> modify existing Colors\n\n\n\n\n\n\n\n\n\n\n    // interpolators\n\n\n\n\n\n\n\n\n\n\n    // generators -- > create new colors\n    chroma_1.average = average;\n    chroma_1.bezier = bezier_1;\n    chroma_1.blend = blend_1;\n    chroma_1.cubehelix = cubehelix;\n    chroma_1.mix = chroma_1.interpolate = mix;\n    chroma_1.random = random_1;\n    chroma_1.scale = scale;\n\n    // other utility methods\n    chroma_1.analyze = analyze_1.analyze;\n    chroma_1.contrast = contrast;\n    chroma_1.deltaE = deltaE;\n    chroma_1.distance = distance;\n    chroma_1.limits = analyze_1.limits;\n    chroma_1.valid = valid;\n\n    // scale\n    chroma_1.scales = scales;\n\n    // colors\n    chroma_1.colors = w3cx11_1;\n    chroma_1.brewer = colorbrewer_1;\n\n    var chroma_js = chroma_1;\n\n    return chroma_js;\n\n})));\n","<script>\n  import chroma from 'chroma-js';\n\n  // props\n  export let name, value = {}, onChange;\n\n  // input type=\"color\" uses RGB values, so convert to/from HSV\n  let hsv = value.setting || value.default;\n  let colorValue = chroma({h: hsv.h*360, s: hsv.s, v: hsv.v}).hex('rgb');\n\n  const onChangeRGB = () => {\n    const [h,s,v] = chroma(colorValue).hsv();\n    onChange({h:h/360, s:s, v:v})\n  }\n</script>\n\n<label class=\"flex flex-col m-1 text-white\">\n  {name}\n  <input class=\"my-2\" type=\"color\" bind:value={colorValue} on:change={onChangeRGB} />\n</label>\n","<script>\n  import Slider from '@smui/slider';\n\n  // props\n  export let name, value = {}, onChange;\n\n  // MDCSlider has an annoying bug with floats < 1, so use percentages by multiplying by 100.\n  let multiplier = (value.min === 0 && value.max === 1) ? 100 : 1;\n  let min = value.min;\n  let max = value.max * multiplier;\n  let step = value.step * multiplier;\n  let sliderValue = (value.setting || value.default) * multiplier;\n\n  const submitChange = async () => {\n    await onChange(sliderValue / multiplier);\n  };\n</script>\n\n<div class=\"flex flex-col m-1 text-white\">\n  {name}\n  <Slider min={min} max={max} step={step} discrete bind:value={sliderValue} on:MDCSlider:change={submitChange} />\n</div>\n","<script>\n  import {onMount} from 'svelte';\n  import {playlist} from './stores';\n\n  import Icon from 'svelte-awesome';\n  import {chevronRight, cog, trash} from \"svelte-awesome/icons\";\n\n  import Dialog, {Content, Title} from '@smui/dialog';\n  import HSVKnob from './HSVKnob.svelte';\n  import ValueKnob from './ValueKnob.svelte';\n\n  // props\n  export let entryId, show;\n\n  let settingsDialog;\n  let showKnobs = [];\n\n  // load the available knobs and any settings for the show\n  onMount(async () => {\n    let resp = await fetch(`show_knob/${show}`);\n    if (!resp.ok) {\n      throw new Error(`get show_knob/${show} failed`);\n    }\n    const showKnobData = await resp.json();\n\n    resp = await fetch(`playlist/entries/${entryId}`);\n    if (!resp.ok) {\n      throw new Error('failed getting settings for playlist entry');\n    }\n    const settings = await resp.json();\n    showKnobData.forEach((knob) => {\n      knob.value.setting = settings[knob.name];\n    });\n\n    showKnobs = showKnobData;\n  });\n\n  // returns a function to change the setting\n  const changeSettingCallback = (name) => {\n    return async (value) => {\n      const resp = await fetch(`playlist/entries/${entryId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ [name]: value }),\n      });\n      if (!resp.ok) {\n        throw new Error(`failed to POST setting to playlist/entries/${entryId}`);\n      }\n    };\n  };\n</script>\n\n<div>\n  <Dialog bind:this={settingsDialog}>\n    <Title>{show} Settings</Title>\n    <Content>\n      <ul>\n        {#each showKnobs as knob}\n          <li>\n            {#if knob.type === 'HSVKnob'}\n            <HSVKnob {...knob} onChange={changeSettingCallback(knob.name)} />\n            {:else if knob.type === 'ValueKnob'}\n            <ValueKnob {...knob} onChange={changeSettingCallback(knob.name)} />\n            {/if}\n          </li>\n        {/each}\n      </ul>\n    </Content>\n  </Dialog>\n\n  <div class=\"rounded-md flex justify-between items-center p-1 ripple-bg-gray-800 text-white\"\n   on:click|self={() => playlist.setNext(entryId)}>\n    <div class=\"flex\"> <!-- Icon and show name to the left -->\n      <div class=\"w-4\">\n        {#if $playlist.playing === entryId}\n        <Icon data={chevronRight}/>\n        {/if}\n      </div>\n      {show}\n    </div>\n    <div class=\"flex\"> <!-- Icon buttons to the right -->\n      {#if showKnobs.length}\n      <div class=\"m-1\" on:click={settingsDialog.open}>\n        <Icon data={cog} scale=\"2\"/>\n      </div>\n      {/if}\n      <div class=\"m-1\" on:click={() => playlist.deleteItem(entryId)}>\n        <Icon data={trash} scale=\"2\"/>\n      </div>\n    </div>\n  </div>\n</div>\n","<script>\n  import {playlist} from './stores';\n  import PlaylistItem from './PlaylistItem.svelte';\n</script>\n\n<div class=\"bg-gray-800 rounded-md p-2 mt-1\">\n  <div class=\"flex justify-between items-center\">\n    <h5 class=\"text-lg text-white my-2\">Playlist</h5>\n    <div>\n      <button class=\"bg-black p-1 rounded-md text-white\" on:click={playlist.clear}>\n        Reset\n      </button>\n    </div>\n\n  </div>\n\n  <ul class=\"divide-y divide-gray-700\">\n    {#each $playlist.playlist as [entryId, show]}\n      <PlaylistItem entryId={entryId} show={show} />\n    {/each}\n  </ul>\n</div>\n","<script>\n  import {status} from './stores';\n  import HSVKnob from './HSVKnob.svelte';\n  import ValueKnob from './ValueKnob.svelte';\n\n  const changeSettingCallback = (show, name) => {\n    return async (value) => {\n      await fetch('show_knob', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({show: show, name: name, value: value}),\n      });\n    };\n  };\n</script>\n\n{#if $status.showKnobs.length !== 0}\n<div class=\"bg-gray-800 rounded-md p-2 mt-1\">\n  <h5 class=\"text-lg text-white my-2\">Now Playing - {$status.show}</h5>\n  <em class=\"text-sm text-white my-1\">Note: affects running show and choices are not saved</em>\n\n  <ul>\n    {#each $status.showKnobs as knob}\n      <li>\n        {#if knob.type === 'HSVKnob'}\n        <HSVKnob {...knob} onChange={changeSettingCallback($status.show, knob.name)} />\n        {:else if knob.type === 'ValueKnob'}\n        <ValueKnob {...knob} onChange={changeSettingCallback($status.show, knob.name)} />\n        {/if}\n      </li>\n    {/each}\n  </ul>\n</div>\n{/if}\n","<script>\n  import {onMount} from 'svelte';\n  import {playlist} from './stores';\n\n  import Icon from 'svelte-awesome';\n  import {playCircle, plusCircle} from \"svelte-awesome/icons\";\n\n  let shows = [];\n\n  onMount(async () => {\n    const resp = await fetch('shows');\n    if (!resp.ok) {\n      throw new Error('get /shows failed');\n    }\n    const data = await resp.json();\n    shows = data['shows'];\n  });\n\n  const clickPlay = async (show) => {\n    await fetch('shows', {\n      method: 'POST',\n      body: JSON.stringify({data: show}),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  };\n\n  const clickEnqueue = async (show) => {\n    await playlist.add(show);\n  };\n\n  let selected;\n</script>\n\n<div class=\"bg-gray-800 rounded-md p-2\">\n  <h5 class=\"text-lg text-white my-2\">Show Selector</h5>\n\n  <ul class=\"divide-y divide-gray-700\">\n    {#each shows as { name, description }}\n      <li class=\"rounded-md flex justify-between items-center p-1\">\n        <div class=\"flex flex-col\">\n          <div class=\"text-white\">{name}</div>\n          <div class=\"text-sm text-gray-300\">{description}</div>\n        </div>\n        <div class=\"flex\"> <!-- Buttons -->\n          <div class=\"m-1\" on:click={() => clickPlay(name)}>\n            <Icon class=\"text-white\" data={playCircle} scale=\"2\"/>\n          </div>\n          <div class=\"m-1\" on:click={() => clickEnqueue(name)}>\n            <Icon class=\"text-white\" data={plusCircle} scale=\"2\"/>\n          </div>\n        </div>\n      </li>\n    {/each}\n  </ul>\n</div>\n","<script>\n  import {status, seconds_remaining} from './stores';\n</script>\n\n{#if $status.show}\n  <span>running <strong>{$status.show}</strong> : {$seconds_remaining} seconds remaining</span>\n{:else}\n  <span><em>...loading</em></span>\n{/if}\n","import App from './App.svelte';\n\nconst app = new App({\n  target: document.body,\n});\n\nexport default app;\n"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","exclude_internal_props","props","result","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","self","this","call","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","style","cssText","set","set_svg_attributes","set_data","wholeText","set_input_value","input","toggle_class","toggle","classList","current_component","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","setContext","context","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","flush","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","bind","index","bound","create_component","mount_component","customElement","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","parent_component","on_disconnect","Map","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","$destroy","type","indexOf","splice","$$props","obj","$$set","keys","styleInject","css","ref","insertAt","head","getElementsByTagName","firstChild","styleSheet","extendStatics","setPrototypeOf","hasOwnProperty","__extends","__","constructor","prototype","__assign","t","s","arguments","apply","__read","Symbol","iterator","e","ar","next","done","error","__spread","concat","supportsPassive_","MDCFoundation","adapter","adapter_","defineProperty","enumerable","configurable","MDCComponent","root","foundation","args","_i","root_","initialize","tslib_1.__spread","foundation_","getDefaultFoundation","initialSyncWithDOM","attachTo","_args","evtType","unlisten","emit","evtData","shouldBubble","evt","CustomEvent","bubbles","detail","createEvent","initCustomEvent","dispatchEvent","applyPassive","globalObj","forceRefresh","window","isSupported_1","passive","cssClasses","ACTIVE","DISABLED","DISCRETE","FOCUS","HAS_TRACK_MARKER","IN_TRANSIT","IS_DISCRETE","strings","ARIA_DISABLED","ARIA_VALUEMAX","ARIA_VALUEMIN","ARIA_VALUENOW","CHANGE_EVENT","INPUT_EVENT","LAST_TRACK_MARKER_SELECTOR","PIN_VALUE_MARKER_SELECTOR","STEP_DATA_ATTR","THUMB_CONTAINER_SELECTOR","TRACK_MARKER_CONTAINER_SELECTOR","TRACK_SELECTOR","numbers","PAGE_FACTOR","cssPropertyNameMap","animation","prefixed","standard","transform","transition","jsEventTypeMap","animationend","cssProperty","animationiteration","animationstart","transitionend","isWindow","windowObj","Boolean","DOWN_EVENTS","UP_EVENTS","MOVE_EVENT_MAP","mousedown","pointerdown","touchstart","KEY_IDS","MDCSliderFoundation","_super","_this","tslib_1.__assign","defaultAdapter","savedTabIndex_","NaN","active_","inTransit_","isDiscrete_","hasTrackMarker_","handlingThumbTargetEvt_","min_","max_","step_","value_","disabled_","preventFocusState_","thumbContainerPointerHandler_","interactionStartHandler_","handleDown_","keydownHandler_","handleKeydown_","focusHandler_","handleFocus_","blurHandler_","handleBlur_","resizeHandler_","layout","tslib_1.__extends","hasClass","addClass","removeClass","computeBoundingRect","top","right","bottom","left","width","height","getTabIndex","registerInteractionHandler","deregisterInteractionHandler","registerThumbContainerInteractionHandler","deregisterThumbContainerInteractionHandler","registerBodyInteractionHandler","deregisterBodyInteractionHandler","registerResizeHandler","deregisterResizeHandler","notifyInput","notifyChange","setThumbContainerStyleProperty","setTrackStyleProperty","setMarkerValue","appendTrackMarkers","removeTrackMarkers","setLastTrackMarkersStyleProperty","isRTL","evtName","getStep","setupTrackMarker","min","getMin","getMax","step","numMarkers","indivisible","ceil","lastStepRatio","String","rect_","updateUIForCurrentValue_","getValue","setValue","setValue_","setMax","setMin","setStep","isDisabled","setDisabled","disabled","toggleClass_","isNaN","downEvent","setInTransit_","setActive_","moveHandler","moveEvent","handleMove_","moveEventType","upHandler","handleUp_","setValueFromEvt_","preventDefault","getPageX_","targetTouches","pageX","computeValueFromPageX_","pctComplete","keyId","getKeyId_","getValueForKeyId_","kbdEvt","keyCode","_a","delta","shouldFireInput","force","valueSetToBoundary","quantize_","round","translatePx","transformProp","el","getCorrectPropertyName","transitionendEvtName","eventType","getCorrectEventName","onTransitionEnd_1","requestAnimationFrame","active","inTransit","className","shouldBePresent","MDCSlider","thumbContainer_","querySelector","track_","pinValueMarker_","trackMarkerContainer_","contains","remove","getBoundingClientRect","tabIndex","body","propertyName","setProperty","innerText","toLocaleString","frag","createDocumentFragment","marker","getComputedStyle","direction","origValueNow","parseFloat_","hasAttribute","stepUp","amount","stepDown","str","defaultValue","num","parseFloat","isFinite","forwardEventsBuilder","additionalEvents","events","forward","bubble","destructors","exclude","names","getOwnPropertyNames","newObj","cashIndex","substring","useActions","actions","objects","isArray","action","data-step","forwardEvents","slider","removeLayoutListener","use","discrete","displayMarkers","tabindex","formField","inputProps","addLayoutListener","id","resp","fetch","ok","json","v","method","headers","Content-Type","JSON","stringify","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","invalidate","subscriber","lastUpdate","Date","status","show","seconds","showKnobs","interval","setInterval","async","seconds_remaining","knobs","clearInterval","stores","initial_value","single","stores_array","auto","inited","values","pending","cleanup","sync","unsubscribers","derived","$status","elapsed","remaining","playlist","latest","initialValue","playing","deleteItem","entryId","setNext","entry_id","createPlaylist","raw","cursor","getRaw","rawData","ids","replace","match","uniqueId","toString","rawId","_","pointerId","box","spin","inverse","pulse","flip","x","y","label","paths","polygons","combinedStyle","scale","normalisedScale","numScale","Number","console","warn","calculateRatio","normalisedData","faIcon","icon","iconName","iconData","normaliseData","points","combined","size","endsWith","calculateStyle","cog","chevron-right","plus-circle","play-circle","trash","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","tabbable","candidate","candidateTabindex","regularTabbables","orderedTabbables","candidates","querySelectorAll","includeContainer","unshift","isNodeMatchingSelectorTabbable","getTabindex","documentOrder","sort","sortOrderedTabbables","isNodeMatchingSelectorFocusable","isInput","isRadio","checked","getCheckedRadio","ownerDocument","isTabbableRadio","isNonTabbableRadio","isHiddenInput","offsetParent","visibility","isHidden","isTabbable","isFocusable","focusableCandidateSelector","tabindexAttr","parseInt","contentEditable","isContentEditable","tagName","activeFocusDelay","source","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","delay","setTimeout","userOptions","doc","container","config","xtend","returnFocusOnDeactivate","escapeDeactivates","state","firstTabbableNode","lastTabbableNode","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","activate","activateOptions","updateTabbableNodes","activeElement","onActivate","addListeners","deactivate","removeListeners","deactivateOptions","clearTimeout","onDeactivate","returnFocus","previousActiveElement","tryFocus","getNodeForOption","getInitialFocusNode","checkFocusIn","checkPointerDown","capture","checkClick","checkKey","optionName","optionValue","clickOutsideDeactivates","allowOutsideClick","Document","stopImmediatePropagation","isEscapeEvent","isTabEvent","shiftKey","checkTab","tabbableNodes","focus","toLowerCase","select","isSelectableInput","selector","supportsCssVariables_","BG_FOCUSED","FG_ACTIVATION","FG_DEACTIVATION","ROOT","UNBOUNDED","VAR_FG_SCALE","VAR_FG_SIZE","VAR_FG_TRANSLATE_END","VAR_FG_TRANSLATE_START","VAR_LEFT","VAR_TOP","DEACTIVATION_TIMEOUT_MS","FG_DEACTIVATION_MS","INITIAL_ORIGIN_SCALE","PADDING","TAP_DELAY_MS","ACTIVATION_EVENT_TYPES","POINTER_DEACTIVATION_EVENT_TYPES","activatedTargets","MDCRippleFoundation","activationAnimationHasEnded_","activationTimer_","fgDeactivationRemovalTimer_","fgScale_","frame_","initialSize_","layoutFrame_","maxRadius_","unboundedCoords_","activationState_","defaultActivationState_","activationTimerCallback_","runDeactivationUXLogicIfReady_","activateHandler_","activate_","deactivateHandler_","deactivate_","handleFocus","handleBlur","browserSupportsCssVars","containsEventTarget","deregisterDocumentInteractionHandler","getWindowPageOffset","isSurfaceActive","isSurfaceDisabled","isUnbounded","registerDocumentInteractionHandler","updateCssVariable","supportsPressRipple","supportsPressRipple_","registerRootHandlers_","ROOT_1","UNBOUNDED_1","layoutInternal_","ROOT_2","UNBOUNDED_2","removeCssVars_","deregisterRootHandlers_","deregisterDeactivationHandlers_","cancelAnimationFrame","setUnbounded","unbounded","activationEvent","hasDeactivationUXRun","isActivated","isProgrammatic","wasActivatedByPointer","wasElementMadeActive","registerDeactivationHandlers_","rippleStrings","activationState","previousActivationEvent","previousActivationEvent_","some","resetActivationState_","checkElementMadeActive_","animateActivation_","_b","translateStart","translateEnd","_c","getFgTranslationCoordinates_","startPoint","endPoint","rmBoundedActivationClasses_","pageOffset","clientRect","normalizedX","normalizedY","documentX","documentY","touchEvent","changedTouches","pageY","mouseEvent","getNormalizedEventCoords","animateDeactivation_","maxDim","sqrt","pow","floor","updateLayoutCssVars_","MDCRipple","opts","ripple","createAdapter","CSS","supportsCssVars","supports","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","computedStyle","hasPseudoVarBug","borderTopStyle","detectEdgePseudoVarBug","util.supportsCssVariables","documentElement","pageXOffset","pageYOffset","varName","unbounded_","setUnbounded_","dataset","CLOSING","OPEN","OPENING","SCROLLABLE","SCROLL_LOCK","STACKED","ACTION_ATTRIBUTE","BUTTON_DEFAULT_ATTRIBUTE","BUTTON_SELECTOR","CLOSED_EVENT","CLOSE_ACTION","CLOSING_EVENT","CONTAINER_SELECTOR","CONTENT_SELECTOR","DESTROY_ACTION","INITIAL_FOCUS_ATTRIBUTE","OPENED_EVENT","OPENING_EVENT","SCRIM_SELECTOR","SUPPRESS_DEFAULT_PRESS_SELECTOR","SURFACE_SELECTOR","DIALOG_ANIMATION_CLOSE_TIME_MS","DIALOG_ANIMATION_OPEN_TIME_MS","MDCDialogFoundation","isOpen_","animationFrame_","animationTimer_","escapeKeyAction_","scrimClickAction_","autoStackButtons_","areButtonsStacked_","addBodyClass","areButtonsStacked","clickDefaultButton","eventTargetMatches","getActionFromEvent","getInitialFocusEl","isContentScrollable","notifyClosed","notifyClosing","notifyOpened","notifyOpening","releaseFocus","removeBodyClass","reverseButtons","trapFocus","setAutoStackButtons","close","handleAnimationTimerEnd_","open","runNextAnimationFrame_","isOpen","getEscapeKeyAction","setEscapeKeyAction","getScrimClickAction","setScrimClickAction","getAutoStackButtons","autoStack","handleClick","handleKeydown","isEnter","isDefault","handleDocumentKeydown","detectStackedButtons_","detectScrollableContent_","MDCDialog","focusTrapFactory","e_1","container_","content_","buttons_","defaultButton_","focusTrapFactory_","buttonRipples_","TypeError","tslib_1.__values","buttonEl","e_1_1","return","surfaceEl","initialFocusEl","focusTrap_","getInitialFocusEl_","createFocusTrap","initialFocus","handleClick_","handleDocumentKeydown_","handleLayout_","LAYOUT_EVENTS","handleOpening_","handleClosing_","els","tops","offsetTop","click","closest","parentElement","scrollHeight","offsetHeight","reverse","button","dialog","escapeKeyAction","scrimClickAction","autoStackButtons","layoutListeners","listener","idx","internals","smuiClass","contexts","smuiForwardEvents","class","classAdderBuilder","Component","ClassAdder","$$render","render","SMUI:button:context","module","limit","clip_rgb","rgb","_clipped","_unclipped","classToType","list","unpack","keyOrder","split","last","PI","utils","TWOPI","PITHIRD","DEG2RAD","RAD2DEG","format","autodetect","last$1","clip_rgb$1","type$1","Color","me","mode","sorted","chk","test","_rgb","hex","Color_1","chroma","Function","version","chroma_1","unpack$1","rgb2cmyk_1","g","f","unpack$2","cmyk2rgb_1","alpha","unpack$3","type$2","cmyk","unpack$4","last$2","rnd","hsl2css_1","hsla","unpack$5","rgb2hsl_1","h","unpack$6","last$3","rgb2css_1","rgba","substr","unpack$7","round$1","hsl2rgb_1","t3","t2","t1","h_","RE_RGB","RE_RGBA","RE_RGB_PCT","RE_RGBA_PCT","RE_HSL","RE_HSLA","round$2","css2rgb","trim","named","rgb$1","i$1","rgb$2","i$2","rgb$3","i$3","hsl","rgb$4","hsl$1","rgb$5","css2rgb_1","type$3","unpack$8","gl","unpack$9","rgb2hcg_1","_g","unpack$a","hcg2rgb_1","assign$1","assign$2","assign$3","assign$4","assign$5","q","unpack$b","type$4","hcg","unpack$c","last$4","round$3","rgb2hex_1","hxa","RE_HEX","RE_HEXA","hex2rgb_1","u","u$1","type$5","unpack$d","acos","rgb2hsi_1","unpack$e","limit$1","TWOPI$1","cos","hsi2rgb_1","unpack$f","type$6","hsi","unpack$g","type$7","unpack$h","min$1","max$1","rgb2hsv","unpack$i","floor$1","hsv2rgb_1","unpack$j","type$8","hsv","labConstants","Kn","Xn","Yn","Zn","t0","unpack$k","rgb2lab","ref$1","rgb2xyz","rgb_xyz","xyz_lab","rgb2lab_1","unpack$l","pow$1","lab2rgb","z","lab_xyz","xyz_rgb","lab2rgb_1","unpack$m","type$9","lab","unpack$n","sqrt$1","atan2","round$4","lab2lch_1","unpack$o","rgb2lch_1","b_","unpack$p","sin","cos$1","lch2lab_1","unpack$q","lch2rgb_1","L","unpack$r","hcl2rgb_1","hcl","unpack$s","type$a","lch","w3cx11_1","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","type$b","unpack$t","rgb2num_1","type$c","num2rgb_1","type$d","unpack$u","type$e","round$5","log","temperature2rgb_1","kelvin","temp","unpack$v","round$6","rgb2temperature_1","minTemp","maxTemp","eps","temperature","type$f","mutate","clipped","darken","brighten","darker","brighter","mc","channel","type$g","pow$2","EPS","MAX_ITER","luminance","lum","cur_lum","max_iter","low","high","mid","interpolate","lm","abs","rgb2luminance","luminance_x","interpolator","type$h","mix","col1","col2","premultiply","saturate","desaturate","type$i","charAt","out","xyz0","xyz1","sqrt$2","pow$3","lrgb","x1","y1","z1","x2","y2","z2","lab$1","_hsx","hue0","hue1","sat0","sat1","lbv0","lbv1","sat","hue","lch$1","num$1","c1","c2","hcg$1","hsi$1","hsv$1","clip_rgb$2","pow$4","sqrt$3","PI$1","cos$2","sin$1","atan2$1","average","colors","weights","reduce","w","_average_lrgb","first","shift","xyz","cnt","dx","dy","A","ci","xyz2","A$1","col","type$j","pow$5","_mode","_nacol","_spread","_domain","_pos","_padding","_classes","_colors","_out","_min","_max","_correctLightness","_colorCache","_useCache","_gamma","setColors","brewer","c$1","resetCache","getClass","tMapLightness","tMapDomain","getColor","val","bypassMap","classes","analyze","limits","domain","tOut","tBreaks","every","_m","range","_o","spread","correctLightness","L0","L1","pol","L_actual","L_ideal","L_diff","padding","numColors","dm","dd","__range__","samples","end","asc","cache","gamma","nodata","inclusive","ascending","bezier","I","lab0","lab1","lab2","lab3","I0","I1","bezier_1","blend","blend_f","c0","each","normal","multiply","darken$1","lighten","screen","overlay","burn","dodge","blend_1","type$k","clip_rgb$3","TWOPI$2","pow$6","sin$2","cos$3","cubehelix","rotations","lightness","dl","dh","fract","amp","cos_a","sin_a","digits","floor$2","random","random_1","code","log$1","pow$7","floor$3","MAX_VALUE","sum","count","min_log","LOG10E","max_log","pb","pr","cluster","assignments","clusterSizes","repeat","nb_iters","centroids","j","i$4","mindist","best","j$1","dist","newCentroids","j$2","i$5","j$3","j$4","kClusters","j$5","i$6","tmpKMeansBreaks","j$6","i$7","analyze_1","contrast","l1","l2","sqrt$4","atan2$2","abs$1","cos$4","PI$2","deltaE","C","a1","b1","L2","a2","b2","sl","sc","h1","c4","sh","delC","delA","delB","v1","v2","distance","sum_sq","valid","scales","cool","hot","colorbrewer","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","list$1","colorbrewer_1","factory","onChange","setting","default","colorValue","multiplier","sliderValue","chevronRight","settingsDialog","showKnobData","settings","knob","playCircle","plusCircle","shows","clickPlay","clickEnqueue"],"mappings":"gCAAA,SAASA,KAET,SAASC,EAAOC,EAAKC,GAEjB,IAAK,MAAMC,KAAKD,EACZD,EAAIE,GAAKD,EAAIC,GACjB,OAAOF,EAUX,SAASG,EAAIC,GACT,OAAOA,IAEX,SAASC,IACL,OAAOC,OAAOC,OAAO,MAEzB,SAASC,EAAQC,GACbA,EAAIC,QAAQP,GAEhB,SAASQ,EAAYC,GACjB,MAAwB,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,GACvB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EAahF,SAASE,EAAUC,KAAUC,GACzB,GAAa,MAATD,EACA,OAAOnB,EAEX,MAAMqB,EAAQF,EAAMD,aAAaE,GACjC,OAAOC,EAAMC,YAAc,IAAMD,EAAMC,cAAgBD,EAO3D,SAASE,EAAoBC,EAAWL,EAAOM,GAC3CD,EAAUE,GAAGC,WAAWC,KAAKV,EAAUC,EAAOM,IAElD,SAASI,EAAYC,EAAYC,EAAKC,EAAS1B,GAC3C,GAAIwB,EAAY,CACZ,MAAMG,EAAWC,EAAiBJ,EAAYC,EAAKC,EAAS1B,GAC5D,OAAOwB,EAAW,GAAGG,IAG7B,SAASC,EAAiBJ,EAAYC,EAAKC,EAAS1B,GAChD,OAAOwB,EAAW,IAAMxB,EAClBL,EAAO+B,EAAQD,IAAII,QAASL,EAAW,GAAGxB,EAAGyB,KAC7CC,EAAQD,IAoBlB,SAASK,EAAYC,EAAMC,EAAiBP,EAAKC,EAASO,EAAOC,EAAqBC,GAClF,MAAMC,EAnBV,SAA0BZ,EAAYE,EAASO,EAAOjC,GAClD,GAAIwB,EAAW,IAAMxB,EAAI,CACrB,MAAMqC,EAAOb,EAAW,GAAGxB,EAAGiC,IAC9B,QAAsBK,IAAlBZ,EAAQO,MACR,OAAOI,EAEX,GAAoB,iBAATA,EAAmB,CAC1B,MAAME,EAAS,GACTC,EAAMC,KAAKC,IAAIhB,EAAQO,MAAMU,OAAQN,EAAKM,QAChD,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAKI,GAAK,EAC1BL,EAAOK,GAAKlB,EAAQO,MAAMW,GAAKP,EAAKO,GAExC,OAAOL,EAEX,OAAOb,EAAQO,MAAQI,EAE3B,OAAOX,EAAQO,MAGMY,CAAiBb,EAAiBN,EAASO,EAAOC,GACvE,GAAIE,EAAc,CACd,MAAMU,EAAelB,EAAiBI,EAAiBP,EAAKC,EAASS,GACrEJ,EAAKgB,EAAED,EAAcV,IAU7B,SAASY,EAAuBC,GAC5B,MAAMC,EAAS,GACf,IAAK,MAAMpD,KAAKmD,EACC,MAATnD,EAAE,KACFoD,EAAOpD,GAAKmD,EAAMnD,IAC1B,OAAOoD,EAkCX,SAASC,EAAiBC,GACtB,OAAOA,GAAiB7C,EAAY6C,EAAcC,SAAWD,EAAcC,QAAU3D,EAmDzF,SAAS4D,EAAOC,EAAQC,GACpBD,EAAOE,YAAYD,GAEvB,SAASE,EAAOH,EAAQC,EAAMG,GAC1BJ,EAAOK,aAAaJ,EAAMG,GAAU,MAExC,SAASE,EAAOL,GACZA,EAAKM,WAAWC,YAAYP,GAEhC,SAASQ,EAAaC,EAAYC,GAC9B,IAAK,IAAItB,EAAI,EAAGA,EAAIqB,EAAWtB,OAAQC,GAAK,EACpCqB,EAAWrB,IACXqB,EAAWrB,GAAGuB,EAAED,GAG5B,SAASE,EAAQC,GACb,OAAOC,SAASC,cAAcF,GAiBlC,SAASG,EAAYH,GACjB,OAAOC,SAASG,gBAAgB,6BAA8BJ,GAElE,SAASK,EAAKC,GACV,OAAOL,SAASM,eAAeD,GAEnC,SAASE,IACL,OAAOH,EAAK,KAEhB,SAASI,IACL,OAAOJ,EAAK,IAEhB,SAASK,EAAOvB,EAAMwB,EAAOC,EAASC,GAElC,OADA1B,EAAK2B,iBAAiBH,EAAOC,EAASC,GAC/B,IAAM1B,EAAK4B,oBAAoBJ,EAAOC,EAASC,GAgB1D,SAASG,EAAKrF,GACV,OAAO,SAAUgF,GAETA,EAAMzB,SAAW+B,MACjBtF,EAAGuF,KAAKD,KAAMN,IAG1B,SAASQ,EAAKhC,EAAMiC,EAAWC,GACd,MAATA,EACAlC,EAAKmC,gBAAgBF,GAChBjC,EAAKoC,aAAaH,KAAeC,GACtClC,EAAKqC,aAAaJ,EAAWC,GAErC,SAASI,EAAetC,EAAMuC,GAE1B,MAAMC,EAAc9F,OAAO+F,0BAA0BzC,EAAK0C,WAC1D,IAAK,MAAMC,KAAOJ,EACS,MAAnBA,EAAWI,GACX3C,EAAKmC,gBAAgBQ,GAER,UAARA,EACL3C,EAAK4C,MAAMC,QAAUN,EAAWI,GAEnB,YAARA,EACL3C,EAAKkC,MAAQlC,EAAK2C,GAAOJ,EAAWI,GAE/BH,EAAYG,IAAQH,EAAYG,GAAKG,IAC1C9C,EAAK2C,GAAOJ,EAAWI,GAGvBX,EAAKhC,EAAM2C,EAAKJ,EAAWI,IAIvC,SAASI,EAAmB/C,EAAMuC,GAC9B,IAAK,MAAMI,KAAOJ,EACdP,EAAKhC,EAAM2C,EAAKJ,EAAWI,IAuEnC,SAASK,EAAS9B,EAAMC,GACpBA,EAAO,GAAKA,EACRD,EAAK+B,YAAc9B,IACnBD,EAAKC,KAAOA,GAEpB,SAAS+B,EAAgBC,EAAOjB,GAC5BiB,EAAMjB,MAAiB,MAATA,EAAgB,GAAKA,EAwFvC,SAASkB,EAAaxC,EAASC,EAAMwC,GACjCzC,EAAQ0C,UAAUD,EAAS,MAAQ,UAAUxC,GA0LjD,IAAI0C,EACJ,SAASC,EAAsB9F,GAC3B6F,EAAoB7F,EAExB,SAAS+F,IACL,IAAKF,EACD,MAAM,IAAIG,MAAM,oDACpB,OAAOH,EAKX,SAASI,EAAQnH,GACbiH,IAAwB7F,GAAGgG,SAAS9F,KAAKtB,GAK7C,SAASqH,EAAUrH,GACfiH,IAAwB7F,GAAGC,WAAWC,KAAKtB,GAgB/C,SAASsH,EAAWnB,EAAKoB,GACrBN,IAAwB7F,GAAGmG,QAAQjB,IAAIH,EAAKoB,GAEhD,SAASC,EAAWrB,GAChB,OAAOc,IAAwB7F,GAAGmG,QAAQE,IAAItB,GAelD,MAAMuB,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmBC,QAAQC,UACjC,IAAIC,GAAmB,EAWvB,SAASC,EAAoBlI,GACzB4H,EAAiBtG,KAAKtB,GAE1B,SAASmI,EAAmBnI,GACxB6H,EAAgBvG,KAAKtB,GAEzB,IAAIoI,GAAW,EACf,MAAMC,EAAiB,IAAIC,IAC3B,SAASC,IACL,IAAIH,EAAJ,CAEAA,GAAW,EACX,EAAG,CAGC,IAAK,IAAIxF,EAAI,EAAGA,EAAI8E,EAAiB/E,OAAQC,GAAK,EAAG,CACjD,MAAM1B,EAAYwG,EAAiB9E,GACnCoE,EAAsB9F,GACtBsH,EAAOtH,EAAUE,IAIrB,IAFA4F,EAAsB,MACtBU,EAAiB/E,OAAS,EACnBgF,EAAkBhF,QACrBgF,EAAkBc,KAAlBd,GAIJ,IAAK,IAAI/E,EAAI,EAAGA,EAAIgF,EAAiBjF,OAAQC,GAAK,EAAG,CACjD,MAAMzB,EAAWyG,EAAiBhF,GAC7ByF,EAAeK,IAAIvH,KAEpBkH,EAAeM,IAAIxH,GACnBA,KAGRyG,EAAiBjF,OAAS,QACrB+E,EAAiB/E,QAC1B,KAAOkF,EAAgBlF,QACnBkF,EAAgBY,KAAhBZ,GAEJI,GAAmB,EACnBG,GAAW,EACXC,EAAeO,SAEnB,SAASJ,EAAOpH,GACZ,GAAoB,OAAhBA,EAAGyH,SAAmB,CACtBzH,EAAGoH,SACHpI,EAAQgB,EAAG0H,eACX,MAAM7G,EAAQb,EAAGa,MACjBb,EAAGa,MAAQ,EAAE,GACbb,EAAGyH,UAAYzH,EAAGyH,SAAS9F,EAAE3B,EAAGK,IAAKQ,GACrCb,EAAG2H,aAAazI,QAAQ4H,IAiBhC,MAAMc,EAAW,IAAIV,IACrB,IAAIW,EACJ,SAASC,IACLD,EAAS,CACLE,EAAG,EACHC,EAAG,GACHrG,EAAGkG,GAGX,SAASI,IACAJ,EAAOE,GACR/I,EAAQ6I,EAAOG,GAEnBH,EAASA,EAAOlG,EAEpB,SAASuG,GAAcC,EAAOC,GACtBD,GAASA,EAAM3G,IACfoG,EAASS,OAAOF,GAChBA,EAAM3G,EAAE4G,IAGhB,SAASE,GAAeH,EAAOC,EAAO3F,EAAQ1C,GAC1C,GAAIoI,GAASA,EAAMI,EAAG,CAClB,GAAIX,EAASN,IAAIa,GACb,OACJP,EAASL,IAAIY,GACbN,EAAOG,EAAE9H,MAAK,KACV0H,EAASS,OAAOF,GACZpI,IACI0C,GACA0F,EAAMpF,EAAE,GACZhD,QAGRoI,EAAMI,EAAEH,IAwZhB,SAASI,GAAkBC,EAAQC,GAC/B,MAAMtB,EAAS,GACTuB,EAAc,GACdC,EAAgB,CAAEtI,QAAS,GACjC,IAAIkB,EAAIiH,EAAOlH,OACf,KAAOC,KAAK,CACR,MAAM+G,EAAIE,EAAOjH,GACXqH,EAAIH,EAAQlH,GAClB,GAAIqH,EAAG,CACH,IAAK,MAAM9D,KAAOwD,EACRxD,KAAO8D,IACTF,EAAY5D,GAAO,GAE3B,IAAK,MAAMA,KAAO8D,EACTD,EAAc7D,KACfqC,EAAOrC,GAAO8D,EAAE9D,GAChB6D,EAAc7D,GAAO,GAG7B0D,EAAOjH,GAAKqH,OAGZ,IAAK,MAAM9D,KAAOwD,EACdK,EAAc7D,GAAO,EAIjC,IAAK,MAAMA,KAAO4D,EACR5D,KAAOqC,IACTA,EAAOrC,QAAO7D,GAEtB,OAAOkG,EAEX,SAAS0B,GAAkBC,GACvB,MAA+B,iBAAjBA,GAA8C,OAAjBA,EAAwBA,EAAe,GA2ItF,SAASC,GAAKlJ,EAAWmD,EAAMlD,GAC3B,MAAMkJ,EAAQnJ,EAAUE,GAAG6B,MAAMoB,QACnB/B,IAAV+H,IACAnJ,EAAUE,GAAGkJ,MAAMD,GAASlJ,EAC5BA,EAASD,EAAUE,GAAGK,IAAI4I,KAGlC,SAASE,GAAiBhB,GACtBA,GAASA,EAAMH,IAKnB,SAASoB,GAAgBtJ,EAAWqC,EAAQI,EAAQ8G,GAChD,MAAM5B,SAAEA,EAAQzB,SAAEA,EAAQ/F,WAAEA,EAAU0H,aAAEA,GAAiB7H,EAAUE,GACnEyH,GAAYA,EAAS6B,EAAEnH,EAAQI,GAC1B8G,GAEDvC,GAAoB,KAChB,MAAMyC,EAAiBvD,EAASwD,IAAI7K,GAAK8K,OAAOtK,GAC5Cc,EACAA,EAAWC,QAAQqJ,GAKnBvK,EAAQuK,GAEZzJ,EAAUE,GAAGgG,SAAW,MAGhC2B,EAAazI,QAAQ4H,GAEzB,SAAS4C,GAAkB5J,EAAWgD,GAClC,MAAM9C,EAAKF,EAAUE,GACD,OAAhBA,EAAGyH,WACHzI,EAAQgB,EAAGC,YACXD,EAAGyH,UAAYzH,EAAGyH,SAAS1E,EAAED,GAG7B9C,EAAGC,WAAaD,EAAGyH,SAAW,KAC9BzH,EAAGK,IAAM,IAGjB,SAASsJ,GAAW7J,EAAW0B,IACI,IAA3B1B,EAAUE,GAAGa,MAAM,KACnByF,EAAiBpG,KAAKJ,GAluBrB+G,IACDA,GAAmB,EACnBH,EAAiBkD,KAAKzC,IAkuBtBrH,EAAUE,GAAGa,MAAMgJ,KAAK,IAE5B/J,EAAUE,GAAGa,MAAOW,EAAI,GAAM,IAAO,GAAMA,EAAI,GAEnD,SAASsI,GAAKhK,EAAWgE,EAASiG,EAAUC,EAAiBC,EAAWpI,EAAOhB,EAAQ,EAAE,IACrF,MAAMqJ,EAAmBvE,EACzBC,EAAsB9F,GACtB,MAAME,EAAKF,EAAUE,GAAK,CACtByH,SAAU,KACVpH,IAAK,KAELwB,MAAAA,EACAuF,OAAQ9I,EACR2L,UAAAA,EACAf,MAAOrK,IAEPmH,SAAU,GACV/F,WAAY,GACZkK,cAAe,GACfzC,cAAe,GACfC,aAAc,GACdxB,QAAS,IAAIiE,IAAIF,EAAmBA,EAAiBlK,GAAGmG,QAAU,IAElEzG,UAAWb,IACXgC,MAAAA,EACAwJ,YAAY,GAEhB,IAAIC,GAAQ,EAkBZ,GAjBAtK,EAAGK,IAAM0J,EACHA,EAASjK,EAAWgE,EAAQjC,OAAS,IAAI,CAACL,EAAG+I,KAAQC,KACnD,MAAMlG,EAAQkG,EAAKjJ,OAASiJ,EAAK,GAAKD,EAOtC,OANIvK,EAAGK,KAAO4J,EAAUjK,EAAGK,IAAImB,GAAIxB,EAAGK,IAAImB,GAAK8C,MACtCtE,EAAGqK,YAAcrK,EAAGkJ,MAAM1H,IAC3BxB,EAAGkJ,MAAM1H,GAAG8C,GACZgG,GACAX,GAAW7J,EAAW0B,IAEvB+I,KAET,GACNvK,EAAGoH,SACHkD,GAAQ,EACRtL,EAAQgB,EAAG0H,eAEX1H,EAAGyH,WAAWuC,GAAkBA,EAAgBhK,EAAGK,KAC/CyD,EAAQ3B,OAAQ,CAChB,GAAI2B,EAAQ2G,QAAS,CACjB,MAAMC,EA9oClB,SAAkB1H,GACd,OAAO2H,MAAMC,KAAK5H,EAAQ6H,YA6oCJC,CAAShH,EAAQ3B,QAE/BnC,EAAGyH,UAAYzH,EAAGyH,SAASsD,EAAEL,GAC7BA,EAAMxL,QAAQuD,QAIdzC,EAAGyH,UAAYzH,EAAGyH,SAASO,IAE3BlE,EAAQkH,OACR9C,GAAcpI,EAAUE,GAAGyH,UAC/B2B,GAAgBtJ,EAAWgE,EAAQ3B,OAAQ2B,EAAQvB,OAAQuB,EAAQuF,eACnElC,IAEJvB,EAAsBsE,GAkD1B,MAAMe,GACFC,WACIxB,GAAkBxF,KAAM,GACxBA,KAAKiH,SAAW7M,EAEpB4M,IAAIE,EAAMrL,GACN,MAAML,EAAawE,KAAKlE,GAAGN,UAAU0L,KAAUlH,KAAKlE,GAAGN,UAAU0L,GAAQ,IAEzE,OADA1L,EAAUQ,KAAKH,GACR,KACH,MAAMkJ,EAAQvJ,EAAU2L,QAAQtL,IACjB,IAAXkJ,GACAvJ,EAAU4L,OAAOrC,EAAO,IAGpCiC,KAAKK,GA//CT,IAAkBC,EAggDNtH,KAAKuH,QAhgDCD,EAggDkBD,EA//CG,IAA5BzM,OAAO4M,KAAKF,GAAKjK,UAggDhB2C,KAAKlE,GAAGqK,YAAa,EACrBnG,KAAKuH,MAAMF,GACXrH,KAAKlE,GAAGqK,YAAa,ICriDjC,SAASsB,GAAYC,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAKF,GAA2B,oBAAb1I,SAAnB,CAEA,IAAI6I,EAAO7I,SAAS6I,MAAQ7I,SAAS8I,qBAAqB,QAAQ,GAC9DhH,EAAQ9B,SAASC,cAAc,SACnC6B,EAAMoG,KAAO,WAEI,QAAbU,GACEC,EAAKE,WACPF,EAAKvJ,aAAawC,EAAO+G,EAAKE,YAKhCF,EAAK1J,YAAY2C,GAGfA,EAAMkH,WACRlH,EAAMkH,WAAWjH,QAAU2G,EAE3B5G,EAAM3C,YAAYa,SAASM,eAAeoI;;;;;;;;;;;;;;;ACP9C,IAAIO,GAAgB,SAASpJ,EAAGxD,GAI5B,OAHA4M,GAAgBrN,OAAOsN,gBAClB,CAAEtH,UAAW,cAAgB6F,OAAS,SAAU5H,EAAGxD,GAAKwD,EAAE+B,UAAYvF,IACvE,SAAUwD,EAAGxD,GAAK,IAAK,IAAIoC,KAAKpC,EAAOA,EAAE8M,eAAe1K,KAAIoB,EAAEpB,GAAKpC,EAAEoC,MACpDoB,EAAGxD,IAGrB,SAAS+M,GAAUvJ,EAAGxD,GAEzB,SAASgN,IAAOrI,KAAKsI,YAAczJ,EADnCoJ,GAAcpJ,EAAGxD,GAEjBwD,EAAE0J,UAAkB,OAANlN,EAAaT,OAAOC,OAAOQ,IAAMgN,EAAGE,UAAYlN,EAAEkN,UAAW,IAAIF,GAG5E,IAAIG,GAAW,WAQlB,OAPAA,GAAW5N,OAAOP,QAAU,SAAkBoO,GAC1C,IAAK,IAAIC,EAAGpL,EAAI,EAAGqH,EAAIgE,UAAUtL,OAAQC,EAAIqH,EAAGrH,IAE5C,IAAK,IAAIG,KADTiL,EAAIC,UAAUrL,GACO1C,OAAO2N,UAAUJ,eAAelI,KAAKyI,EAAGjL,KAAIgL,EAAEhL,GAAKiL,EAAEjL,IAE9E,OAAOgL,IAEKG,MAAM5I,KAAM2I,YAyFzB,SAASE,GAAOxE,EAAGM,GACtB,IAAIS,EAAsB,mBAAX0D,QAAyBzE,EAAEyE,OAAOC,UACjD,IAAK3D,EAAG,OAAOf,EACf,IAAmBR,EAAYmF,EAA3B1L,EAAI8H,EAAEnF,KAAKoE,GAAO4E,EAAK,GAC3B,IACI,WAAc,IAANtE,GAAgBA,KAAM,MAAQd,EAAIvG,EAAE4L,QAAQC,MAAMF,EAAGjN,KAAK6H,EAAEzD,OAExE,MAAOgJ,GAASJ,EAAI,CAAEI,MAAOA,WAEzB,IACQvF,IAAMA,EAAEsF,OAAS/D,EAAI9H,EAAU,SAAI8H,EAAEnF,KAAK3C,WAExC,GAAI0L,EAAG,MAAMA,EAAEI,OAE7B,OAAOH,EAGJ,SAASI,KACZ,IAAK,IAAIJ,EAAK,GAAI3L,EAAI,EAAGA,EAAIqL,UAAUtL,OAAQC,IAC3C2L,EAAKA,EAAGK,OAAOT,GAAOF,UAAUrL,KACpC,OAAO2L;;;;;;;;;;;;;;;;;;;;;;OC5HX,ICIIM,GDJAC,GAA+B,WAC/B,SAASA,EAAcC,QACH,IAAZA,IAAsBA,EAAU,IACpCzJ,KAAK0J,SAAWD,EA6CpB,OA3CA7O,OAAO+O,eAAeH,EAAe,aAAc,CAC/CrH,IAAK,WAGD,MAAO,IAEXyH,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeH,EAAe,UAAW,CAC5CrH,IAAK,WAGD,MAAO,IAEXyH,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeH,EAAe,UAAW,CAC5CrH,IAAK,WAGD,MAAO,IAEXyH,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeH,EAAe,iBAAkB,CACnDrH,IAAK,WAID,MAAO,IAEXyH,YAAY,EACZC,cAAc,IAElBL,EAAcjB,UAAU3C,KAAO,aAG/B4D,EAAcjB,UAAUxK,QAAU,aAG3ByL,KE9CPM,GAA8B,WAC9B,SAASA,EAAaC,EAAMC,GAExB,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKvB,UAAUtL,OAAQ6M,IACpCD,EAAKC,EAAK,GAAKvB,UAAUuB,GAE7BlK,KAAKmK,MAAQJ,EACb/J,KAAKoK,WAAWxB,MAAM5I,KAAMqK,GAAiBJ,IAG7CjK,KAAKsK,iBAA6BtN,IAAfgN,EAA2BhK,KAAKuK,uBAAyBP,EAC5EhK,KAAKsK,YAAY1E,OACjB5F,KAAKwK,qBA4DT,OA1DAV,EAAaW,SAAW,SAAUV,GAK9B,OAAO,IAAID,EAAaC,EAAM,IAAIP,GAAc,MAGpDM,EAAavB,UAAU6B,WAAa,WAEhC,IADA,IAAIM,EAAQ,GACHR,EAAK,EAAGA,EAAKvB,UAAUtL,OAAQ6M,IACpCQ,EAAMR,GAAMvB,UAAUuB,IAM9BJ,EAAavB,UAAUgC,qBAAuB,WAG1C,MAAM,IAAI3I,MAAM,mGAGpBkI,EAAavB,UAAUiC,mBAAqB,aAM5CV,EAAavB,UAAUxK,QAAU,WAG7BiC,KAAKsK,YAAYvM,WAErB+L,EAAavB,UAAU9I,OAAS,SAAUkL,EAAShL,EAASC,GACxDI,KAAKmK,MAAMtK,iBAAiB8K,EAAShL,EAASC,IAElDkK,EAAavB,UAAUqC,SAAW,SAAUD,EAAShL,EAASC,GAC1DI,KAAKmK,MAAMrK,oBAAoB6K,EAAShL,EAASC,IAKrDkK,EAAavB,UAAUsC,KAAO,SAAUF,EAASG,EAASC,GAEtD,IAAIC,OADiB,IAAjBD,IAA2BA,GAAe,GAEnB,mBAAhBE,YACPD,EAAM,IAAIC,YAAYN,EAAS,CAC3BO,QAASH,EACTI,OAAQL,KAIZE,EAAMhM,SAASoM,YAAY,gBACvBC,gBAAgBV,EAASI,GAAc,EAAOD,GAEtD9K,KAAKmK,MAAMmB,cAAcN,IAEtBlB;;;;;;;;;;;;;;;;;;;;;;ODjEJ,SAASyB,GAAaC,EAAWC,GAGpC,QAFkB,IAAdD,IAAwBA,EAAYE,aACnB,IAAjBD,IAA2BA,GAAe,QACrBzO,IAArBuM,IAAkCkC,EAAc,CAChD,IAAIE,GAAgB,EACpB,IACIH,EAAUxM,SAASa,iBAAiB,QAAQ,cAAmC,CAC3E+L,cAEI,OADAD,GAAgB,KAK5B,MAAO3C,IAEPO,GAAmBoC,EAEvB,QAAOpC,IAAmB,CAAEqC,SAAS;;;;;;;;;;;;;;;;;;;;;;OE1BzC,IAAIC,GAAa,CACbC,OAAQ,qBACRC,SAAU,uBACVC,SAAU,uBACVC,MAAO,oBACPC,iBAAkB,8BAClBC,WAAY,yBACZC,YAAa,wBAEbC,GAAU,CACVC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBACfC,aAAc,mBACdC,YAAa,kBACbC,2BAA4B,uCAC5BC,0BAA2B,gCAC3BC,eAAgB,YAChBC,yBAA0B,+BAC1BC,gCAAiC,sCACjCC,eAAgB,sBAEhBC,GAAU,CACVC,YAAa,GCxBbC,GAAqB,CACrBC,UAAW,CACPC,SAAU,oBACVC,SAAU,aAEdC,UAAW,CACPF,SAAU,oBACVC,SAAU,aAEdE,WAAY,CACRH,SAAU,qBACVC,SAAU,eAGdG,GAAiB,CACjBC,aAAc,CACVC,YAAa,YACbN,SAAU,qBACVC,SAAU,gBAEdM,mBAAoB,CAChBD,YAAa,YACbN,SAAU,2BACVC,SAAU,sBAEdO,eAAgB,CACZF,YAAa,YACbN,SAAU,uBACVC,SAAU,kBAEdQ,cAAe,CACXH,YAAa,aACbN,SAAU,sBACVC,SAAU,kBAGlB,SAASS,GAASC,GACd,OAAOC,QAAQD,EAAUjP,WAAyD,mBAArCiP,EAAUjP,SAASC;;;;;;;;;;;;;;;;;;;;;;;ACjCpE,IAAIkP,GAAc,CAAC,YAAa,cAAe,cAC3CC,GAAY,CAAC,UAAW,YAAa,YACrCC,GAAiB,CACjBC,UAAW,YACXC,YAAa,cACbC,WAAY,aAEZC,GACY,YADZA,GAEY,YAFZA,GAGa,aAHbA,GAIU,UAJVA,GAKK,MALLA,GAMM,OANNA,GAOW,WAPXA,GAQS,SAETC,GAAqC,SAAUC,GAE/C,SAASD,EAAoBjF,GACzB,IAAImF,EAAQD,EAAO1O,KAAKD,KAAM6O,GAAiB,GAAIH,EAAoBI,eAAgBrF,KAAazJ,KAuBpG,OAlBA4O,EAAMG,eAAiBC,IACvBJ,EAAMK,SAAU,EAChBL,EAAMM,YAAa,EACnBN,EAAMO,aAAc,EACpBP,EAAMQ,iBAAkB,EACxBR,EAAMS,yBAA0B,EAChCT,EAAMU,KAAO,EACbV,EAAMW,KAAO,IACbX,EAAMY,MAAQ,EACdZ,EAAMa,OAAS,EACfb,EAAMc,WAAY,EAClBd,EAAMe,oBAAqB,EAC3Bf,EAAMgB,8BAAgC,WAAc,OAAOhB,EAAMS,yBAA0B,GAC3FT,EAAMiB,yBAA2B,SAAU7E,GAAO,OAAO4D,EAAMkB,YAAY9E,IAC3E4D,EAAMmB,gBAAkB,SAAU/E,GAAO,OAAO4D,EAAMoB,eAAehF,IACrE4D,EAAMqB,cAAgB,WAAc,OAAOrB,EAAMsB,gBACjDtB,EAAMuB,aAAe,WAAc,OAAOvB,EAAMwB,eAChDxB,EAAMyB,eAAiB,WAAc,OAAOzB,EAAM0B,UAC3C1B,EAkaX,OA3bA2B,GAAkB7B,EAAqBC,GA2BvC/T,OAAO+O,eAAe+E,EAAqB,aAAc,CACrDvM,IAAK,WACD,OAAO0J,IAEXjC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe+E,EAAqB,UAAW,CAClDvM,IAAK,WACD,OAAOkK,IAEXzC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe+E,EAAqB,UAAW,CAClDvM,IAAK,WACD,OAAO+K,IAEXtD,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe+E,EAAqB,iBAAkB,CACzDvM,IAAK,WAED,MAAO,CACHqO,SAAU,WAAc,OAAO,GAC/BC,SAAU,aACVC,YAAa,aACbpQ,aAAc,WAAc,OAAO,MACnCC,aAAc,aACdF,gBAAiB,aACjBsQ,oBAAqB,WAAc,OAAUC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,IACrGC,YAAa,WAAc,OAAO,GAClCC,2BAA4B,aAC5BC,6BAA8B,aAC9BC,yCAA0C,aAC1CC,2CAA4C,aAC5CC,+BAAgC,aAChCC,iCAAkC,aAClCC,sBAAuB,aACvBC,wBAAyB,aACzBC,YAAa,aACbC,aAAc,aACdC,+BAAgC,aAChCC,sBAAuB,aACvBC,eAAgB,aAChBC,mBAAoB,aACpBC,mBAAoB,aACpBC,iCAAkC,aAClCC,MAAO,WAAc,OAAO,KAIpCvI,YAAY,EACZC,cAAc,IAElB6E,EAAoBnG,UAAU3C,KAAO,WACjC,IAAIgJ,EAAQ5O,KACZA,KAAKmP,YAAcnP,KAAK0J,SAAS8G,SAAS3E,GAAWO,aACrDpM,KAAKoP,gBAAkBpP,KAAK0J,SAAS8G,SAAS3E,GAAWK,kBACzDiC,GAAYnT,SAAQ,SAAUoX,GAC1BxD,EAAMlF,SAASyH,2BAA2BiB,EAASxD,EAAMiB,0BACzDjB,EAAMlF,SAAS2H,yCAAyCe,EAASxD,EAAMgB,kCAE3E5P,KAAK0J,SAASyH,2BAA2B,UAAWnR,KAAK+P,iBACzD/P,KAAK0J,SAASyH,2BAA2B,QAASnR,KAAKiQ,eACvDjQ,KAAK0J,SAASyH,2BAA2B,OAAQnR,KAAKmQ,cACtDnQ,KAAK0J,SAAS+H,sBAAsBzR,KAAKqQ,gBACzCrQ,KAAKsQ,SAEDtQ,KAAKmP,aAAkC,IAAnBnP,KAAKqS,YACzBrS,KAAKwP,MAAQ,IAGrBd,EAAoBnG,UAAUxK,QAAU,WACpC,IAAI6Q,EAAQ5O,KACZmO,GAAYnT,SAAQ,SAAUoX,GAC1BxD,EAAMlF,SAAS0H,6BAA6BgB,EAASxD,EAAMiB,0BAC3DjB,EAAMlF,SAAS4H,2CAA2Cc,EAASxD,EAAMgB,kCAE7E5P,KAAK0J,SAAS0H,6BAA6B,UAAWpR,KAAK+P,iBAC3D/P,KAAK0J,SAAS0H,6BAA6B,QAASpR,KAAKiQ,eACzDjQ,KAAK0J,SAAS0H,6BAA6B,OAAQpR,KAAKmQ,cACxDnQ,KAAK0J,SAASgI,wBAAwB1R,KAAKqQ,iBAE/C3B,EAAoBnG,UAAU+J,iBAAmB,WAC7C,GAAItS,KAAKmP,aAAenP,KAAKoP,iBAAsC,IAAnBpP,KAAKqS,UAAiB,CAClE,IAAIE,EAAMvS,KAAKwS,SACXpV,EAAM4C,KAAKyS,SACXC,EAAO1S,KAAKqS,UACZM,GAAcvV,EAAMmV,GAAOG,EAI3BE,EAAczV,KAAK0V,KAAKF,KAAgBA,EAM5C,GALIC,IACAD,EAAaxV,KAAK0V,KAAKF,IAE3B3S,KAAK0J,SAASuI,qBACdjS,KAAK0J,SAASsI,mBAAmBW,GAC7BC,EAAa,CACb,IAAIE,GAAiB1V,EAAMuV,EAAaD,GAAQA,EAAO,EACvD1S,KAAK0J,SAASwI,iCAAiC,YAAaa,OAAOD,OAI/EpE,EAAoBnG,UAAU+H,OAAS,WACnCtQ,KAAKgT,MAAQhT,KAAK0J,SAASiH,sBAC3B3Q,KAAKiT,4BAETvE,EAAoBnG,UAAU2K,SAAW,WACrC,OAAOlT,KAAKyP,QAEhBf,EAAoBnG,UAAU4K,SAAW,SAAU/S,GAC/CJ,KAAKoT,UAAUhT,GAAO,IAE1BsO,EAAoBnG,UAAUkK,OAAS,WACnC,OAAOzS,KAAKuP,MAEhBb,EAAoBnG,UAAU8K,OAAS,SAAUjW,GAC7C,GAAIA,EAAM4C,KAAKsP,KACX,MAAM,IAAI1N,MAAM,6DAEpB5B,KAAKuP,KAAOnS,EACZ4C,KAAKoT,UAAUpT,KAAKyP,QAAQ,GAAO,GACnCzP,KAAK0J,SAASnJ,aAAa8L,GAAQE,cAAewG,OAAO/S,KAAKuP,OAC9DvP,KAAKsS,oBAET5D,EAAoBnG,UAAUiK,OAAS,WACnC,OAAOxS,KAAKsP,MAEhBZ,EAAoBnG,UAAU+K,OAAS,SAAUf,GAC7C,GAAIA,EAAMvS,KAAKuP,KACX,MAAM,IAAI3N,MAAM,gEAEpB5B,KAAKsP,KAAOiD,EACZvS,KAAKoT,UAAUpT,KAAKyP,QAAQ,GAAO,GACnCzP,KAAK0J,SAASnJ,aAAa8L,GAAQG,cAAeuG,OAAO/S,KAAKsP,OAC9DtP,KAAKsS,oBAET5D,EAAoBnG,UAAU8J,QAAU,WACpC,OAAOrS,KAAKwP,OAEhBd,EAAoBnG,UAAUgL,QAAU,SAAUb,GAC9C,GAAIA,EAAO,EACP,MAAM,IAAI9Q,MAAM,2CAEhB5B,KAAKmP,cAAkC,oBAAYuD,EAAO,KAC1DA,EAAO,GAEX1S,KAAKwP,MAAQkD,EACb1S,KAAKoT,UAAUpT,KAAKyP,QAAQ,GAAO,GACnCzP,KAAKsS,oBAET5D,EAAoBnG,UAAUiL,WAAa,WACvC,OAAOxT,KAAK0P,WAEhBhB,EAAoBnG,UAAUkL,YAAc,SAAUC,GAClD1T,KAAK0P,UAAYgE,EACjB1T,KAAK2T,aAAa9H,GAAWE,SAAU/L,KAAK0P,WACxC1P,KAAK0P,WACL1P,KAAK+O,eAAiB/O,KAAK0J,SAASwH,cACpClR,KAAK0J,SAASnJ,aAAa8L,GAAQC,cAAe,QAClDtM,KAAK0J,SAASrJ,gBAAgB,cAG9BL,KAAK0J,SAASrJ,gBAAgBgM,GAAQC,eACjCsH,MAAM5T,KAAK+O,iBACZ/O,KAAK0J,SAASnJ,aAAa,WAAYwS,OAAO/S,KAAK+O,mBAO/DL,EAAoBnG,UAAUuH,YAAc,SAAU+D,GAClD,IAAIjF,EAAQ5O,KACZ,IAAIA,KAAK0P,UAAT,CAGA1P,KAAK2P,oBAAqB,EAC1B3P,KAAK8T,eAAe9T,KAAKqP,yBACzBrP,KAAKqP,yBAA0B,EAC/BrP,KAAK+T,YAAW,GAChB,IAAIC,EAAc,SAAUC,GACxBrF,EAAMsF,YAAYD,IAElBE,EAAgB9F,GAAewF,EAAU3M,MAIzCkN,EAAY,WACZxF,EAAMyF,YACNzF,EAAMlF,SAAS8H,iCAAiC2C,EAAeH,GAC/D5F,GAAUpT,SAAQ,SAAUoX,GAAW,OAAOxD,EAAMlF,SAAS8H,iCAAiCY,EAASgC,OAE3GpU,KAAK0J,SAAS6H,+BAA+B4C,EAAeH,GAC5D5F,GAAUpT,SAAQ,SAAUoX,GAAW,OAAOxD,EAAMlF,SAAS6H,+BAA+Ba,EAASgC,MACrGpU,KAAKsU,iBAAiBT,KAK1BnF,EAAoBnG,UAAU2L,YAAc,SAAUlJ,GAClDA,EAAIuJ,iBACJvU,KAAKsU,iBAAiBtJ,IAK1B0D,EAAoBnG,UAAU8L,UAAY,WACtCrU,KAAK+T,YAAW,GAChB/T,KAAK0J,SAASkI,gBAKlBlD,EAAoBnG,UAAUiM,UAAY,SAAUxJ,GAChD,OAAIA,EAAIyJ,eAAiBzJ,EAAIyJ,cAAcpX,OAAS,EACzC2N,EAAIyJ,cAAc,GAAGC,MAEzB1J,EAAI0J,OAKfhG,EAAoBnG,UAAU+L,iBAAmB,SAAUtJ,GACvD,IAAI0J,EAAQ1U,KAAKwU,UAAUxJ,GACvB5K,EAAQJ,KAAK2U,uBAAuBD,GACxC1U,KAAKoT,UAAUhT,GAAO,IAK1BsO,EAAoBnG,UAAUoM,uBAAyB,SAAUD,GAC7D,IAAetX,EAAN4C,KAAeuP,KAAMgD,EAArBvS,KAA8BsP,KAEnCsF,GADOF,EAAQ1U,KAAKgT,MAAMjC,MACL/Q,KAAKgT,MAAMhC,MAMpC,OALIhR,KAAK0J,SAASyI,UACdyC,EAAc,EAAIA,GAIfrC,EAAMqC,GAAexX,EAAMmV,IAKtC7D,EAAoBnG,UAAUyH,eAAiB,SAAUhF,GACrD,IAAI6J,EAAQ7U,KAAK8U,UAAU9J,GACvB5K,EAAQJ,KAAK+U,kBAAkBF,GAC/BjB,MAAMxT,KAIV4K,EAAIuJ,iBACJvU,KAAK0J,SAAS+G,SAAS5E,GAAWI,OAClCjM,KAAKoT,UAAUhT,GAAO,GACtBJ,KAAK0J,SAASkI,iBAKlBlD,EAAoBnG,UAAUuM,UAAY,SAAUE,GAChD,OAAIA,EAAOnU,MAAQ4N,IAAyC,KAAnBuG,EAAOC,QACrCxG,GAEPuG,EAAOnU,MAAQ4N,IAA0C,KAAnBuG,EAAOC,QACtCxG,GAEPuG,EAAOnU,MAAQ4N,IAAuC,KAAnBuG,EAAOC,QACnCxG,GAEPuG,EAAOnU,MAAQ4N,IAAyC,KAAnBuG,EAAOC,QACrCxG,GAEPuG,EAAOnU,MAAQ4N,IAAmC,KAAnBuG,EAAOC,QAC/BxG,GAEPuG,EAAOnU,MAAQ4N,IAAkC,KAAnBuG,EAAOC,QAC9BxG,GAEPuG,EAAOnU,MAAQ4N,IAAsC,KAAnBuG,EAAOC,QAClCxG,GAEPuG,EAAOnU,MAAQ4N,IAAwC,KAAnBuG,EAAOC,QACpCxG,GAEJ,IAKXC,EAAoBnG,UAAUwM,kBAAoB,SAAUF,GACxD,IAAIK,EAAKlV,KAAM5C,EAAM8X,EAAG3F,KAAMgD,EAAM2C,EAAG5F,KACnC6F,EADgDD,EAAG1F,QAClCpS,EAAMmV,GAAO,IAKlC,OAJ4BvS,KAAK0J,SAASyI,UAAY0C,IAAUpG,IAAsBoG,IAAUpG,MAE5F0G,GAASA,GAELN,GACJ,KAAKpG,GACL,KAAKA,GACD,OAAOzO,KAAKyP,OAAS0F,EACzB,KAAK1G,GACL,KAAKA,GACD,OAAOzO,KAAKyP,OAAS0F,EACzB,KAAK1G,GACD,OAAOzO,KAAKsP,KAChB,KAAKb,GACD,OAAOzO,KAAKuP,KAChB,KAAKd,GACD,OAAOzO,KAAKyP,OAAS0F,EAAQjI,GAAQC,YACzC,KAAKsB,GACD,OAAOzO,KAAKyP,OAAS0F,EAAQjI,GAAQC,YACzC,QACI,OAAO6B,MAGnBN,EAAoBnG,UAAU2H,aAAe,WACrClQ,KAAK2P,oBAGT3P,KAAK0J,SAAS+G,SAAS5E,GAAWI,QAEtCyC,EAAoBnG,UAAU6H,YAAc,WACxCpQ,KAAK2P,oBAAqB,EAC1B3P,KAAK0J,SAASgH,YAAY7E,GAAWI,QAKzCyC,EAAoBnG,UAAU6K,UAAY,SAAUhT,EAAOgV,EAAiBC,GAExE,QADc,IAAVA,IAAoBA,GAAQ,GAC5BjV,IAAUJ,KAAKyP,QAAW4F,EAA9B,CAGA,IAAe9C,EAANvS,KAAesP,KAAMlS,EAArB4C,KAA8BuP,KACnC+F,EAAqBlV,IAAUmS,GAAOnS,IAAUhD,EAChD4C,KAAKwP,QAAU8F,IACflV,EAAQJ,KAAKuV,UAAUnV,IAEvBA,EAAQmS,EACRnS,EAAQmS,EAEHnS,EAAQhD,IACbgD,EAAQhD,GAEZ4C,KAAKyP,OAASrP,EACdJ,KAAK0J,SAASnJ,aAAa8L,GAAQI,cAAesG,OAAO/S,KAAKyP,SAC9DzP,KAAKiT,2BACDmC,IACApV,KAAK0J,SAASiI,cACV3R,KAAKmP,aACLnP,KAAK0J,SAASqI,eAAe3R,MAOzCsO,EAAoBnG,UAAUgN,UAAY,SAAUnV,GAEhD,OADejD,KAAKqY,MAAMpV,EAAQJ,KAAKwP,OACrBxP,KAAKwP,OAE3Bd,EAAoBnG,UAAU0K,yBAA2B,WACrD,IAAIrE,EAAQ5O,KACRkV,EAAKlV,KAAM5C,EAAM8X,EAAG3F,KAAMgD,EAAM2C,EAAG5F,KACnCsF,GADiDM,EAAGzF,OAC7B8C,IAAQnV,EAAMmV,GACrCkD,EAAcb,EAAc5U,KAAKgT,MAAMhC,MACvChR,KAAK0J,SAASyI,UACdsD,EAAczV,KAAKgT,MAAMhC,MAAQyE,GAErC,IAAIC,ED/XL,SAAgCzH,EAAWL,GAC9C,GAAII,GAASC,IAAcL,KAAeR,GAAoB,CAC1D,IAAIuI,EAAK1H,EAAUjP,SAASC,cAAc,OACtCiW,EAAK9H,GAAmBQ,GAAcL,EAAW2H,EAAG3H,SAAUD,EAAW4H,EAAG5H,SAEhF,OADiBC,KAAYoI,EAAG7U,MACZyM,EAAWD,EAEnC,OAAOM,ECwXiBgI,CAAuBlK,OAAQ,aAC/CmK,EDvXL,SAA6B5H,EAAW6H,GAC3C,GAAI9H,GAASC,IAAc6H,KAAapI,GAAgB,CACpD,IAAIiI,EAAK1H,EAAUjP,SAASC,cAAc,OACtCiW,EAAKxH,GAAeoI,GAAYvI,EAAW2H,EAAG3H,SAAUD,EAAW4H,EAAG5H,SAE1E,OAFkG4H,EAAGtH,eACrE+H,EAAG7U,MACfyM,EAAWD,EAEnC,OAAOwI,ECgXwBC,CAAoBrK,OAAQ,iBACvD,GAAI1L,KAAKkP,WAAY,CACjB,IAAI8G,EAAoB,WACpBpH,EAAMkF,eAAc,GACpBlF,EAAMlF,SAAS4H,2CAA2CuE,EAAsBG,IAEpFhW,KAAK0J,SAAS2H,yCAAyCwE,EAAsBG,GAEjFC,uBAAsB,WAKlBrH,EAAMlF,SAASmI,+BAA+B6D,EAAe,cAAgBD,EAAc,wBAC3F7G,EAAMlF,SAASoI,sBAAsB4D,EAAe,UAAYd,EAAc,SAMtFlG,EAAoBnG,UAAUwL,WAAa,SAAUmC,GACjDlW,KAAKiP,QAAUiH,EACflW,KAAK2T,aAAa9H,GAAWC,OAAQ9L,KAAKiP,UAK9CP,EAAoBnG,UAAUuL,cAAgB,SAAUqC,GACpDnW,KAAKkP,WAAaiH,EAClBnW,KAAK2T,aAAa9H,GAAWM,WAAYnM,KAAKkP,aAKlDR,EAAoBnG,UAAUoL,aAAe,SAAUyC,EAAWC,GAC1DA,EACArW,KAAK0J,SAAS+G,SAAS2F,GAGvBpW,KAAK0J,SAASgH,YAAY0F,IAG3B1H,GACTlF,IC7cE8M,GAA2B,SAAU3H,GAErC,SAAS2H,IACL,OAAkB,OAAX3H,GAAmBA,EAAO/F,MAAM5I,KAAM2I,YAAc3I,KA0J/D,OA5JAuQ,GAAkB+F,EAAW3H,GAI7B2H,EAAU7L,SAAW,SAAUV,GAC3B,OAAO,IAAIuM,EAAUvM,IAEzBnP,OAAO+O,eAAe2M,EAAU/N,UAAW,QAAS,CAChDpG,IAAK,WACD,OAAOnC,KAAKsK,YAAY4I,YAE5BlS,IAAK,SAAUZ,GACXJ,KAAKsK,YAAY6I,SAAS/S,IAE9BwJ,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe2M,EAAU/N,UAAW,MAAO,CAC9CpG,IAAK,WACD,OAAOnC,KAAKsK,YAAYkI,UAE5BxR,IAAK,SAAUuR,GACXvS,KAAKsK,YAAYgJ,OAAOf,IAE5B3I,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe2M,EAAU/N,UAAW,MAAO,CAC9CpG,IAAK,WACD,OAAOnC,KAAKsK,YAAYmI,UAE5BzR,IAAK,SAAU5D,GACX4C,KAAKsK,YAAY+I,OAAOjW,IAE5BwM,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe2M,EAAU/N,UAAW,OAAQ,CAC/CpG,IAAK,WACD,OAAOnC,KAAKsK,YAAY+H,WAE5BrR,IAAK,SAAU0R,GACX1S,KAAKsK,YAAYiJ,QAAQb,IAE7B9I,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAe2M,EAAU/N,UAAW,WAAY,CACnDpG,IAAK,WACD,OAAOnC,KAAKsK,YAAYkJ,cAE5BxS,IAAK,SAAU0S,GACX1T,KAAKsK,YAAYmJ,YAAYC,IAEjC9J,YAAY,EACZC,cAAc,IAElByM,EAAU/N,UAAU6B,WAAa,WAC7BpK,KAAKuW,gBAAkBvW,KAAKmK,MAAMqM,cAAcnK,GAAQU,0BACxD/M,KAAKyW,OAASzW,KAAKmK,MAAMqM,cAAcnK,GAAQY,gBAC/CjN,KAAK0W,gBAAkB1W,KAAKmK,MAAMqM,cAAcnK,GAAQQ,2BACxD7M,KAAK2W,sBAAwB3W,KAAKmK,MAAMqM,cAAcnK,GAAQW,kCAElEsJ,EAAU/N,UAAUgC,qBAAuB,WACvC,IAAIqE,EAAQ5O,KAsDZ,OAAO,IAAI0O,GAlDG,CACV8B,SAAU,SAAU4F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAUoV,SAASR,IACvE3F,SAAU,SAAU2F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAU6B,IAAI+S,IAClE1F,YAAa,SAAU0F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAUqV,OAAOT,IACxE9V,aAAc,SAAUvB,GAAQ,OAAO6P,EAAMzE,MAAM7J,aAAavB,IAChEwB,aAAc,SAAUxB,EAAMqB,GAAS,OAAOwO,EAAMzE,MAAM5J,aAAaxB,EAAMqB,IAC7EC,gBAAiB,SAAUtB,GAAQ,OAAO6P,EAAMzE,MAAM9J,gBAAgBtB,IACtE4R,oBAAqB,WAAc,OAAO/B,EAAMzE,MAAM2M,yBACtD5F,YAAa,WAAc,OAAOtC,EAAMzE,MAAM4M,UAC9C5F,2BAA4B,SAAUxG,EAAShL,GAAW,OAAOiP,EAAMnP,OAAOkL,EAAShL,EAAS4L,OAChG6F,6BAA8B,SAAUzG,EAAShL,GAAW,OAAOiP,EAAMhE,SAASD,EAAShL,EAAS4L,OACpG8F,yCAA0C,SAAU1G,EAAShL,GACzDiP,EAAM2H,gBAAgB1W,iBAAiB8K,EAAShL,EAAS4L,OAE7D+F,2CAA4C,SAAU3G,EAAShL,GAC3DiP,EAAM2H,gBAAgBzW,oBAAoB6K,EAAShL,EAAS4L,OAEhEgG,+BAAgC,SAAU5G,EAAShL,GAAW,OAAOX,SAASgY,KAAKnX,iBAAiB8K,EAAShL,IAC7G6R,iCAAkC,SAAU7G,EAAShL,GAAW,OAAOX,SAASgY,KAAKlX,oBAAoB6K,EAAShL,IAClH8R,sBAAuB,SAAU9R,GAAW,OAAO+L,OAAO7L,iBAAiB,SAAUF,IACrF+R,wBAAyB,SAAU/R,GAAW,OAAO+L,OAAO5L,oBAAoB,SAAUH,IAC1FgS,YAAa,WAAc,OAAO/C,EAAM/D,KAAKwB,GAAQM,YAAaiC,IAClEgD,aAAc,WAAc,OAAOhD,EAAM/D,KAAKwB,GAAQK,aAAckC,IACpEiD,+BAAgC,SAAUoF,EAAc7W,GACpDwO,EAAM2H,gBAAgBzV,MAAMoW,YAAYD,EAAc7W,IAE1D0R,sBAAuB,SAAUmF,EAAc7W,GAAS,OAAOwO,EAAM6H,OAAO3V,MAAMoW,YAAYD,EAAc7W,IAC5G2R,eAAgB,SAAU3R,GAAS,OAAOwO,EAAM8H,gBAAgBS,UAAY/W,EAAMgX,kBAClFpF,mBAAoB,SAAUW,GAE1B,IADA,IAAI0E,EAAOrY,SAASsY,yBACXha,EAAI,EAAGA,EAAIqV,EAAYrV,IAAK,CACjC,IAAIia,EAASvY,SAASC,cAAc,OACpCsY,EAAO/V,UAAU6B,IAAI,4BACrBgU,EAAKlZ,YAAYoZ,GAErB3I,EAAM+H,sBAAsBxY,YAAYkZ,IAE5CpF,mBAAoB,WAChB,KAAOrD,EAAM+H,sBAAsB5O,YAC/B6G,EAAM+H,sBAAsBlY,YAAYmQ,EAAM+H,sBAAsB5O,aAG5EmK,iCAAkC,SAAU+E,EAAc7W,GAEhCwO,EAAMzE,MAAMqM,cAAcnK,GAAQO,4BACxC9L,MAAMoW,YAAYD,EAAc7W,IAEpD+R,MAAO,WAAc,MAAmD,QAA5CqF,iBAAiB5I,EAAMzE,OAAOsN,cAKlEnB,EAAU/N,UAAUiC,mBAAqB,WACrC,IAAIkN,EAAe1X,KAAK2X,YAAY3X,KAAKmK,MAAM7J,aAAa+L,GAAQI,eAAgBzM,KAAKI,OACrFmS,EAAMvS,KAAK2X,YAAY3X,KAAKmK,MAAM7J,aAAa+L,GAAQG,eAAgBxM,KAAKuS,KAC5EnV,EAAM4C,KAAK2X,YAAY3X,KAAKmK,MAAM7J,aAAa+L,GAAQE,eAAgBvM,KAAK5C,KAG5EmV,GAAOvS,KAAK5C,KACZ4C,KAAK5C,IAAMA,EACX4C,KAAKuS,IAAMA,IAGXvS,KAAKuS,IAAMA,EACXvS,KAAK5C,IAAMA,GAEf4C,KAAK0S,KAAO1S,KAAK2X,YAAY3X,KAAKmK,MAAM7J,aAAa+L,GAAQS,gBAAiB9M,KAAK0S,MACnF1S,KAAKI,MAAQsX,EACb1X,KAAK0T,SAAY1T,KAAKmK,MAAMyN,aAAavL,GAAQC,gBACM,UAAnDtM,KAAKmK,MAAM7J,aAAa+L,GAAQC,eACpCtM,KAAKsK,YAAYgI,oBAErBgE,EAAU/N,UAAU+H,OAAS,WACzBtQ,KAAKsK,YAAYgG,UAErBgG,EAAU/N,UAAUsP,OAAS,SAAUC,QACpB,IAAXA,IAAqBA,EAAU9X,KAAK0S,MAAQ,GAChD1S,KAAKI,OAAS0X,GAElBxB,EAAU/N,UAAUwP,SAAW,SAAUD,QACtB,IAAXA,IAAqBA,EAAU9X,KAAK0S,MAAQ,GAChD1S,KAAKI,OAAS0X,GAElBxB,EAAU/N,UAAUoP,YAAc,SAAUK,EAAKC,GAC7C,IAAIC,EAAMC,WAAWH,GAErB,MAD+B,iBAARE,GAAoBE,SAASF,GACjCA,EAAMD,GAEtB3B,GACTxM,ICvLK,SAASuO,GAAqBzc,EAAW0c,EAAmB,IACjE,MAAMC,EAAS,CACb,QAAS,OACT,mBAAoB,kBAAmB,SACvC,MAAO,OAAQ,QACf,UAAW,WAAY,QACvB,WAAY,QAAS,cAAe,WAAY,YAAa,aAAc,aAAc,YAAa,YAAa,WAAY,UAAW,oBAAqB,mBAAoB,SAAU,QAC7L,OAAQ,UAAW,YAAa,YAAa,YAAa,WAAY,OACtE,cAAe,WAAY,YAAa,aACxC,cAAe,eAAgB,cAAe,cAAe,YAAa,gBAAiB,aAAc,eAAgB,oBAAqB,wBAC3ID,GAGL,SAASE,EAAQxP,IVkqBnB,SAAgBpN,EAAW8D,GACvB,MAAMlE,EAAYI,EAAUE,GAAGN,UAAUkE,EAAMwH,MAC3C1L,GACAA,EAAUe,QAAQvB,SAAQN,GAAMA,EAAGgF,KUpqBvC+Y,CAAO7c,EAAWoN,GAGpB,OAAO9K,IACL,MAAMwa,EAAc,GAEpB,IAAK,IAAIpb,EAAI,EAAGA,EAAIib,EAAOlb,OAAQC,IACjCob,EAAY1c,KAAKyD,EAAOvB,EAAMqa,EAAOjb,GAAIkb,IAG3C,MAAO,CACLza,QAAS,KACP,IAAK,IAAIT,EAAI,EAAGA,EAAIob,EAAYrb,OAAQC,IACtCob,EAAYpb,QC7Bf,SAASqb,GAAQrR,EAAKE,GAC3B,IAAIoR,EAAQhe,OAAOie,oBAAoBvR,GACvC,MAAMwR,EAAS,GAEf,IAAK,IAAIxb,EAAI,EAAGA,EAAIsb,EAAMvb,OAAQC,IAAK,CACrC,MAAMyB,EAAO6Z,EAAMtb,GACbyb,EAAYha,EAAKoI,QAAQ,MACZ,IAAf4R,IAAwE,IAApDvR,EAAKL,QAAQpI,EAAKia,UAAU,EAAGD,EAAY,MAGvC,IAAxBvR,EAAKL,QAAQpI,KAGjB+Z,EAAO/Z,GAAQuI,EAAIvI,IAGrB,OAAO+Z,EChBF,SAASG,GAAW/a,EAAMgb,GAC/B,IAAIC,EAAU,GAEd,GAAID,EACF,IAAK,IAAI5b,EAAI,EAAGA,EAAI4b,EAAQ7b,OAAQC,IAAK,CACvC,MAAM8b,EAAU3S,MAAM2S,QAAQF,EAAQ5b,IAChC+b,EAASD,EAAUF,EAAQ5b,GAAG,GAAK4b,EAAQ5b,GAC7C8b,GAAWF,EAAQ5b,GAAGD,OAAS,EACjC8b,EAAQnd,KAAKqd,EAAOnb,EAAMgb,EAAQ5b,GAAG,KAErC6b,EAAQnd,KAAKqd,EAAOnb,IAK1B,MAAO,CACL8I,OAAOkS,GACL,IAAKA,GAAWA,EAAQ7b,QAAU,IAAM8b,EAAQ9b,OAC9C,MAAM,IAAIuE,MAAM,uDAGlB,GAAIsX,EACF,IAAK,IAAI5b,EAAI,EAAGA,EAAI4b,EAAQ7b,OAAQC,IAClC,GAAI6b,EAAQ7b,IAAM,WAAY6b,EAAQ7b,GAAI,CACxBmJ,MAAM2S,QAAQF,EAAQ5b,KACvB4b,EAAQ5b,GAAGD,OAAS,EACjC8b,EAAQ7b,GAAG4F,OAAOgW,EAAQ5b,GAAG,IAE7B6b,EAAQ7b,GAAG4F,WAOrB8D,UACE,IAAK,IAAI1J,EAAI,EAAGA,EAAI6b,EAAQ9b,OAAQC,IAC9B6b,EAAQ7b,IAAM,YAAa6b,EAAQ7b,IACrC6b,EAAQ7b,GAAGS,2WCfZ5B,MAAYA,aAKZA,gDAtBJA,eACAA,KAAW,uBAAyB,cACnCA,MAAYA,KAAkB,8BAAgC,+CAGnDA,KAAW,OAAS,0BACpBA,uBACAA,uBACAA,MACD,IAATA,SAAmBmd,YAAand,sBAEjCA,MAEAwc,GAAQxc,OAAU,MAAO,QAAS,WAAY,WAAY,iBAAkB,MAAO,MAAO,OAAQ,QAAS,qnBAjB/FA,mDAgBIA,wBAKbA,MAAYA,sDAKZA,qGAtBJA,eACAA,KAAW,uBAAyB,cACnCA,MAAYA,KAAkB,8BAAgC,mDAGnDA,KAAW,OAAS,qDACpBA,8BACAA,4BACAA,cACD,IAATA,SAAmBmd,YAAand,8BAEjCA,eAEAwc,GAAQxc,OAAU,MAAO,QAAS,WAAY,WAAY,iBAAkB,MAAO,MAAO,OAAQ,QAAS,wDAjB/FA,+FA8CVod,EAAgBlB,GAAqB1W,KAA0B,kBAAmB,yBAcpF7C,EACA0a,EAIAC,OAjBOC,eACPtD,EAAY,gBAEL1C,GAAW,eACXiG,GAAW,qBACXC,GAAiB,UACjBrH,EAAM,UACNnV,EAAM,aACNsV,EAAO,YACPtS,EAAQ,kBACRyZ,EAAW,OAIlBC,EAAY5X,EAAW,mBACvB6X,EAAa7X,EAAW,gCACxB8X,EAAoB9X,EAAW,mCA+CnBoO,KAAUrG,UACjBuP,EAAOlJ,UAAUrG,UAzBtB+P,IACFP,EAAuBO,EAAkB1J,IAG3CzO,aACE2X,MAAalD,GAAUxX,IAEnBgb,GAAaA,MACfA,IAAYzY,MAAQmY,MAIxBzX,QACEyX,GAAUA,EAAOzb,UAEb0b,GACFA,8XApCGD,GAAUA,EAAO9F,WAAaA,QACnC8F,EAAO9F,SAAWA,wBAGb8F,GAAUA,EAAOjH,MAAQA,QAC9BiH,EAAOjH,IAAMA,wBAGRiH,GAAUA,EAAOpc,MAAQA,QAC9Boc,EAAOpc,IAAMA,wBAGRoc,GAAUA,EAAO9G,OAASA,QAC/B8G,EAAO9G,KAAOA,wBAGT8G,GAAUA,EAAOpZ,QAAUA,QAChCoZ,EAAOpZ,MAAQA,uDAwBfA,EAAQoZ,EAAOpZ,qBAOM0X,EAAS,KAAM7N,UAC7BuP,EAAO3B,OAAOC,KAAW7N,aAGT6N,EAAS,KAAM7N,UAC/BuP,EAAOzB,SAASD,KAAW7N,sBAI3B8P,GAAcA,EAAWE,8CA7HvBnb,qaC2BE,MAAQ,qHAAqC3C,8UAxBtDiE,EAAQ,IAEZyB,mBACQqY,QAAaC,MAAM,kBACpBD,EAAKE,aACExY,MAAM,mCAEZvC,QAAa6a,EAAKG,WACxBja,EAAQf,EAAKe,yBAGa4I,EAAGsR,WACvBH,MAAM,cACVI,OAAQ,OACRC,SACEC,eAAgB,oBAElBzD,KAAM0D,KAAKC,WAAWva,MAAOjD,KAAKqY,MAAMpV,iKCO/B,OAAS,SAAW,gIAA6CjE,qVAxB1EiE,EAAQ,GAEZyB,mBACQqY,QAAaC,MAAM,kBACpBD,EAAKE,aACExY,MAAM,mCAEZvC,QAAa6a,EAAKG,WACxBja,EAAQf,EAAY,yBAGM2J,EAAGsR,WACvBH,MAAM,cACVI,OAAQ,OACRC,SACEC,eAAgB,oBAElBzD,KAAM0D,KAAKC,WAAkBva,MAAAA,gKCQpB,OAAS,SAAW,gIAA6CjE,oVAxB1EiE,EAAQ,IAEZyB,mBACQqY,QAAaC,MAAM,aACpBD,EAAKE,aACExY,MAAM,8BAEZvC,QAAa6a,EAAKG,WACxBja,EAAsB,IAAdf,EAAY,yBAGM2J,EAAGsR,WACvBH,MAAM,SACVI,OAAQ,OACRC,SACEC,eAAgB,oBAElBzD,KAAM0D,KAAKC,WAAWva,MAAOA,EAAM,ixBCnBzC,MAAMwa,GAAmB,GAMzB,SAASC,GAASza,EAAO0a,GACrB,MAAO,CACHxf,UAAWyf,GAAS3a,EAAO0a,GAAOxf,WAQ1C,SAASyf,GAAS3a,EAAO0a,EAAQ1gB,GAC7B,IAAI4gB,EACJ,MAAMC,EAAc,GACpB,SAASja,EAAIka,GACT,GAAI/f,EAAeiF,EAAO8a,KACtB9a,EAAQ8a,EACJF,GAAM,CACN,MAAMG,GAAaP,GAAiBvd,OACpC,IAAK,IAAIC,EAAI,EAAGA,EAAI2d,EAAY5d,OAAQC,GAAK,EAAG,CAC5C,MAAMoL,EAAIuS,EAAY3d,GACtBoL,EAAE,KACFkS,GAAiB5e,KAAK0M,EAAGtI,GAE7B,GAAI+a,EAAW,CACX,IAAK,IAAI7d,EAAI,EAAGA,EAAIsd,GAAiBvd,OAAQC,GAAK,EAC9Csd,GAAiBtd,GAAG,GAAGsd,GAAiBtd,EAAI,IAEhDsd,GAAiBvd,OAAS,IA0B1C,MAAO,CAAE2D,IAAAA,EAAKkC,OArBd,SAAgBxI,GACZsG,EAAItG,EAAG0F,KAoBW9E,UAlBtB,SAAmBb,EAAK2gB,EAAahhB,GACjC,MAAMihB,EAAa,CAAC5gB,EAAK2gB,GAMzB,OALAH,EAAYjf,KAAKqf,GACU,IAAvBJ,EAAY5d,SACZ2d,EAAOF,EAAM9Z,IAAQ5G,GAEzBK,EAAI2F,GACG,KACH,MAAM2E,EAAQkW,EAAY9T,QAAQkU,IACnB,IAAXtW,GACAkW,EAAY7T,OAAOrC,EAAO,GAEH,IAAvBkW,EAAY5d,SACZ2d,IACAA,EAAO,SCvDvB,IAAIM,GAAa,IAAIC,KAGd,MAAMC,GAASX,GAAS,CAACY,UAAMze,EAAW0e,QAAS,EAAGC,UAAW,KACtE,SAAe3a,GACb,MAAM4a,EAAWC,aAAYC,UAC3B,MAAM5B,QAAaC,MAAM,UACzB,IAAKD,EAAKE,GACR,MAAM,IAAIxY,MAAM,sBAElB,MAAM6Z,KAAEA,EAAIM,kBAAEA,EAAiBC,MAAEA,SAAgB9B,EAAKG,OAEtDrZ,EAAI,CACFya,KAAMA,EACNC,QAASK,EACTJ,UAAWK,IAGbV,GAAa,IAAIC,OAChB,KACH,MAAO,IAAMU,cAAcL,MAKlBG,GDoCb,SAAiBG,EAAQxhB,EAAIyhB,GACzB,MAAMC,GAAU3V,MAAM2S,QAAQ8C,GACxBG,EAAeD,EACf,CAACF,GACDA,EACAI,EAAO5hB,EAAG2C,OAAS,EACzB,OAAOwd,GAASsB,GAAgBnb,IAC5B,IAAIub,GAAS,EACb,MAAMC,EAAS,GACf,IAAIC,EAAU,EACVC,EAAUtiB,EACd,MAAMuiB,EAAO,KACT,GAAIF,EACA,OAEJC,IACA,MAAM9e,EAASlD,EAAG0hB,EAASI,EAAO,GAAKA,EAAQxb,GAC3Csb,EACAtb,EAAIpD,GAGJ8e,EAAUzhB,EAAY2C,GAAUA,EAASxD,GAG3CwiB,EAAgBP,EAAa/W,KAAI,CAAC/J,EAAO+B,IAAMhC,EAAUC,GAAQ6E,IACnEoc,EAAOlf,GAAK8C,EACZqc,KAAa,GAAKnf,GACdif,GACAI,OAEL,KACCF,GAAY,GAAKnf,OAIrB,OAFAif,GAAS,EACTI,IACO,WACH7hB,EAAQ8hB,GACRF,QCzEqBG,CAC/BrB,IACA,CAACsB,EAAS9b,KACR,MAAM4a,EAAWC,aAAY,KAC3B,MAAMkB,EAAU5f,KAAKqY,OAAO,IAAI+F,KAASD,IAAc,KACjD0B,EAAYF,EAAQpB,QAAUqB,EACpC/b,EAAIgc,GAAa,EAAIA,EAAY,KAChC,KACH,MAAO,IAAMf,cAAcL,MAiFxB,MAAMqB,GA5Eb,WACE,MAAMC,EAASpB,UACb,MAAM5B,QAAaC,MAAM,YACzB,IAAKD,EAAKE,GACR,MAAM,IAAIxY,MAAM,wBAElB,aAAasY,EAAKG,QAGpB,IAAI8C,EAAe,CAACF,SAAW,GAAGG,aAAUpgB,GAC5C,MAAM1B,UAAEA,EAAS0F,IAAEA,EAAGkC,OAAEA,GAAW6X,GAASoC,GAC1C,SAAenc,GAEb,MAAM4a,EAAWC,aAAYC,UAC3B,MAAMzc,QAAa6d,IACnBlc,EAAI3B,KACH,KACH,MAAO,IAAM4c,cAAcL,MAkD/B,MAAO,CACLtgB,UAAAA,EACAgI,MAjDYwY,gBACN3B,MAAM,WAAY,CACtBI,OAAQ,WAEVvZ,EAAImc,IA8CJ9Z,IA3CUyY,MAAOL,IACjB,MAAMvB,QAAaC,MAAM,WAAY,CACnCI,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBzD,KAAM0D,KAAKC,UAAU,CAACc,KAAMA,MAE9B,IAAKvB,EAAKE,GACR,MAAM,IAAIxY,MAAM,8BAElB,MAAMvC,QAAa6a,EAAKG,OACxBrZ,EAAI3B,IAgCJge,WA7BiBvB,MAAOwB,IAIxB,WAHmBnD,MAAM,oBAAoBmD,IAAW,CACtD/C,OAAQ,YAEAH,GACR,MAAM,IAAIxY,MAAM,qDAAqD0b,KAEvE,MAAMje,QAAa6d,IACnBlc,EAAI3B,IAsBJke,QAnBczB,MAAOwB,UACfnD,MAAM,WAAY,CACtBI,OAAQ,MACRC,QAAS,CACPC,eAAgB,oBAElBzD,KAAM0D,KAAKC,UAAU,CAAC6C,SAAUF,MAElCpa,GAAO7D,IACLA,EAAK+d,QAAUE,EACRje,OAaWoe,4CCrHPthB,MAASA,4IAATA,oBAASA,0DAGb8d,EAAK,YACL5a,2MCJUlD,MAASA,kJAATA,oBAASA,0DAGnB8d,EAAK,YACL5a,qOCHNlD,iCAAAA,qDAWDuhB,EANAC,EAAS,gBAQFte,cAEFue,EAAOve,OACTA,IAASA,EAAKqe,WACV,SAELG,EAAUxe,EAAKqe,UACbI,YACND,EAAUA,EAAQE,QAAQ,oCAAoCC,EAAO/D,WAC7DgE,GAfRN,GAAU,QACGA,EAAOO,SAAS,cAe3BJ,EAAI7D,GAAMgE,UACKA,QAGjBJ,EAAUA,EAAQE,QAAQ,0DAA0DC,EAAOG,EAAOC,EAAGC,WAC7FpE,EAAKkE,GAASE,SACfpE,GAAO6D,EAAI7D,OAGL6D,EAAI7D,KAFN+D,KAIJH,mFAGNH,EAAME,EAAOve,qOCtCiBlD,0GAIrBA,oBACJA,MAAQ,MAAQ,8BACfA,kBAAYA,qBALNA,qBAAsBA,uBAAyBA,+BAC1B,eAATA,6BAA0D,aAATA,4HAF3CA,yLAIrBA,2BACJA,MAAQ,MAAQ,yDACfA,gCAAYA,2BALNA,2BAAsBA,6BAAyBA,sCAC1B,eAATA,oCAA0D,aAATA,mIAwCxEia,YAIOpF,aACAC,UACAqN,WAEAC,GAAO,cACPC,GAAU,YACVC,GAAQ,WACRC,EAAO,WAGPC,QACAC,YACA9d,YACA+d,itBCvDF1iB,KAAK2iB,eAKL3iB,KAAK4iB,kBAKL5iB,KAAKuhB,uJAVLvhB,KAAK2iB,kHAKL3iB,KAAK4iB,qHAKL5iB,KAAKuhB,sQATDvhB,KAAK2iB,2BAAVzhB,yNAAKlB,KAAK2iB,cAAVzhB,iIAAAA,8DAAAA,wKACSlB,WAAWA,uFAAAA,6HAIfA,KAAK4iB,8BAAV1hB,yNAAKlB,KAAK4iB,iBAAV1hB,iIAAAA,8DAAAA,wKACYlB,WAAWA,uFAAAA,6KAITA,cAAAA,8IAAAA,2MAZfA,gFAAAA,8ZAHGA,WAAcA,YAAeA,SAAaA,YAAYA,UAC1DA,UAAYA,aAAeA,WAAgBA,WAAcA,iIADrDA,sBAAcA,uBAAeA,qBAAaA,uBAAYA,mBAC1DA,oBAAYA,sBAAeA,qBAAgBA,oBAAcA,+JA+C3D6U,EACAC,EACA+N,EACAV,oCAvBAlI,EAAY,YAEL/W,YACA4f,EAAQ,WACRV,GAAO,cACPC,GAAU,YACVC,GAAQ,WACRC,EAAO,eACPG,EAAQ,cACR9e,EAAO,eACPe,EAAQ,iBA8DVoe,QACHC,EAAW,cACM,IAAVF,IACTE,EAAWC,OAAOH,IAEhBrL,MAAMuL,IAAaA,GAAY,GACjCE,QAAQC,KAAK,yDA5DA,GAAA,EA+DRH,WAUAI,WACFxf,EAGE5C,KAAKC,IAAI2C,EAAKiR,MAAOjR,EAAKkR,QAAU,GAFlC,sYAnEW,IAAT5R,eAGLmgB,WAsBengB,MACjB,aAAcA,GAAQ,SAAUA,OAC9BmgB,KACAC,EAASpgB,EAAKqgB,KACd3gB,EAAOM,EAAKsgB,SAIZC,GACF5O,MAJUyO,EAAO,GAKjBxO,OAJWwO,EAAO,GAKlBX,QACEjgB,EALQ4gB,EAAO,aAQnBD,EAAezgB,GAAQ6gB,EAChBJ,SAEFngB,EAxCgBwgB,CAAcxgB,IAC9BN,GAAQnE,OAAO4M,KAAKgY,GACrBE,EAAOF,EAAezgB,GACvB2gB,EAAKZ,QACRY,EAAKZ,UAEHY,EAAK7gB,GACP6gB,EAAKZ,MAAM9iB,MACT6C,EAAG6gB,EAAK7gB,IAGP6gB,EAAKX,WACRW,EAAKX,aAEHW,EAAKI,QACPJ,EAAKX,SAAS/iB,MACZ8jB,OAAQJ,EAAKI,aAGjB/f,EAAO2f,GAyFP9Z,OACAoL,EApCIjR,EACMA,EAAKiR,MAAQuO,IAAoBL,IAEpC,OAkCPjO,EA3BIlR,EACMA,EAAKkR,OAASsO,IAAoBL,IAErC,OAyBPF,iBArBIe,EAAW,GACD,OAAVjf,IACFif,GAAYjf,OAEVkf,EAAOd,WACE,IAATc,EACKD,GAEQ,KAAbA,GAAoBA,EAASE,SAAS,OACxCF,GAAY,SAEJA,eAAsBC,OAUhBE,SAChB5B,EAxDIve,SACYA,EAAKiR,SAASjR,EAAKkR,gBAErBD,KAASC,kDArGHlR,wKCfT,CAAEogB,IAAK,CAAEnP,MAAO,KAAMC,OAAQ,KAAM6N,MAAO,CAAC,CAAEjgB,EAAG,yvBCAjD,CAAEuhB,gBAAiB,CAAEpP,MAAO,KAAMC,OAAQ,KAAM6N,MAAO,CAAC,CAAEjgB,EAAG,qKCA7D,CAAEwhB,cAAe,CAAErP,MAAO,KAAMC,OAAQ,KAAM6N,MAAO,CAAC,CAAEjgB,EAAG,yWCA3D,CAAEyhB,cAAe,CAAEtP,MAAO,KAAMC,OAAQ,KAAM6N,MAAO,CAAC,CAAEjgB,EAAG,0PCA3D,CAAE0hB,MAAO,CAAEvP,MAAO,KAAMC,OAAQ,KAAM6N,MAAO,CAAC,CAAEjgB,EAAG,6vJCAlE,IAAI2hB,GAAqB,CACvB,QACA,SACA,WACA,UACA,SACA,aACA,kBACA,kBACA,oDAEEC,GAAoBD,GAAmBE,KAAK,KAE5CC,GAA6B,oBAAZC,QACjB,aACAA,QAAQrY,UAAUoY,SAAWC,QAAQrY,UAAUsY,mBAAqBD,QAAQrY,UAAUuY,sBAE1F,SAASC,GAASpL,EAAI/V,GACpBA,EAAUA,GAAW,GAErB,IAYItC,EAAG0jB,EAAWC,EAZdC,EAAmB,GACnBC,EAAmB,GAEnBC,EAAazL,EAAG0L,iBAAiBZ,IAUrC,IARI7gB,EAAQ0hB,kBACNX,GAAQ1gB,KAAK0V,EAAI8K,MACnBW,EAAa3a,MAAM8B,UAAUhM,MAAMqM,MAAMwY,IAC9BG,QAAQ5L,GAKlBrY,EAAI,EAAGA,EAAI8jB,EAAW/jB,OAAQC,IAG5BkkB,GAFLR,EAAYI,EAAW9jB,MAKG,KAD1B2jB,EAAoBQ,GAAYT,IAE9BE,EAAiBllB,KAAKglB,GAEtBG,EAAiBnlB,KAAK,CACpB0lB,cAAepkB,EACfyZ,SAAUkK,EACV/iB,KAAM8iB,KAUZ,OALoBG,EACjBQ,KAAKC,IACLtc,KAAI,SAASlK,GAAK,OAAOA,EAAE8C,QAC3BoL,OAAO4X,GAQZ,SAASM,GAA+BtjB,GACtC,SACG2jB,GAAgC3jB,IA8DrC,SAA4BA,GAC1B,OALF,SAAiBA,GACf,OAAO4jB,GAAQ5jB,IAAuB,UAAdA,EAAKgJ,KAItB6a,CAAQ7jB,KAWjB,SAAyBA,GACvB,IAAKA,EAAKa,KAAM,OAAO,EAGvB,IACIijB,EAbN,SAAyBxb,GACvB,IAAK,IAAIlJ,EAAI,EAAGA,EAAIkJ,EAAMnJ,OAAQC,IAChC,GAAIkJ,EAAMlJ,GAAG0kB,QACX,OAAOxb,EAAMlJ,GAUH2kB,CADC/jB,EAAKgkB,cAAcb,iBAAiB,6BAA+BnjB,EAAKa,KAAO,OAE9F,OAAQijB,GAAWA,IAAY9jB,EAjBNikB,CAAgBjkB,GA9DpCkkB,CAAmBlkB,IACnBujB,GAAYvjB,GAAQ,GAa3B,SAAS2jB,GAAgC3jB,GACvC,QACEA,EAAKwV,UAqCT,SAAuBxV,GACrB,OAAO4jB,GAAQ5jB,IAAuB,WAAdA,EAAKgJ,KArCxBmb,CAAcnkB,IAiErB,SAAkBA,GAGhB,OAA6B,OAAtBA,EAAKokB,cAA+D,WAAtC9K,iBAAiBtZ,GAAMqkB,WAnEvDC,CAAStkB,IAxBhB6iB,GAAS0B,WAcT,SAAoBvkB,GAClB,IAAKA,EAAM,MAAM,IAAI0D,MAAM,oBAC3B,OAA8C,IAA1C+e,GAAQ1gB,KAAK/B,EAAMuiB,KAChBe,GAA+BtjB,IAhBxC6iB,GAAS2B,YA+BT,SAAqBxkB,GACnB,IAAKA,EAAM,MAAM,IAAI0D,MAAM,oBAC3B,OAAuD,IAAnD+e,GAAQ1gB,KAAK/B,EAAMykB,KAChBd,GAAgC3jB,IAJzC,IAAIykB,GAA6BnC,GAAmBlX,OAAO,UAAUoX,KAAK,KAO1E,SAASe,GAAYvjB,GACnB,IAAI0kB,EAAeC,SAAS3kB,EAAKoC,aAAa,YAAa,IAC3D,OAAKsT,MAAMgP,GAWb,SAA2B1kB,GACzB,MAAgC,SAAzBA,EAAK4kB,gBATRC,CAAkB7kB,GAAc,EAC7BA,EAAK6Y,SAJqB6L,EAOnC,SAAShB,GAAqBxmB,EAAGC,GAC/B,OAAOD,EAAE2b,WAAa1b,EAAE0b,SAAW3b,EAAEsmB,cAAgBrmB,EAAEqmB,cAAgBtmB,EAAE2b,SAAW1b,EAAE0b,SAOxF,SAAS+K,GAAQ5jB,GACf,MAAwB,UAAjBA,EAAK8kB,QAsCd,ICrJIC,MDqJalC,MEpJjB,WAGI,IAFA,IAAI9iB,EAAS,GAEJX,EAAI,EAAGA,EAAIqL,UAAUtL,OAAQC,IAAK,CACvC,IAAI4lB,EAASva,UAAUrL,GAEvB,IAAK,IAAIuD,KAAOqiB,EACR/a,GAAelI,KAAKijB,EAAQriB,KAC5B5C,EAAO4C,GAAOqiB,EAAOriB,IAKjC,OAAO5C,GAfPkK,GAAiBvN,OAAO2N,UAAUJ,eDGtC,IACMgb,GADFC,IACED,GAAY,GACT,CACLE,aAAc,SAASC,GACrB,GAAIH,GAAU9lB,OAAS,EAAG,CACxB,IAAIkmB,EAAaJ,GAAUA,GAAU9lB,OAAS,GAC1CkmB,IAAeD,GACjBC,EAAWC,QAIf,IAAIC,EAAYN,GAAUhc,QAAQmc,IACf,IAAfG,GAIFN,GAAU/b,OAAOqc,EAAW,GAH5BN,GAAUnnB,KAAKsnB,IAQnBI,eAAgB,SAASJ,GACvB,IAAIG,EAAYN,GAAUhc,QAAQmc,IACf,IAAfG,GACFN,GAAU/b,OAAOqc,EAAW,GAG1BN,GAAU9lB,OAAS,GACrB8lB,GAAUA,GAAU9lB,OAAS,GAAGsmB,aA2SxC,SAASC,GAAMlpB,GACb,OAAOmpB,WAAWnpB,EAAI,GAGxB,OAzSA,SAAmBoE,EAASglB,GAC1B,IAAIC,EAAM/kB,SACNglB,EACiB,iBAAZllB,EAAuBilB,EAAIvN,cAAc1X,GAAWA,EAEzDmlB,EAASC,GACX,CACEC,yBAAyB,EACzBC,mBAAmB,GAErBN,GAGEO,EAAQ,CACVC,kBAAmB,KACnBC,iBAAkB,KAClBC,4BAA6B,KAC7BC,wBAAyB,KACzBvO,QAAQ,EACRwO,QAAQ,GAGNpB,EAAO,CACTqB,SAQF,SAAkBC,GAChB,GAAIP,EAAMnO,OAAQ,OAElB2O,IAEAR,EAAMnO,QAAS,EACfmO,EAAMK,QAAS,EACfL,EAAMG,4BAA8BT,EAAIe,cAExC,IAAIC,EACFH,GAAmBA,EAAgBG,WAC/BH,EAAgBG,WAChBd,EAAOc,WACTA,GACFA,IAIF,OADAC,IACO1B,GAzBP2B,WAAYA,EACZzB,MA2DF,WACE,GAAIa,EAAMK,SAAWL,EAAMnO,OAAQ,OACnCmO,EAAMK,QAAS,EACfQ,KA7DAvB,QAgEF,WACE,IAAKU,EAAMK,SAAWL,EAAMnO,OAAQ,OACpCmO,EAAMK,QAAS,EACfG,IACAG,MAjEF,OAAO1B,EAuBP,SAAS2B,EAAWE,GAClB,GAAKd,EAAMnO,OAAX,CAEAkP,aAAanC,IAEbiC,IACAb,EAAMnO,QAAS,EACfmO,EAAMK,QAAS,EAEftB,GAAiBM,eAAeJ,GAEhC,IAAI+B,EACFF,QAAwDnoB,IAAnCmoB,EAAkBE,aACnCF,EAAkBE,aAClBpB,EAAOoB,aAeb,OAdIA,GACFA,KAIAF,QAAuDnoB,IAAlCmoB,EAAkBG,YACnCH,EAAkBG,YAClBrB,EAAOE,0BAEXP,IAAM,WA0GV,IAA4B2B,EAzGtBC,GAyGsBD,EAzGMlB,EAAMG,4BA0G3BiB,EAAiB,mBACPF,OAvGdjC,GAgBT,SAAS0B,IACP,GAAKX,EAAMnO,OA6BX,OA1BAkN,GAAiBC,aAAaC,GAI9BL,GAAmBW,IAAM,WACvB4B,EAASE,QAGX3B,EAAIlkB,iBAAiB,UAAW8lB,GAAc,GAC9C5B,EAAIlkB,iBAAiB,YAAa+lB,EAAkB,CAClDC,SAAS,EACTja,SAAS,IAEXmY,EAAIlkB,iBAAiB,aAAc+lB,EAAkB,CACnDC,SAAS,EACTja,SAAS,IAEXmY,EAAIlkB,iBAAiB,QAASimB,EAAY,CACxCD,SAAS,EACTja,SAAS,IAEXmY,EAAIlkB,iBAAiB,UAAWkmB,EAAU,CACxCF,SAAS,EACTja,SAAS,IAGJ0X,EAGT,SAAS4B,IACP,GAAKb,EAAMnO,OAQX,OANA6N,EAAIjkB,oBAAoB,UAAW6lB,GAAc,GACjD5B,EAAIjkB,oBAAoB,YAAa8lB,GAAkB,GACvD7B,EAAIjkB,oBAAoB,aAAc8lB,GAAkB,GACxD7B,EAAIjkB,oBAAoB,QAASgmB,GAAY,GAC7C/B,EAAIjkB,oBAAoB,UAAWimB,GAAU,GAEtCzC,EAGT,SAASmC,EAAiBO,GACxB,IAAIC,EAAchC,EAAO+B,GACrB9nB,EAAO+nB,EACX,IAAKA,EACH,OAAO,KAET,GAA2B,iBAAhBA,KACT/nB,EAAO6lB,EAAIvN,cAAcyP,IAEvB,MAAM,IAAIrkB,MAAM,IAAMokB,EAAa,6BAGvC,GAA2B,mBAAhBC,KACT/nB,EAAO+nB,KAEL,MAAM,IAAIrkB,MAAM,IAAMokB,EAAa,2BAGvC,OAAO9nB,EAGT,SAASwnB,IACP,IAAIxnB,EASJ,KAPEA,EADuC,OAArCunB,EAAiB,gBACZA,EAAiB,gBACfzB,EAAUpN,SAASmN,EAAIe,eACzBf,EAAIe,cAEJT,EAAMC,mBAAqBmB,EAAiB,kBAInD,MAAM,IAAI7jB,MACR,gEAIJ,OAAO1D,EAUT,SAAS0nB,EAAiB5c,GACpBgb,EAAUpN,SAAS5N,EAAE/K,UACrBgmB,EAAOiC,wBACTjB,EAAW,CACTK,aAAcvE,GAAS2B,YAAY1Z,EAAE/K,UAOrCgmB,EAAOkC,mBAAqBlC,EAAOkC,kBAAkBnd,IAGzDA,EAAEuL,kBAIJ,SAASoR,EAAa3c,GAEhBgb,EAAUpN,SAAS5N,EAAE/K,SAAW+K,EAAE/K,kBAAkBmoB,WAGxDpd,EAAEqd,2BACFb,EAASnB,EAAMI,yBAA2BiB,MAG5C,SAASK,EAAS/c,GAChB,IAAiC,IAA7Bib,EAAOG,mBAoEf,SAAuBpb,GACrB,MAAiB,WAAVA,EAAEnI,KAA8B,QAAVmI,EAAEnI,KAA+B,KAAdmI,EAAEiM,QArENqR,CAActd,GAGtD,OAFAA,EAAEuL,sBACF0Q,KAsEN,SAAoBjc,GAClB,MAAiB,QAAVA,EAAEnI,KAA+B,IAAdmI,EAAEiM,SApEtBsR,CAAWvd,IAUjB,SAAkBA,GAEhB,GADA6b,IACI7b,EAAEwd,UAAYxd,EAAE/K,SAAWomB,EAAMC,kBAGnC,OAFAtb,EAAEuL,sBACFiR,EAASnB,EAAME,kBAGjB,IAAKvb,EAAEwd,UAAYxd,EAAE/K,SAAWomB,EAAME,iBACpCvb,EAAEuL,iBACFiR,EAASnB,EAAMC,mBAlBfmC,CAASzd,GAuBb,SAAS8c,EAAW9c,GACdib,EAAOiC,yBACPlC,EAAUpN,SAAS5N,EAAE/K,SACrBgmB,EAAOkC,mBAAqBlC,EAAOkC,kBAAkBnd,KAGzDA,EAAEuL,iBACFvL,EAAEqd,4BAGJ,SAASxB,IACP,IAAI6B,EAAgB3F,GAASiD,GAC7BK,EAAMC,kBAAoBoC,EAAc,IAAMhB,IAC9CrB,EAAME,iBACJmC,EAAcA,EAAcrpB,OAAS,IAAMqoB,IAG/C,SAASF,EAAStnB,GACZA,IAAS6lB,EAAIe,gBACZ5mB,GAASA,EAAKyoB,OAInBzoB,EAAKyoB,QACLtC,EAAMI,wBAA0BvmB,EAOpC,SAA2BA,GACzB,OACEA,EAAK8kB,SAC0B,UAA/B9kB,EAAK8kB,QAAQ4D,eACU,mBAAhB1oB,EAAK2oB,OAVRC,CAAkB5oB,IACpBA,EAAK2oB,UANLrB,EAASE;;;;;;;;;;;;;;;;;;;;;;OE1QR,SAAS/E,GAAQ7hB,EAASioB,GAI7B,OAHoBjoB,EAAQ6hB,SACrB7hB,EAAQgiB,uBACRhiB,EAAQ+hB,mBACM5gB,KAAKnB,EAASioB;;;;;;;;;;;;;;;;;;;;;;OCrBhC,IClBHC,GDkBOnb,GAAa,CAIpBob,WAAY,0CACZC,cAAe,6CACfC,gBAAiB,+CACjBC,KAAM,sBACNC,UAAW,kCAEJhb,GAAU,CACjBib,aAAc,wBACdC,YAAa,uBACbC,qBAAsB,gCACtBC,uBAAwB,kCACxBC,SAAU,oBACVC,QAAS,oBAEFza,GAAU,CACjB0a,wBAAyB,IACzBC,mBAAoB,IACpBC,qBAAsB,GACtBC,QAAS,GACTC,aAAc;;;;;;;;;;;;;;;;;;;;;;;AElBlB,IAAIC,GAAyB,CACzB,aAAc,cAAe,YAAa,WAG1CC,GAAmC,CACnC,WAAY,YAAa,UAAW,eAGpCC,GAAmB,GACnBC,GAAqC,SAAUzZ,GAE/C,SAASyZ,EAAoB3e,GACzB,IAAImF,EAAQD,EAAO1O,KAAKD,KAAM6O,GAAiB,GAAIuZ,EAAoBtZ,eAAgBrF,KAAazJ,KAoBpG,OAnBA4O,EAAMyZ,8BAA+B,EACrCzZ,EAAM0Z,iBAAmB,EACzB1Z,EAAM2Z,4BAA8B,EACpC3Z,EAAM4Z,SAAW,IACjB5Z,EAAM6Z,OAAS,CAAEzX,MAAO,EAAGC,OAAQ,GACnCrC,EAAM8Z,aAAe,EACrB9Z,EAAM+Z,aAAe,EACrB/Z,EAAMga,WAAa,EACnBha,EAAMia,iBAAmB,CAAE9X,KAAM,EAAGH,IAAK,GACzChC,EAAMka,iBAAmBla,EAAMma,0BAC/Bna,EAAMoa,yBAA2B,WAC7Bpa,EAAMyZ,8BAA+B,EACrCzZ,EAAMqa,kCAEVra,EAAMsa,iBAAmB,SAAUlgB,GAAK,OAAO4F,EAAMua,UAAUngB,IAC/D4F,EAAMwa,mBAAqB,WAAc,OAAOxa,EAAMya,eACtDza,EAAMqB,cAAgB,WAAc,OAAOrB,EAAM0a,eACjD1a,EAAMuB,aAAe,WAAc,OAAOvB,EAAM2a,cAChD3a,EAAMyB,eAAiB,WAAc,OAAOzB,EAAM0B,UAC3C1B,EA4YX,OAlaA2B,GAAkB6X,EAAqBzZ,GAwBvC/T,OAAO+O,eAAeye,EAAqB,aAAc,CACrDjmB,IAAK,WACD,OAAO0J,IAEXjC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeye,EAAqB,UAAW,CAClDjmB,IAAK,WACD,OAAOkK,IAEXzC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeye,EAAqB,UAAW,CAClDjmB,IAAK,WACD,OAAO+K,IAEXtD,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAeye,EAAqB,iBAAkB,CACzDjmB,IAAK,WACD,MAAO,CACHsO,SAAU,aACV+Y,uBAAwB,WAAc,OAAO,GAC7C7Y,oBAAqB,WAAc,OAAUC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,IACrGwY,oBAAqB,WAAc,OAAO,GAC1CC,qCAAsC,aACtCtY,6BAA8B,aAC9BM,wBAAyB,aACzBiY,oBAAqB,WAAc,OAAUhL,EAAG,EAAGC,EAAG,IACtDgL,gBAAiB,WAAc,OAAO,GACtCC,kBAAmB,WAAc,OAAO,GACxCC,YAAa,WAAc,OAAO,GAClCC,mCAAoC,aACpC5Y,2BAA4B,aAC5BM,sBAAuB,aACvBf,YAAa,aACbsZ,kBAAmB,eAG3BpgB,YAAY,EACZC,cAAc,IAElBue,EAAoB7f,UAAU3C,KAAO,WACjC,IAAIgJ,EAAQ5O,KACRiqB,EAAsBjqB,KAAKkqB,uBAE/B,GADAlqB,KAAKmqB,sBAAsBF,GACvBA,EAAqB,CACrB,IAAI/U,EAAKkT,EAAoBvc,WAAYue,EAASlV,EAAGkS,KAAMiD,EAAcnV,EAAGmS,UAC5EpR,uBAAsB,WAClBrH,EAAMlF,SAAS+G,SAAS2Z,GACpBxb,EAAMlF,SAASogB,gBACflb,EAAMlF,SAAS+G,SAAS4Z,GAExBzb,EAAM0b,wBAKtBlC,EAAoB7f,UAAUxK,QAAU,WACpC,IAAI6Q,EAAQ5O,KACZ,GAAIA,KAAKkqB,uBAAwB,CACzBlqB,KAAKsoB,mBACLlD,aAAaplB,KAAKsoB,kBAClBtoB,KAAKsoB,iBAAmB,EACxBtoB,KAAK0J,SAASgH,YAAY0X,EAAoBvc,WAAWqb,gBAEzDlnB,KAAKuoB,8BACLnD,aAAaplB,KAAKuoB,6BAClBvoB,KAAKuoB,4BAA8B,EACnCvoB,KAAK0J,SAASgH,YAAY0X,EAAoBvc,WAAWsb,kBAE7D,IAAIjS,EAAKkT,EAAoBvc,WAAY0e,EAASrV,EAAGkS,KAAMoD,EAActV,EAAGmS,UAC5EpR,uBAAsB,WAClBrH,EAAMlF,SAASgH,YAAY6Z,GAC3B3b,EAAMlF,SAASgH,YAAY8Z,GAC3B5b,EAAM6b,oBAGdzqB,KAAK0qB,0BACL1qB,KAAK2qB,mCAKTvC,EAAoB7f,UAAUoc,SAAW,SAAU3Z,GAC/ChL,KAAKmpB,UAAUne,IAEnBod,EAAoB7f,UAAU0c,WAAa,WACvCjlB,KAAKqpB,eAETjB,EAAoB7f,UAAU+H,OAAS,WACnC,IAAI1B,EAAQ5O,KACRA,KAAK2oB,cACLiC,qBAAqB5qB,KAAK2oB,cAE9B3oB,KAAK2oB,aAAe1S,uBAAsB,WACtCrH,EAAM0b,kBACN1b,EAAM+Z,aAAe,MAG7BP,EAAoB7f,UAAUsiB,aAAe,SAAUC,GACnD,IAAIzD,EAAYe,EAAoBvc,WAAWwb,UAC3CyD,EACA9qB,KAAK0J,SAAS+G,SAAS4W,GAGvBrnB,KAAK0J,SAASgH,YAAY2W,IAGlCe,EAAoB7f,UAAU+gB,YAAc,WACxC,IAAI1a,EAAQ5O,KACZiW,uBAAsB,WAClB,OAAOrH,EAAMlF,SAAS+G,SAAS2X,EAAoBvc,WAAWob,gBAGtEmB,EAAoB7f,UAAUghB,WAAa,WACvC,IAAI3a,EAAQ5O,KACZiW,uBAAsB,WAClB,OAAOrH,EAAMlF,SAASgH,YAAY0X,EAAoBvc,WAAWob,gBASzEmB,EAAoB7f,UAAU2hB,qBAAuB,WACjD,OAAOlqB,KAAK0J,SAAS8f,0BAEzBpB,EAAoB7f,UAAUwgB,wBAA0B,WACpD,MAAO,CACHgC,qBAAiB/tB,EACjBguB,sBAAsB,EACtBC,aAAa,EACbC,gBAAgB,EAChBC,uBAAuB,EACvBC,sBAAsB,IAM9BhD,EAAoB7f,UAAU4hB,sBAAwB,SAAUF,GAC5D,IAAIrb,EAAQ5O,KACRiqB,IACAhC,GAAuBjtB,SAAQ,SAAU2P,GACrCiE,EAAMlF,SAASyH,2BAA2BxG,EAASiE,EAAMsa,qBAEzDlpB,KAAK0J,SAASogB,eACd9pB,KAAK0J,SAAS+H,sBAAsBzR,KAAKqQ,iBAGjDrQ,KAAK0J,SAASyH,2BAA2B,QAASnR,KAAKiQ,eACvDjQ,KAAK0J,SAASyH,2BAA2B,OAAQnR,KAAKmQ,eAE1DiY,EAAoB7f,UAAU8iB,8BAAgC,SAAUrgB,GACpE,IAAI4D,EAAQ5O,KACK,YAAbgL,EAAI9D,KACJlH,KAAK0J,SAASyH,2BAA2B,QAASnR,KAAKopB,oBAGvDlB,GAAiCltB,SAAQ,SAAU2P,GAC/CiE,EAAMlF,SAASqgB,mCAAmCpf,EAASiE,EAAMwa,wBAI7EhB,EAAoB7f,UAAUmiB,wBAA0B,WACpD,IAAI9b,EAAQ5O,KACZioB,GAAuBjtB,SAAQ,SAAU2P,GACrCiE,EAAMlF,SAAS0H,6BAA6BzG,EAASiE,EAAMsa,qBAE/DlpB,KAAK0J,SAAS0H,6BAA6B,QAASpR,KAAKiQ,eACzDjQ,KAAK0J,SAAS0H,6BAA6B,OAAQpR,KAAKmQ,cACpDnQ,KAAK0J,SAASogB,eACd9pB,KAAK0J,SAASgI,wBAAwB1R,KAAKqQ,iBAGnD+X,EAAoB7f,UAAUoiB,gCAAkC,WAC5D,IAAI/b,EAAQ5O,KACZA,KAAK0J,SAAS0H,6BAA6B,QAASpR,KAAKopB,oBACzDlB,GAAiCltB,SAAQ,SAAU2P,GAC/CiE,EAAMlF,SAASggB,qCAAqC/e,EAASiE,EAAMwa,wBAG3EhB,EAAoB7f,UAAUkiB,eAAiB,WAC3C,IAAI7b,EAAQ5O,KACRsrB,EAAgBlD,EAAoB/b,QAC7BzR,OAAO4M,KAAK8jB,GAClBtwB,SAAQ,SAAU6F,GACS,IAAxBA,EAAIsG,QAAQ,SACZyH,EAAMlF,SAASsgB,kBAAkBsB,EAAczqB,GAAM,UAIjEunB,EAAoB7f,UAAU4gB,UAAY,SAAUne,GAChD,IAAI4D,EAAQ5O,KACZ,IAAIA,KAAK0J,SAASmgB,oBAAlB,CAGA,IAAI0B,EAAkBvrB,KAAK8oB,iBAC3B,IAAIyC,EAAgBN,YAApB,CAIA,IAAIO,EAA0BxrB,KAAKyrB,yBAEnC,KADwBD,QAAmCxuB,IAARgO,GAAqBwgB,EAAwBtkB,OAAS8D,EAAI9D,MAI7GqkB,EAAgBN,aAAc,EAC9BM,EAAgBL,oBAAyBluB,IAARgO,EACjCugB,EAAgBR,gBAAkB/f,EAClCugB,EAAgBJ,uBAAwBI,EAAgBL,sBAAiCluB,IAARgO,IAAmC,cAAbA,EAAI9D,MAAqC,eAAb8D,EAAI9D,MAAsC,gBAAb8D,EAAI9D,YACpIlK,IAARgO,GAAqBmd,GAAiB9qB,OAAS,GAAK8qB,GAAiBuD,MAAK,SAAUztB,GAAU,OAAO2Q,EAAMlF,SAAS+f,oBAAoBxrB,MAG5J+B,KAAK2rB,8BAGG3uB,IAARgO,IACAmd,GAAiBnsB,KAAKgP,EAAI/M,QAC1B+B,KAAKqrB,8BAA8BrgB,IAEvCugB,EAAgBH,qBAAuBprB,KAAK4rB,wBAAwB5gB,GAChEugB,EAAgBH,sBAChBprB,KAAK6rB,qBAET5V,uBAAsB,WAElBkS,GAAmB,GACdoD,EAAgBH,2BACNpuB,IAARgO,GACa,MAAZA,EAAInK,KAA+B,KAAhBmK,EAAIiK,UAO3BsW,EAAgBH,qBAAuBxc,EAAMgd,wBAAwB5gB,GACjEugB,EAAgBH,sBAChBxc,EAAMid,sBAGTN,EAAgBH,uBAEjBxc,EAAMka,iBAAmBla,EAAMma,kCAI3CX,EAAoB7f,UAAUqjB,wBAA0B,SAAU5gB,GAC9D,YAAgBhO,IAARgO,GAAkC,YAAbA,EAAI9D,MAAsBlH,KAAK0J,SAASkgB,mBAEzExB,EAAoB7f,UAAUsjB,mBAAqB,WAC/C,IAAIjd,EAAQ5O,KACRkV,EAAKkT,EAAoB/b,QAASob,EAAyBvS,EAAGuS,uBAAwBD,EAAuBtS,EAAGsS,qBAChHsE,EAAK1D,EAAoBvc,WAAYsb,EAAkB2E,EAAG3E,gBAAiBD,EAAgB4E,EAAG5E,cAC9FU,EAA0BQ,EAAoBlb,QAAQ0a,wBAC1D5nB,KAAKsqB,kBACL,IAAIyB,EAAiB,GACjBC,EAAe,GACnB,IAAKhsB,KAAK0J,SAASogB,cAAe,CAC9B,IAAImC,EAAKjsB,KAAKksB,+BAAgCC,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SACxFL,EAAiBI,EAAWxN,EAAI,OAASwN,EAAWvN,EAAI,KACxDoN,EAAeI,EAASzN,EAAI,OAASyN,EAASxN,EAAI,KAEtD5e,KAAK0J,SAASsgB,kBAAkBvC,EAAwBsE,GACxD/rB,KAAK0J,SAASsgB,kBAAkBxC,EAAsBwE,GAEtD5G,aAAaplB,KAAKsoB,kBAClBlD,aAAaplB,KAAKuoB,6BAClBvoB,KAAKqsB,8BACLrsB,KAAK0J,SAASgH,YAAYyW,GAE1BnnB,KAAK0J,SAASiH,sBACd3Q,KAAK0J,SAAS+G,SAASyW,GACvBlnB,KAAKsoB,iBAAmBzE,YAAW,WAAc,OAAOjV,EAAMoa,6BAA+BpB,IAEjGQ,EAAoB7f,UAAU2jB,6BAA+B,WACzD,IACIC,EADAjX,EAAKlV,KAAK8oB,iBAAkBiC,EAAkB7V,EAAG6V,gBAoBrD,MAAO,CAAEoB,WARTA,EAAa,CACTxN,GAVAwN,EAH0FjX,EAAGiW,sBDpSlG,SAAkCngB,EAAKshB,EAAYC,GACtD,IAAKvhB,EACD,MAAO,CAAE2T,EAAG,EAAGC,EAAG,GAEtB,IAGI4N,EACAC,EAJA9N,EAAI2N,EAAW3N,EAAGC,EAAI0N,EAAW1N,EACjC8N,EAAY/N,EAAI4N,EAAWxb,KAC3B4b,EAAY/N,EAAI2N,EAAW3b,IAI/B,GAAiB,eAAb5F,EAAI9D,KAAuB,CAC3B,IAAI0lB,EAAa5hB,EACjBwhB,EAAcI,EAAWC,eAAe,GAAGnY,MAAQgY,EACnDD,EAAcG,EAAWC,eAAe,GAAGC,MAAQH,MAElD,CACD,IAAII,EAAa/hB,EACjBwhB,EAAcO,EAAWrY,MAAQgY,EACjCD,EAAcM,EAAWD,MAAQH,EAErC,MAAO,CAAEhO,EAAG6N,EAAa5N,EAAG6N,GCmRPO,CAAyBjC,EAAiB/qB,KAAK0J,SAASigB,sBAAuB3pB,KAAK0J,SAASiH,uBAG7F,CACTgO,EAAG3e,KAAKyoB,OAAOzX,MAAQ,EACvB4N,EAAG5e,KAAKyoB,OAAOxX,OAAS,IAKd0N,EAAK3e,KAAK0oB,aAAe,EACvC9J,EAAGuN,EAAWvN,EAAK5e,KAAK0oB,aAAe,GAMV0D,SAJlB,CACXzN,EAAI3e,KAAKyoB,OAAOzX,MAAQ,EAAMhR,KAAK0oB,aAAe,EAClD9J,EAAI5e,KAAKyoB,OAAOxX,OAAS,EAAMjR,KAAK0oB,aAAe,KAI3DN,EAAoB7f,UAAU0gB,+BAAiC,WAC3D,IAAIra,EAAQ5O,KAGRmnB,EAAkBiB,EAAoBvc,WAAWsb,gBACjDjS,EAAKlV,KAAK8oB,iBAAkBkC,EAAuB9V,EAAG8V,qBAAsBC,EAAc/V,EAAG+V,aACxED,IAAyBC,IACxBjrB,KAAKqoB,+BAC3BroB,KAAKqsB,8BACLrsB,KAAK0J,SAAS+G,SAAS0W,GACvBnnB,KAAKuoB,4BAA8B1E,YAAW,WAC1CjV,EAAMlF,SAASgH,YAAYyW,KAC5Bja,GAAQ2a,sBAGnBO,EAAoB7f,UAAU8jB,4BAA8B,WACxD,IAAInF,EAAgBkB,EAAoBvc,WAAWqb,cACnDlnB,KAAK0J,SAASgH,YAAYwW,GAC1BlnB,KAAKqoB,8BAA+B,EACpCroB,KAAK0J,SAASiH,uBAElByX,EAAoB7f,UAAUojB,sBAAwB,WAClD,IAAI/c,EAAQ5O,KACZA,KAAKyrB,yBAA2BzrB,KAAK8oB,iBAAiBiC,gBACtD/qB,KAAK8oB,iBAAmB9oB,KAAK+oB,0BAG7BlF,YAAW,WAAc,OAAOjV,EAAM6c,8BAA2BzuB,IAAcorB,EAAoBlb,QAAQ8a,eAE/GI,EAAoB7f,UAAU8gB,YAAc,WACxC,IAAIza,EAAQ5O,KACRurB,EAAkBvrB,KAAK8oB,iBAE3B,GAAKyC,EAAgBN,YAArB,CAGA,IAAI5G,EAAQxV,GAAiB,GAAI0c,GAC7BA,EAAgBL,gBAChBjV,uBAAsB,WAAc,OAAOrH,EAAMqe,qBAAqB5I,MACtErkB,KAAK2rB,0BAGL3rB,KAAK2qB,kCACL1U,uBAAsB,WAClBrH,EAAMka,iBAAiBkC,sBAAuB,EAC9Cpc,EAAMqe,qBAAqB5I,GAC3BzV,EAAM+c,8BAIlBvD,EAAoB7f,UAAU0kB,qBAAuB,SAAU/X,GAC3D,IAAIiW,EAAwBjW,EAAGiW,sBAAuBC,EAAuBlW,EAAGkW,sBAC5ED,GAAyBC,IACzBprB,KAAKipB,kCAGbb,EAAoB7f,UAAU+hB,gBAAkB,WAC5C,IAAI1b,EAAQ5O,KACZA,KAAKyoB,OAASzoB,KAAK0J,SAASiH,sBAC5B,IAAIuc,EAAS/vB,KAAKC,IAAI4C,KAAKyoB,OAAOxX,OAAQjR,KAAKyoB,OAAOzX,OAWtDhR,KAAK4oB,WAAa5oB,KAAK0J,SAASogB,cAAgBoD,EAH3B/vB,KAAKgwB,KAAKhwB,KAAKiwB,IAAIxe,EAAM6Z,OAAOzX,MAAO,GAAK7T,KAAKiwB,IAAIxe,EAAM6Z,OAAOxX,OAAQ,IACvEmX,EAAoBlb,QAAQ6a,QAIpD/nB,KAAK0oB,aAAevrB,KAAKkwB,MAAMH,EAAS9E,EAAoBlb,QAAQ4a,sBACpE9nB,KAAKwoB,SAAW,GAAKxoB,KAAK4oB,WAAa5oB,KAAK0oB,aAC5C1oB,KAAKstB,wBAETlF,EAAoB7f,UAAU+kB,qBAAuB,WACjD,IAAIpY,EAAKkT,EAAoB/b,QAASkb,EAAcrS,EAAGqS,YAAaG,EAAWxS,EAAGwS,SAAUC,EAAUzS,EAAGyS,QAASL,EAAepS,EAAGoS,aACpItnB,KAAK0J,SAASsgB,kBAAkBzC,EAAavnB,KAAK0oB,aAAe,MACjE1oB,KAAK0J,SAASsgB,kBAAkB1C,EAActnB,KAAKwoB,UAC/CxoB,KAAK0J,SAASogB,gBACd9pB,KAAK6oB,iBAAmB,CACpB9X,KAAM5T,KAAKqY,MAAOxV,KAAKyoB,OAAOzX,MAAQ,EAAMhR,KAAK0oB,aAAe,GAChE9X,IAAKzT,KAAKqY,MAAOxV,KAAKyoB,OAAOxX,OAAS,EAAMjR,KAAK0oB,aAAe,IAEpE1oB,KAAK0J,SAASsgB,kBAAkBtC,EAAU1nB,KAAK6oB,iBAAiB9X,KAAO,MACvE/Q,KAAK0J,SAASsgB,kBAAkBrC,EAAS3nB,KAAK6oB,iBAAiBjY,IAAM,QAGtEwX,GACT5e,IC5aE+jB,GAA2B,SAAU5e,GAErC,SAAS4e,IACL,IAAI3e,EAAmB,OAAXD,GAAmBA,EAAO/F,MAAM5I,KAAM2I,YAAc3I,KAEhE,OADA4O,EAAM8E,UAAW,EACV9E,EA2EX,OA/EA2B,GAAkBgd,EAAW5e,GAM7B4e,EAAU9iB,SAAW,SAAUV,EAAMyjB,QACpB,IAATA,IAAmBA,EAAO,CAAE1D,iBAAa9sB,IAC7C,IAAIywB,EAAS,IAAIF,EAAUxjB,GAK3B,YAHyB/M,IAArBwwB,EAAK1D,cACL2D,EAAO3C,UAAY0C,EAAK1D,aAErB2D,GAEXF,EAAUG,cAAgB,SAAU7nB,GAChC,MAAO,CACH4K,SAAU,SAAU2F,GAAa,OAAOvQ,EAASsE,MAAM3I,UAAU6B,IAAI+S,IACrEoT,uBAAwB,WAAc,OFtB3C,SAA8Bvb,EAAWxC,QACvB,IAAjBA,IAA2BA,GAAe,GAC9C,IAAIkiB,EAAM1f,EAAU0f,IAChBC,EAAkB5G,GACtB,GAAqC,kBAA1BA,KAAwCvb,EAC/C,OAAOub,GAGX,IAD8B2G,GAA+B,mBAAjBA,EAAIE,SAE5C,OAAO,EAEX,IAAIC,EAA4BH,EAAIE,SAAS,aAAc,OAGvDE,EAAqCJ,EAAIE,SAAS,sBAClDF,EAAIE,SAAS,QAAS,aAU1B,OARID,KADAE,IAA6BC,GApCrC,SAAgC9f,GAG5B,IAAIjP,EAAWiP,EAAUjP,SACrBd,EAAOc,EAASC,cAAc,OAClCf,EAAKkY,UAAY,wCAGjBpX,EAAS6I,KAAK1J,YAAYD,GAK1B,IAAI8vB,EAAgB/f,EAAUuJ,iBAAiBtZ,GAC3C+vB,EAAoC,OAAlBD,GAA2D,UAAjCA,EAAcE,eAI9D,OAHIhwB,EAAKM,YACLN,EAAKM,WAAWC,YAAYP,GAEzB+vB,EAmBgBE,CAAuBlgB,IAKzCxC,IACDub,GAAwB4G,GAErBA,EEH8CQ,CAA0B1iB,SACvEiF,oBAAqB,WAAc,OAAO9K,EAASsE,MAAM2M,yBACzD2S,oBAAqB,SAAUxrB,GAAU,OAAO4H,EAASsE,MAAMyM,SAAS3Y,IACxEyrB,qCAAsC,SAAU/e,EAAShL,GACrD,OAAOX,SAASqvB,gBAAgBvuB,oBAAoB6K,EAAShL,EAAS4L,OAE1E6F,6BAA8B,SAAUzG,EAAShL,GAC7C,OAAOkG,EAASsE,MAAMrK,oBAAoB6K,EAAShL,EAAS4L,OAEhEmG,wBAAyB,SAAU/R,GAAW,OAAO+L,OAAO5L,oBAAoB,SAAUH,IAC1FgqB,oBAAqB,WAAc,OAAUhL,EAAGjT,OAAO4iB,YAAa1P,EAAGlT,OAAO6iB,cAC9E3E,gBAAiB,WAAc,OAAOjJ,GAAQ9a,EAASsE,MAAO,YAC9D0f,kBAAmB,WAAc,OAAO3b,QAAQrI,EAAS6N,WACzDoW,YAAa,WAAc,OAAO5b,QAAQrI,EAASilB,YACnDf,mCAAoC,SAAUpf,EAAShL,GACnD,OAAOX,SAASqvB,gBAAgBxuB,iBAAiB8K,EAAShL,EAAS4L,OAEvE4F,2BAA4B,SAAUxG,EAAShL,GAC3C,OAAOkG,EAASsE,MAAMtK,iBAAiB8K,EAAShL,EAAS4L,OAE7DkG,sBAAuB,SAAU9R,GAAW,OAAO+L,OAAO7L,iBAAiB,SAAUF,IACrF+Q,YAAa,SAAU0F,GAAa,OAAOvQ,EAASsE,MAAM3I,UAAUqV,OAAOT,IAC3E4T,kBAAmB,SAAUwE,EAASpuB,GAAS,OAAOyF,EAASsE,MAAMrJ,MAAMoW,YAAYsX,EAASpuB,MAGxGxF,OAAO+O,eAAe4jB,EAAUhlB,UAAW,YAAa,CACpDpG,IAAK,WACD,OAAO+L,QAAQlO,KAAKyuB,aAExBztB,IAAK,SAAU8pB,GACX9qB,KAAKyuB,WAAavgB,QAAQ4c,GAC1B9qB,KAAK0uB,iBAET9kB,YAAY,EACZC,cAAc,IAElB0jB,EAAUhlB,UAAUoc,SAAW,WAC3B3kB,KAAKsK,YAAYqa,YAErB4I,EAAUhlB,UAAU0c,WAAa,WAC7BjlB,KAAKsK,YAAY2a,cAErBsI,EAAUhlB,UAAU+H,OAAS,WACzBtQ,KAAKsK,YAAYgG,UAErBid,EAAUhlB,UAAUgC,qBAAuB,WACvC,OAAO,IAAI6d,GAAoBmF,EAAUG,cAAc1tB,QAE3DutB,EAAUhlB,UAAUiC,mBAAqB,WACrC,IAAIT,EAAO/J,KAAKmK,MAChBnK,KAAK8qB,UAAY,yBAA0B/gB,EAAK4kB,SAQpDpB,EAAUhlB,UAAUmmB,cAAgB,WAChC1uB,KAAKsK,YAAYugB,aAAa3c,QAAQlO,KAAKyuB,cAExClB,GACTzjB,ICvFS+B,GAAa,CACpB+iB,QAAS,sBACTC,KAAM,mBACNC,QAAS,sBACTC,WAAY,yBACZC,YAAa,yBACbC,QAAS,uBAEF5iB,GAAU,CACjB6iB,iBAAkB,yBAClBC,yBAA0B,iCAC1BC,gBAAiB,sBACjBC,aAAc,mBACdC,aAAc,QACdC,cAAe,oBACfC,mBAAoB,yBACpBC,iBAAkB,uBAClBC,eAAgB,UAChBC,wBAAyB,gCACzBC,aAAc,mBACdC,cAAe,oBACfC,eAAgB,qBAChBC,gCAAiC,CAC7B,WACA,4BACFrP,KAAK,MACPsP,iBAAkB,wBAEX9iB,GAAU,CACjB+iB,+BAAgC,GAChCC,8BAA+B,KC3B/BC,GAAqC,SAAUxhB,GAE/C,SAASwhB,EAAoB1mB,GACzB,IAAImF,EAAQD,EAAO1O,KAAKD,KAAM6O,GAAiB,GAAIshB,EAAoBrhB,eAAgBrF,KAAazJ,KASpG,OARA4O,EAAMwhB,SAAU,EAChBxhB,EAAMyhB,gBAAkB,EACxBzhB,EAAM0hB,gBAAkB,EACxB1hB,EAAM+Z,aAAe,EACrB/Z,EAAM2hB,iBAAmBlkB,GAAQijB,aACjC1gB,EAAM4hB,kBAAoBnkB,GAAQijB,aAClC1gB,EAAM6hB,mBAAoB,EAC1B7hB,EAAM8hB,oBAAqB,EACpB9hB,EAwNX,OAnOA2B,GAAkB4f,EAAqBxhB,GAavC/T,OAAO+O,eAAewmB,EAAqB,aAAc,CACrDhuB,IAAK,WACD,OAAO0J,IAEXjC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAewmB,EAAqB,UAAW,CAClDhuB,IAAK,WACD,OAAOkK,IAEXzC,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAewmB,EAAqB,UAAW,CAClDhuB,IAAK,WACD,OAAO+K,IAEXtD,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAewmB,EAAqB,iBAAkB,CACzDhuB,IAAK,WACD,MAAO,CACHwuB,aAAc,aACdlgB,SAAU,aACVmgB,kBAAmB,WAAc,OAAO,GACxCC,mBAAoB,aACpBC,mBAAoB,WAAc,OAAO,GACzCC,mBAAoB,WAAc,MAAO,IACzCC,kBAAmB,WAAc,OAAO,MACxCxgB,SAAU,WAAc,OAAO,GAC/BygB,oBAAqB,WAAc,OAAO,GAC1CC,aAAc,aACdC,cAAe,aACfC,aAAc,aACdC,cAAe,aACfC,aAAc,aACdC,gBAAiB,aACjB7gB,YAAa,aACb8gB,eAAgB,aAChBC,UAAW,eAGnB7nB,YAAY,EACZC,cAAc,IAElBsmB,EAAoB5nB,UAAU3C,KAAO,WAC7B5F,KAAK0J,SAAS8G,SAAS3E,GAAWojB,UAClCjvB,KAAK0xB,qBAAoB,IAGjCvB,EAAoB5nB,UAAUxK,QAAU,WAChCiC,KAAKowB,SACLpwB,KAAK2xB,MAAMtlB,GAAQqjB,gBAEnB1vB,KAAKswB,kBACLlL,aAAaplB,KAAKswB,iBAClBtwB,KAAK4xB,4BAEL5xB,KAAK2oB,eACLiC,qBAAqB5qB,KAAK2oB,cAC1B3oB,KAAK2oB,aAAe,IAG5BwH,EAAoB5nB,UAAUspB,KAAO,WACjC,IAAIjjB,EAAQ5O,KACZA,KAAKowB,SAAU,EACfpwB,KAAK0J,SAAS2nB,gBACdrxB,KAAK0J,SAAS+G,SAAS5E,GAAWijB,SAElC9uB,KAAK8xB,wBAAuB,WACxBljB,EAAMlF,SAAS+G,SAAS5E,GAAWgjB,MACnCjgB,EAAMlF,SAASinB,aAAa9kB,GAAWmjB,aACvCpgB,EAAM0B,SACN1B,EAAM0hB,gBAAkBzM,YAAW,WAC/BjV,EAAMgjB,2BACNhjB,EAAMlF,SAAS+nB,UAAU7iB,EAAMlF,SAASsnB,qBACxCpiB,EAAMlF,SAAS0nB,iBAChBlkB,GAAQgjB,mCAGnBC,EAAoB5nB,UAAUopB,MAAQ,SAAUtY,GAC5C,IAAIzK,EAAQ5O,UACG,IAAXqZ,IAAqBA,EAAS,IAC7BrZ,KAAKowB,UAIVpwB,KAAKowB,SAAU,EACfpwB,KAAK0J,SAASynB,cAAc9X,GAC5BrZ,KAAK0J,SAAS+G,SAAS5E,GAAW+iB,SAClC5uB,KAAK0J,SAASgH,YAAY7E,GAAWgjB,MACrC7uB,KAAK0J,SAAS6nB,gBAAgB1lB,GAAWmjB,aACzCpE,qBAAqB5qB,KAAKqwB,iBAC1BrwB,KAAKqwB,gBAAkB,EACvBjL,aAAaplB,KAAKswB,iBAClBtwB,KAAKswB,gBAAkBzM,YAAW,WAC9BjV,EAAMlF,SAAS4nB,eACf1iB,EAAMgjB,2BACNhjB,EAAMlF,SAASwnB,aAAa7X,KAC7BnM,GAAQ+iB,kCAEfE,EAAoB5nB,UAAUwpB,OAAS,WACnC,OAAO/xB,KAAKowB,SAEhBD,EAAoB5nB,UAAUypB,mBAAqB,WAC/C,OAAOhyB,KAAKuwB,kBAEhBJ,EAAoB5nB,UAAU0pB,mBAAqB,SAAU5Y,GACzDrZ,KAAKuwB,iBAAmBlX,GAE5B8W,EAAoB5nB,UAAU2pB,oBAAsB,WAChD,OAAOlyB,KAAKwwB,mBAEhBL,EAAoB5nB,UAAU4pB,oBAAsB,SAAU9Y,GAC1DrZ,KAAKwwB,kBAAoBnX,GAE7B8W,EAAoB5nB,UAAU6pB,oBAAsB,WAChD,OAAOpyB,KAAKywB,mBAEhBN,EAAoB5nB,UAAUmpB,oBAAsB,SAAUW,GAC1DryB,KAAKywB,kBAAoB4B,GAE7BlC,EAAoB5nB,UAAU+H,OAAS,WACnC,IAAI1B,EAAQ5O,KACRA,KAAK2oB,cACLiC,qBAAqB5qB,KAAK2oB,cAE9B3oB,KAAK2oB,aAAe1S,uBAAsB,WACtCrH,EAAM0b,kBACN1b,EAAM+Z,aAAe,MAI7BwH,EAAoB5nB,UAAU+pB,YAAc,SAAUtnB,GAGlD,GAFchL,KAAK0J,SAASonB,mBAAmB9lB,EAAI/M,OAAQoO,GAAQyjB,iBAEzB,KAA3B9vB,KAAKwwB,kBAChBxwB,KAAK2xB,MAAM3xB,KAAKwwB,uBAEf,CACD,IAAInX,EAASrZ,KAAK0J,SAASqnB,mBAAmB/lB,GAC1CqO,GACArZ,KAAK2xB,MAAMtY,KAKvB8W,EAAoB5nB,UAAUgqB,cAAgB,SAAUvnB,GACpD,IAAIwnB,EAAsB,UAAZxnB,EAAInK,KAAmC,KAAhBmK,EAAIiK,QACzC,GAAKud,IAGQxyB,KAAK0J,SAASqnB,mBAAmB/lB,GAC9C,CAKA,IAAIynB,GAAazyB,KAAK0J,SAASonB,mBAAmB9lB,EAAI/M,OAAQoO,GAAQ0jB,iCAClEyC,GAAWC,GACXzyB,KAAK0J,SAASmnB,uBAItBV,EAAoB5nB,UAAUmqB,sBAAwB,SAAU1nB,IACjC,WAAZA,EAAInK,KAAoC,KAAhBmK,EAAIiK,UACD,KAA1BjV,KAAKuwB,kBACjBvwB,KAAK2xB,MAAM3xB,KAAKuwB,mBAGxBJ,EAAoB5nB,UAAU+hB,gBAAkB,WACxCtqB,KAAKywB,mBACLzwB,KAAK2yB,wBAET3yB,KAAK4yB,4BAETzC,EAAoB5nB,UAAUqpB,yBAA2B,WACrD5xB,KAAKswB,gBAAkB,EACvBtwB,KAAK0J,SAASgH,YAAY7E,GAAWijB,SACrC9uB,KAAK0J,SAASgH,YAAY7E,GAAW+iB,UAKzCuB,EAAoB5nB,UAAUupB,uBAAyB,SAAUj2B,GAC7D,IAAI+S,EAAQ5O,KACZ4qB,qBAAqB5qB,KAAKqwB,iBAC1BrwB,KAAKqwB,gBAAkBpa,uBAAsB,WACzCrH,EAAMyhB,gBAAkB,EACxBjL,aAAaxW,EAAM0hB,iBACnB1hB,EAAM0hB,gBAAkBzM,WAAWhoB,EAAU,OAGrDs0B,EAAoB5nB,UAAUoqB,sBAAwB,WAElD3yB,KAAK0J,SAASgH,YAAY7E,GAAWojB,SACrC,IAAI2B,EAAoB5wB,KAAK0J,SAASknB,oBAClCA,GACA5wB,KAAK0J,SAAS+G,SAAS5E,GAAWojB,SAElC2B,IAAsB5wB,KAAK0wB,qBAC3B1wB,KAAK0J,SAAS8nB,iBACdxxB,KAAK0wB,mBAAqBE,IAGlCT,EAAoB5nB,UAAUqqB,yBAA2B,WAErD5yB,KAAK0J,SAASgH,YAAY7E,GAAWkjB,YACjC/uB,KAAK0J,SAASunB,uBACdjxB,KAAK0J,SAAS+G,SAAS5E,GAAWkjB,aAGnCoB,GACT3mB,IClOE6C,GAAU8jB,GAAoB9jB,QAC9BwmB,GAA2B,SAAUlkB,GAErC,SAASkkB,IACL,OAAkB,OAAXlkB,GAAmBA,EAAO/F,MAAM5I,KAAM2I,YAAc3I,KAoJ/D,OAtJAuQ,GAAkBsiB,EAAWlkB,GAI7B/T,OAAO+O,eAAekpB,EAAUtqB,UAAW,SAAU,CACjDpG,IAAK,WACD,OAAOnC,KAAKsK,YAAYynB,UAE5BnoB,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAekpB,EAAUtqB,UAAW,kBAAmB,CAC1DpG,IAAK,WACD,OAAOnC,KAAKsK,YAAY0nB,sBAE5BhxB,IAAK,SAAUqY,GACXrZ,KAAKsK,YAAY2nB,mBAAmB5Y,IAExCzP,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAekpB,EAAUtqB,UAAW,mBAAoB,CAC3DpG,IAAK,WACD,OAAOnC,KAAKsK,YAAY4nB,uBAE5BlxB,IAAK,SAAUqY,GACXrZ,KAAKsK,YAAY6nB,oBAAoB9Y,IAEzCzP,YAAY,EACZC,cAAc,IAElBjP,OAAO+O,eAAekpB,EAAUtqB,UAAW,mBAAoB,CAC3DpG,IAAK,WACD,OAAOnC,KAAKsK,YAAY8nB,uBAE5BpxB,IAAK,SAAUqxB,GACXryB,KAAKsK,YAAYonB,oBAAoBW,IAEzCzoB,YAAY,EACZC,cAAc,IAElBgpB,EAAUpoB,SAAW,SAAUV,GAC3B,OAAO,IAAI8oB,EAAU9oB,IAEzB8oB,EAAUtqB,UAAU6B,WAAa,SAAU0oB,GACvC,IAAIC,EAAK7d,EACL8O,EAAYhkB,KAAKmK,MAAMqM,cAAcnK,GAAQmjB,oBACjD,IAAKxL,EACD,MAAM,IAAIpiB,MAAM,+BAAiCyK,GAAQmjB,mBAAqB,sBAElFxvB,KAAKgzB,WAAahP,EAClBhkB,KAAKizB,SAAWjzB,KAAKmK,MAAMqM,cAAcnK,GAAQojB,kBACjDzvB,KAAKkzB,SAAW,GAAG32B,MAAM0D,KAAKD,KAAKmK,MAAMkX,iBAAiBhV,GAAQ+iB,kBAClEpvB,KAAKmzB,eAAiBnzB,KAAKmK,MAAMqM,cAAc,IAAMnK,GAAQ8iB,yBAA2B,KACxFnvB,KAAKozB,kBAAoBN,EACzB9yB,KAAKqzB,eAAiB,GACtB,IACI,IAAK,IAAIvH,ErC2Bd,SAAkBznB,GACrB,IAAIqE,EAAsB,mBAAXI,QAAyBA,OAAOC,SAAU3D,EAAIsD,GAAKrE,EAAEqE,GAAIpL,EAAI,EAC5E,GAAI8H,EAAG,OAAOA,EAAEnF,KAAKoE,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhH,OAAqB,MAAO,CAC1C6L,KAAM,WAEF,OADI7E,GAAK/G,GAAK+G,EAAEhH,SAAQgH,OAAI,GACrB,CAAEjE,MAAOiE,GAAKA,EAAE/G,KAAM6L,MAAO9E,KAG5C,MAAM,IAAIivB,UAAU5qB,EAAI,0BAA4B,mCqCpC9B6qB,CAAiBvzB,KAAKkzB,UAAWjH,EAAKH,EAAG5iB,QAAS+iB,EAAG9iB,KAAM8iB,EAAKH,EAAG5iB,OAAQ,CACrF,IAAIsqB,EAAWvH,EAAG7rB,MAClBJ,KAAKqzB,eAAer3B,KAAK,IAAIuxB,GAAUiG,KAG/C,MAAOC,GAASV,EAAM,CAAE3pB,MAAOqqB,WAE3B,IACQxH,IAAOA,EAAG9iB,OAAS+L,EAAK4W,EAAG4H,SAASxe,EAAGjV,KAAK6rB,WAE1C,GAAIiH,EAAK,MAAMA,EAAI3pB,SAGrCypB,EAAUtqB,UAAUiC,mBAAqB,WACrC,IC9EgCmpB,EAAWb,EAAkBc,ED8EzDhlB,EAAQ5O,KACZA,KAAK6zB,YC/E2BF,ED+Ee3zB,KAAKgzB,WC/ETF,ED+EqB9yB,KAAKozB,kBC/ERQ,ED+E2B5zB,KAAK8zB,2BAAwB92B,OC9EhG,IAArB81B,IAA+BA,EAAmBiB,IAC/CjB,EAAiBa,EAAW,CAC/BzN,yBAAyB,EACzB9B,mBAAmB,EACnB4P,aAAcJ,KD2Ed5zB,KAAKi0B,aAAej0B,KAAKsK,YAAYgoB,YAAYxtB,KAAK9E,KAAKsK,aAC3DtK,KAAKgQ,eAAiBhQ,KAAKsK,YAAYioB,cAAcztB,KAAK9E,KAAKsK,aAC/DtK,KAAKk0B,uBAAyBl0B,KAAKsK,YAAYooB,sBAAsB5tB,KAAK9E,KAAKsK,aAC/EtK,KAAKm0B,cAAgBn0B,KAAKsQ,OAAOxL,KAAK9E,MACtC,IAAIo0B,EAAgB,CAAC,SAAU,qBAC/Bp0B,KAAKq0B,eAAiB,WAClBD,EAAcp5B,SAAQ,SAAU2P,GAAW,OAAOe,OAAO7L,iBAAiB8K,EAASiE,EAAMulB,kBACzFn1B,SAASa,iBAAiB,UAAW+O,EAAMslB,yBAE/Cl0B,KAAKs0B,eAAiB,WAClBF,EAAcp5B,SAAQ,SAAU2P,GAAW,OAAOe,OAAO5L,oBAAoB6K,EAASiE,EAAMulB,kBAC5Fn1B,SAASc,oBAAoB,UAAW8O,EAAMslB,yBAElDl0B,KAAKP,OAAO,QAASO,KAAKi0B,cAC1Bj0B,KAAKP,OAAO,UAAWO,KAAKgQ,gBAC5BhQ,KAAKP,OAAO4M,GAAQwjB,cAAe7vB,KAAKq0B,gBACxCr0B,KAAKP,OAAO4M,GAAQkjB,cAAevvB,KAAKs0B,iBAE5CzB,EAAUtqB,UAAUxK,QAAU,WAC1BiC,KAAK4K,SAAS,QAAS5K,KAAKi0B,cAC5Bj0B,KAAK4K,SAAS,UAAW5K,KAAKgQ,gBAC9BhQ,KAAK4K,SAASyB,GAAQwjB,cAAe7vB,KAAKq0B,gBAC1Cr0B,KAAK4K,SAASyB,GAAQkjB,cAAevvB,KAAKs0B,gBAC1Ct0B,KAAKs0B,iBACLt0B,KAAKqzB,eAAer4B,SAAQ,SAAUyyB,GAAU,OAAOA,EAAO1vB,aAC9D4Q,EAAOpG,UAAUxK,QAAQkC,KAAKD,OAElC6yB,EAAUtqB,UAAU+H,OAAS,WACzBtQ,KAAKsK,YAAYgG,UAErBuiB,EAAUtqB,UAAUspB,KAAO,WACvB7xB,KAAKsK,YAAYunB,QAErBgB,EAAUtqB,UAAUopB,MAAQ,SAAUtY,QACnB,IAAXA,IAAqBA,EAAS,IAClCrZ,KAAKsK,YAAYqnB,MAAMtY,IAE3BwZ,EAAUtqB,UAAUgC,qBAAuB,WACvC,IAAIqE,EAAQ5O,KAkCZ,OAAO,IAAImwB,GA/BG,CACVQ,aAAc,SAAUva,GAAa,OAAOpX,SAASgY,KAAKxV,UAAU6B,IAAI+S,IACxE3F,SAAU,SAAU2F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAU6B,IAAI+S,IAClEwa,kBAAmB,WAAc,OCjHX2D,EDiHyC3lB,EAAMskB,SChHzEsB,EAAO,IAAIxxB,IACf,GAAGhI,QAAQiF,KAAKs0B,GAAK,SAAU5e,GAAM,OAAO6e,EAAKnxB,IAAIsS,EAAG8e,cACjDD,EAAKxU,KAAO,EAHhB,IAA2BuU,EAC1BC;;;;;;;;;;;;;;;;;;;;;;SDiHI3D,mBAAoB,WAAc,OAAOjiB,EAAMukB,gBAAkBvkB,EAAMukB,eAAeuB,SACtF5D,mBAAoB,SAAU7yB,EAAQ8oB,GAAY,QAAO9oB,GAAS0iB,GAAQ1iB,EAAQ8oB,IAClFgK,mBAAoB,SAAU/lB,GAC1B,IAAKA,EAAI/M,OACL,MAAO,GAEX,IAAIa,EPhIb,SAAiBA,EAASioB,GAC7B,GAAIjoB,EAAQ61B,QACR,OAAO71B,EAAQ61B,QAAQ5N,GAG3B,IADA,IAAIpR,EAAK7W,EACF6W,GAAI,CACP,GAAIgL,GAAQhL,EAAIoR,GACZ,OAAOpR,EAEXA,EAAKA,EAAGif,cAEZ,OAAO,KOqHmBD,CAAQ3pB,EAAI/M,OAAQ,IAAMoO,GAAQ6iB,iBAAmB,KACnE,OAAOpwB,GAAWA,EAAQwB,aAAa+L,GAAQ6iB,mBAEnD8B,kBAAmB,WAAc,OAAOpiB,EAAMklB,sBAC9CtjB,SAAU,SAAU4F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAUoV,SAASR,IACvE6a,oBAAqB,WAAc,SChIlBtb,EDgI2C/G,EAAMqkB,WC/H9Dtd,EAAGkf,aAAelf,EAAGmf,aAD9B,IAAsBnf,GDiIjBub,aAAc,SAAU7X,GAAU,OAAOzK,EAAM/D,KAAKwB,GAAQgjB,aAAchW,EAAS,CAAEA,OAAQA,GAAW,KACxG8X,cAAe,SAAU9X,GAAU,OAAOzK,EAAM/D,KAAKwB,GAAQkjB,cAAelW,EAAS,CAAEA,OAAQA,GAAW,KAC1G+X,aAAc,WAAc,OAAOxiB,EAAM/D,KAAKwB,GAAQujB,aAAc,KACpEyB,cAAe,WAAc,OAAOziB,EAAM/D,KAAKwB,GAAQwjB,cAAe,KACtEyB,aAAc,WAAc,OAAO1iB,EAAMilB,WAAW5O,cACpDsM,gBAAiB,SAAUnb,GAAa,OAAOpX,SAASgY,KAAKxV,UAAUqV,OAAOT,IAC9E1F,YAAa,SAAU0F,GAAa,OAAOxH,EAAMzE,MAAM3I,UAAUqV,OAAOT,IACxEob,eAAgB,WACZ5iB,EAAMskB,SAAS6B,UACfnmB,EAAMskB,SAASl4B,SAAQ,SAAUg6B,GAC7BA,EAAOJ,cAAcz2B,YAAY62B,OAGzCvD,UAAW,WAAc,OAAO7iB,EAAMilB,WAAWlP,eAIzDkO,EAAUtqB,UAAUurB,mBAAqB,WACrC,OAAO90B,SAASwX,cAAc,IAAMnK,GAAQsjB,wBAA0B,MAEnEkD,GACT/oB,mHEjLmB3N,iDAIfwc,GAAQxc,MAAU,MAAO,kVANbA,mDAKKA,8GAHFA,mEAIfwc,GAAQxc,MAAU,MAAO,qDANbA,wJAwBVod,EAAgBlB,GAAqB1W,KAA0B,oBAAqB,mBAAoB,oBAAqB,yBAS/H7C,EACAm2B,EAEAxb,OAVOC,eACPtD,EAAY,uBAEL8e,EAAkB,6BAClBC,EAAmB,6BACnBC,GAAmB,KAI1Bpb,EAAoB9X,EAAW,0BAE/BmzB,cAkDY/kB,KAAUrG,UACjBgrB,EAAO3kB,UAAUrG,UAvC1BjI,EAAW,0BAXeszB,IACxBD,EAAgBr5B,KAAKs5B,cAGbC,EAAMF,EAAgBluB,QAAQmuB,GAChCC,GAAO,GACTF,EAAgBjuB,OAAOmuB,EAAK,OAW9Bvb,IACFP,EAAuBO,EAAkB1J,IAG3CzO,aACEozB,MAAapC,GAAU/zB,OAGzBiD,QACEkzB,GAAUA,EAAOl3B,UAEb0b,GACFA,sTAhBDwb,QAAWA,EAAOC,gBAAkBA,sBACpCD,QAAWA,EAAOE,iBAAmBA,sBACrCF,QAAWA,EAAOG,iBAAmBA,iCAmBtCC,EAAgBr6B,SAAQs6B,GAAYA,2BAGdrrB,UACfgrB,EAAOpD,QAAQ5nB,gBAGCA,UAChBgrB,EAAOtD,SAAS1nB,sBAIhBgrB,EAAOlD,wDArFLjzB,ukBCCL3C,QAAkBA,cAChBA,SAAYA,MAChBwc,GAAQxc,MAAU,MAAO,QAAS,YAAa,yBAH7CA,gQACAA,QAAkBA,oBAChBA,SAAYA,eAChBwc,GAAQxc,MAAU,MAAO,QAAS,YAAa,qEAH7CA,qRAOOq5B,IACX55B,UAAW,KACX65B,UAAW,KACXC,mEAWShc,eACPtD,EAAY,iBAELxa,EAAY45B,GAAU55B,4BAC7B+5B,cAGEF,EAAYD,GAAUI,MACtBF,EAAWF,GAAUE,SAErBnc,EAAgBlB,GAAqB1W,IAAyBg0B,WAE3D1zB,KAAWyzB,EACdA,EAASvtB,eAAelG,IAC1BD,EAAWC,EAASyzB,EAASzzB,yVClC5B,SAAS4zB,GAAkBl4B,GAChC,SAASm4B,KAAa7rB,GAEpB,OADArP,OAAOP,OAAOm7B,GAAW73B,GAClB,IAAIo4B,MAAc9rB,GAa3B,OAVA6rB,EAAUvtB,UAAYwtB,GAGlBA,GAAWC,WACbF,EAAUE,SAAW,IAAI/rB,IAASrP,OAAOP,OAAOm7B,GAAW73B,IAAUo4B,GAAWC,YAAY/rB,IAE1F8rB,GAAWE,SACbH,EAAUG,OAAS,IAAIhsB,IAASrP,OAAOP,OAAOm7B,GAAW73B,IAAUo4B,GAAWE,UAAUhsB,IAGnF6rB,8ECfHnd,GAAQxc,MAAU,0JAFNA,qGAEZwc,GAAQxc,MAAU,mDAFNA,4IAWVod,EAAgBlB,GAAqB1W,aAEhC+X,qICXEmc,GAAkB,CAC/BD,MAAO,oBACPh6B,+EACA85B,SAAU,iFCHN/c,GAAQxc,MAAU,2JAFNA,qGAEZwc,GAAQxc,MAAU,mDAFNA,4IAWVod,EAAgBlB,GAAqB1W,aAEhC+X,qICXEmc,GAAkB,CAC/BD,MAAO,sBACPh6B,+EACA85B,SAAU,iFCHN/c,GAAQxc,MAAU,8JAFNA,qGAEZwc,GAAQxc,MAAU,mDAFNA,4IAWVod,EAAgBlB,GAAqB1W,aAEhC+X,8HCXEmc,GAAkB,CAC/BD,MAAO,sBACPh6B,+EACA85B,SAAU,CACRQ,sBAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBCmDwCC,qBA4B/D,IAvBA,IAAIC,EAAQ,SAAUzX,EAAGpM,EAAKnV,GAI1B,YAHa,IAARmV,IAAiBA,EAAI,QACb,IAARnV,IAAiBA,EAAI,GAEnBuhB,EAAIpM,EAAMA,EAAMoM,EAAIvhB,EAAMA,EAAMuhB,GAGvC0X,EAAW,SAAUC,GACrBA,EAAIC,UAAW,EACfD,EAAIE,WAAaF,EAAI/5B,MAAM,GAC3B,IAAK,IAAIe,EAAE,EAAGA,GAAG,EAAGA,IACZA,EAAI,IACAg5B,EAAIh5B,GAAK,GAAKg5B,EAAIh5B,GAAK,OAAOg5B,EAAIC,UAAW,GACjDD,EAAIh5B,GAAK84B,EAAME,EAAIh5B,GAAI,EAAG,MACb,IAANA,IACPg5B,EAAIh5B,GAAK84B,EAAME,EAAIh5B,GAAI,EAAG,IAGlC,OAAOg5B,GAIPG,EAAc,GACTn5B,EAAI,EAAGo5B,EAAO,CAAC,UAAW,SAAU,SAAU,WAAY,QAAS,OAAQ,SAAU,YAAa,QAASp5B,EAAIo5B,EAAKr5B,OAAQC,GAAK,EAAG,CACzI,IAAIyB,EAAO23B,EAAKp5B,GAEhBm5B,EAAa,WAAa13B,EAAO,KAAQA,EAAK6nB,cAElD,IAAI1f,EAAO,SAASI,GAChB,OAAOmvB,EAAY77B,OAAO2N,UAAU2V,SAASje,KAAKqH,KAAS,UAG3DqvB,EAAS,SAAU1sB,EAAM2sB,GAIzB,YAHkB,IAAbA,IAAsBA,EAAS,MAGhC3sB,EAAK5M,QAAU,EAAYoJ,MAAM8B,UAAUhM,MAAM0D,KAAKgK,GAGxC,UAAjB/C,EAAK+C,EAAK,KAAmB2sB,EACzBA,EAASC,MAAM,IACpBtxB,QAAO,SAAU/K,GAAK,YAAsBwC,IAAfiN,EAAK,GAAGzP,MACrC8K,KAAI,SAAU9K,GAAK,OAAOyP,EAAK,GAAGzP,MAI3ByP,EAAK,IAGZ6sB,EAAO,SAAU7sB,GACjB,GAAIA,EAAK5M,OAAS,EAAK,OAAO,KAC9B,IAAIwJ,EAAIoD,EAAK5M,OAAO,EACpB,MAAqB,UAAjB6J,EAAK+C,EAAKpD,IAA0BoD,EAAKpD,GAAG+f,cACzC,MAGPmQ,EAAK55B,KAAK45B,GAEVC,EAAQ,CACXX,SAAUA,EACVD,MAAOA,EACPlvB,KAAMA,EACNyvB,OAAQA,EACRG,KAAMA,EACNC,GAAIA,EACJE,MAAU,EAAHF,EACPG,QAASH,EAAG,EACZI,QAASJ,EAAK,IACdK,QAAS,IAAML,GAGZ11B,EAAQ,CACXg2B,OAAQ,GACRC,WAAY,IAGTC,EAASP,EAAMF,KACfU,EAAaR,EAAMX,SACnBoB,EAAST,EAAM9vB,KAGfwwB,EAAQ,WAER,IADA,IAAIztB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIy6B,EAAK33B,KACT,GAAwB,WAApBy3B,EAAOxtB,EAAK,KACZA,EAAK,GAAG3B,aACR2B,EAAK,GAAG3B,cAAgBtI,KAAKsI,YAE7B,OAAO2B,EAAK,GAIhB,IAAI2tB,EAAOL,EAAOttB,GACdqtB,GAAa,EAEjB,IAAKM,EAAM,CACPN,GAAa,EACRj2B,EAAMw2B,SACPx2B,EAAMi2B,WAAaj2B,EAAMi2B,WAAW3V,MAAK,SAAUvmB,EAAEC,GAAK,OAAOA,EAAEoC,EAAIrC,EAAEqC,KACzE4D,EAAMw2B,QAAS,GAGnB,IAAK,IAAIv6B,EAAI,EAAGo5B,EAAOr1B,EAAMi2B,WAAYh6B,EAAIo5B,EAAKr5B,OAAQC,GAAK,EAAG,CAC9D,IAAIw6B,EAAMpB,EAAKp5B,GAGf,GADAs6B,EAAOE,EAAIC,KAAKnvB,MAAMkvB,EAAK7tB,GACf,OAIpB,IAAI5I,EAAMg2B,OAAOO,GAIb,MAAM,IAAIh2B,MAAM,mBAAmBqI,GAHnC,IAAIqsB,EAAMj1B,EAAMg2B,OAAOO,GAAMhvB,MAAM,KAAM0uB,EAAartB,EAAOA,EAAK1N,MAAM,GAAG,IAC3Eo7B,EAAGK,KAAOR,EAAWlB,GAMF,IAAnBqB,EAAGK,KAAK36B,QAAgBs6B,EAAGK,KAAKh8B,KAAK,IAG7C07B,EAAMnvB,UAAU2V,SAAW,WACvB,MAAwB,YAApBuZ,EAAOz3B,KAAKi4B,KAA6Bj4B,KAAKi4B,MAC1C,IAAOj4B,KAAKg4B,KAAKtX,KAAK,KAAQ,KAG1C,IAAIwX,EAAUR,EAEVS,EAAS,WAEZ,IADA,IAAIluB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOuvB,EAAOT,MAAO,CAAE,MAAOpuB,OAAQW,MAG3EkuB,EAAOT,MAAQQ,EACfC,EAAOE,QAAU,QAEjB,IAAIC,EAAWH,EAEXI,EAAWvB,EAAML,OACjBv5B,EAAMD,KAAKC,IAqBXo7B,EAnBW,WAEX,IADA,IAAIvuB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAM4wB,EAAStuB,EAAM,OACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GAIRnN,EAAI,EAAI4C,EAHZyG,GAAQ,IAGUzG,EAFlBq7B,GAAQ,IACRp9B,GAAQ,MAEJq9B,EAAIl+B,EAAI,EAAI,GAAK,EAAEA,GAAK,EAI5B,MAAO,EAHE,EAAEqJ,EAAErJ,GAAKk+B,GACT,EAAED,EAAEj+B,GAAKk+B,GACT,EAAEr9B,EAAEb,GAAKk+B,EACJl+B,IAKdm+B,EAAW3B,EAAML,OAqBjBiC,EAnBW,WAEX,IADA,IAAI3uB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,IAAI4G,GADJmG,EAAO0uB,EAAS1uB,EAAM,SACT,GACT7E,EAAI6E,EAAK,GACT2U,EAAI3U,EAAK,GACTzP,EAAIyP,EAAK,GACT4uB,EAAQ5uB,EAAK5M,OAAS,EAAI4M,EAAK,GAAK,EACxC,OAAU,IAANzP,EAAkB,CAAC,EAAE,EAAE,EAAEq+B,GACtB,CACH/0B,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAEtJ,GAC9B4K,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAE5K,GAC9BokB,GAAK,EAAI,EAAI,KAAO,EAAEA,IAAM,EAAEpkB,GAC9Bq+B,IAMJC,EAAW9B,EAAML,OACjBoC,EAAS/B,EAAM9vB,KAInBgxB,EAAQ3vB,UAAUywB,KAAO,WACrB,OAAOR,EAAWx4B,KAAKg4B,OAG3BM,EAASU,KAAO,WAEZ,IADA,IAAI/uB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,YAGhF5I,EAAMg2B,OAAO2B,KAAOJ,EAEpBv3B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAO6uB,EAAS7uB,EAAM,QACD,UAAjB8uB,EAAO9uB,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,UAKnB,IAAI47B,EAAWjC,EAAML,OACjBuC,EAASlC,EAAMF,KACfqC,EAAM,SAAU/9B,GAAK,OAAO+B,KAAKqY,MAAQ,IAAFpa,GAAO,KA4B9Cg+B,EAlBU,WAEV,IADA,IAAInvB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIm8B,EAAOJ,EAAShvB,EAAM,QACtB2tB,EAAOsB,EAAOjvB,IAAS,MAU3B,OATAovB,EAAK,GAAKF,EAAIE,EAAK,IAAM,GACzBA,EAAK,GAAKF,EAAY,IAARE,EAAK,IAAU,IAC7BA,EAAK,GAAKF,EAAY,IAARE,EAAK,IAAU,IAChB,SAATzB,GAAoByB,EAAKh8B,OAAS,GAAKg8B,EAAK,GAAG,GAC/CA,EAAK,GAAKA,EAAKh8B,OAAS,EAAIg8B,EAAK,GAAK,EACtCzB,EAAO,QAEPyB,EAAKh8B,OAAS,EAEVu6B,EAAO,IAAOyB,EAAK3Y,KAAK,KAAQ,KAKxC4Y,EAAWtC,EAAML,OA8CjB4C,EApCU,WAEV,IADA,IAAItvB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,IAAI2G,GADJoG,EAAOqvB,EAASrvB,EAAM,SACT,GACTwuB,EAAIxuB,EAAK,GACT5O,EAAI4O,EAAK,GAEbpG,GAAK,IACL40B,GAAK,IACLp9B,GAAK,IAEL,IAIIqN,EAAG8wB,EAJHjnB,EAAMpV,KAAKoV,IAAI1O,EAAG40B,EAAGp9B,GACrB+B,EAAMD,KAAKC,IAAIyG,EAAG40B,EAAGp9B,GAErBwL,GAAKzJ,EAAMmV,GAAO,EAgBtB,OAbInV,IAAQmV,GACR7J,EAAI,EACJ8wB,EAAIpa,OAAOpQ,KAEXtG,EAAI7B,EAAI,IAAOzJ,EAAMmV,IAAQnV,EAAMmV,IAAQnV,EAAMmV,IAAQ,EAAInV,EAAMmV,GAGnE1O,GAAKzG,EAAOo8B,GAAKf,EAAIp9B,IAAM+B,EAAMmV,GAC5BkmB,GAAKr7B,EAAOo8B,EAAI,GAAKn+B,EAAIwI,IAAMzG,EAAMmV,GACrClX,GAAK+B,IAAOo8B,EAAI,GAAK31B,EAAI40B,IAAMr7B,EAAMmV,KAE9CinB,GAAK,IACG,IAAKA,GAAK,KACdvvB,EAAK5M,OAAO,QAAeL,IAAViN,EAAK,GAAyB,CAACuvB,EAAE9wB,EAAE7B,EAAEoD,EAAK,IACxD,CAACuvB,EAAE9wB,EAAE7B,IAKZ4yB,EAAWzC,EAAML,OACjB+C,EAAS1C,EAAMF,KAGfthB,EAAQrY,KAAKqY,MA6BbmkB,EAnBU,WAEV,IADA,IAAI1vB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAI08B,EAAOH,EAASxvB,EAAM,QACtB2tB,EAAO8B,EAAOzvB,IAAS,MAC3B,MAAwB,OAApB2tB,EAAKiC,OAAO,EAAE,GACPT,EAAUG,EAAUK,GAAOhC,IAEtCgC,EAAK,GAAKpkB,EAAMokB,EAAK,IACrBA,EAAK,GAAKpkB,EAAMokB,EAAK,IACrBA,EAAK,GAAKpkB,EAAMokB,EAAK,KACR,SAAThC,GAAoBgC,EAAKv8B,OAAS,GAAKu8B,EAAK,GAAG,KAC/CA,EAAK,GAAKA,EAAKv8B,OAAS,EAAIu8B,EAAK,GAAK,EACtChC,EAAO,QAEHA,EAAO,IAAOgC,EAAKr9B,MAAM,EAAS,QAAPq7B,EAAa,EAAE,GAAGlX,KAAK,KAAQ,MAKlEoZ,EAAW9C,EAAML,OACjBoD,EAAU58B,KAAKqY,MA4CfwkB,EA1CU,WAIV,IAHA,IAAI3/B,EAEA4P,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAGI2G,EAAE40B,EAAEp9B,EAHJm+B,GADJvvB,EAAO6vB,EAAS7vB,EAAM,QACT,GACTvB,EAAIuB,EAAK,GACTpD,EAAIoD,EAAK,GAEb,GAAU,IAANvB,EACA7E,EAAI40B,EAAIp9B,EAAM,IAAFwL,MACT,CACH,IAAIozB,EAAK,CAAC,EAAE,EAAE,GACVn2B,EAAI,CAAC,EAAE,EAAE,GACTo2B,EAAKrzB,EAAI,GAAMA,GAAK,EAAE6B,GAAK7B,EAAE6B,EAAE7B,EAAE6B,EACjCyxB,EAAK,EAAItzB,EAAIqzB,EACbE,EAAKZ,EAAI,IACbS,EAAG,GAAKG,EAAK,EAAE,EACfH,EAAG,GAAKG,EACRH,EAAG,GAAKG,EAAK,EAAE,EACf,IAAK,IAAI98B,EAAE,EAAGA,EAAE,EAAGA,IACX28B,EAAG38B,GAAK,IAAK28B,EAAG38B,IAAM,GACtB28B,EAAG38B,GAAK,IAAK28B,EAAG38B,IAAM,GACtB,EAAI28B,EAAG38B,GAAK,EACVwG,EAAExG,GAAK68B,EAAiB,GAAXD,EAAKC,GAAUF,EAAG38B,GAC5B,EAAI28B,EAAG38B,GAAK,EACfwG,EAAExG,GAAK48B,EACJ,EAAID,EAAG38B,GAAK,EACfwG,EAAExG,GAAK68B,GAAMD,EAAKC,IAAQ,EAAI,EAAKF,EAAG38B,IAAM,EAE5CwG,EAAExG,GAAK68B,EAEkDt2B,GAAlExJ,EAAS,CAAC0/B,EAAa,IAALj2B,EAAE,IAAQi2B,EAAa,IAALj2B,EAAE,IAAQi2B,EAAa,IAALj2B,EAAE,MAAqB,GAAI20B,EAAIp+B,EAAO,GAAIgB,EAAIhB,EAAO,GAEhH,OAAI4P,EAAK5M,OAAS,EAEP,CAACwG,EAAE40B,EAAEp9B,EAAE4O,EAAK,IAEhB,CAACpG,EAAE40B,EAAEp9B,EAAE,IAKdg/B,EAAS,kDACTC,EAAU,wEACVC,EAAa,mFACbC,EAAc,yGACdC,EAAS,kFACTC,EAAU,wGAEVC,EAAUx9B,KAAKqY,MAEfolB,EAAU,SAAUlzB,GAEpB,IAAItC,EAEJ,GAHAsC,EAAMA,EAAIkf,cAAciU,OAGpBx5B,EAAMg2B,OAAOyD,MACb,IACI,OAAOz5B,EAAMg2B,OAAOyD,MAAMpzB,GAC5B,MAAOsB,IAMb,GAAK5D,EAAIsC,EAAIsW,MAAMqc,GAAU,CAEzB,IADA,IAAI/D,EAAMlxB,EAAE7I,MAAM,EAAE,GACXe,EAAE,EAAGA,EAAE,EAAGA,IACfg5B,EAAIh5B,IAAMg5B,EAAIh5B,GAGlB,OADAg5B,EAAI,GAAK,EACFA,EAIX,GAAKlxB,EAAIsC,EAAIsW,MAAMsc,GAAW,CAE1B,IADA,IAAIS,EAAQ31B,EAAE7I,MAAM,EAAE,GACby+B,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,IAAQD,EAAMC,GAExB,OAAOD,EAIX,GAAK31B,EAAIsC,EAAIsW,MAAMuc,GAAc,CAE7B,IADA,IAAIU,EAAQ71B,EAAE7I,MAAM,EAAE,GACb2+B,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAOP,EAAqB,KAAbM,EAAMC,IAG/B,OADAD,EAAM,GAAK,EACJA,EAIX,GAAK71B,EAAIsC,EAAIsW,MAAMwc,GAAe,CAE9B,IADA,IAAIW,EAAQ/1B,EAAE7I,MAAM,EAAE,GACb6+B,EAAI,EAAGA,EAAI,EAAGA,IACnBD,EAAMC,GAAOT,EAAqB,KAAbQ,EAAMC,IAG/B,OADAD,EAAM,IAAMA,EAAM,GACXA,EAIX,GAAK/1B,EAAIsC,EAAIsW,MAAMyc,GAAU,CACzB,IAAIY,EAAMj2B,EAAE7I,MAAM,EAAE,GACpB8+B,EAAI,IAAM,IACVA,EAAI,IAAM,IACV,IAAIC,EAAQtB,EAAUqB,GAEtB,OADAC,EAAM,GAAK,EACJA,EAIX,GAAKl2B,EAAIsC,EAAIsW,MAAM0c,GAAW,CAC1B,IAAIa,EAAQn2B,EAAE7I,MAAM,EAAE,GACtBg/B,EAAM,IAAM,IACZA,EAAM,IAAM,IACZ,IAAIC,EAAQxB,EAAUuB,GAEtB,OADAC,EAAM,IAAMp2B,EAAE,GACPo2B,IAIfZ,EAAQ7C,KAAO,SAAUrvB,GACrB,OAAO2xB,EAAOtC,KAAKrvB,IACf4xB,EAAQvC,KAAKrvB,IACb6xB,EAAWxC,KAAKrvB,IAChB8xB,EAAYzC,KAAKrvB,IACjB+xB,EAAO1C,KAAKrvB,IACZgyB,EAAQ3C,KAAKrvB,IAGrB,IAAI+yB,EAAYb,EAEZc,EAAS1E,EAAM9vB,KAKnBgxB,EAAQ3vB,UAAUb,IAAM,SAASkwB,GAC7B,OAAO+B,EAAU35B,KAAKg4B,KAAMJ,IAGhCU,EAAS5wB,IAAM,WAEX,IADA,IAAIuC,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAO3vB,IAAM+zB,EAEnBp6B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,SAAUyB,GAEZ,IADA,IAAIlzB,EAAO,GAAIpJ,EAAMyL,UAAUtL,OAAS,EAChCH,KAAQ,GAAIoJ,EAAMpJ,GAAQyL,UAAWzL,EAAM,GAEnD,IAAKoJ,EAAKjJ,QAAwB,WAAdq+B,EAAOlC,IAAmBiC,EAAU1D,KAAKyB,GACzD,MAAO,SAKnB,IAAImC,EAAW3E,EAAML,OAErBt1B,EAAMg2B,OAAOuE,GAAK,WAEd,IADA,IAAI3xB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIo5B,EAAMqF,EAAS1xB,EAAM,QAIzB,OAHAqsB,EAAI,IAAM,IACVA,EAAI,IAAM,IACVA,EAAI,IAAM,IACHA,GAGXgC,EAASsD,GAAK,WAEV,IADA,IAAI3xB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,UAGhFiuB,EAAQ3vB,UAAUqzB,GAAK,WACnB,IAAItF,EAAMt2B,KAAKg4B,KACf,MAAO,CAAC1B,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,GAAG,IAAKA,EAAI,KAGpD,IAAIuF,EAAW7E,EAAML,OA4BjBmF,EA1BU,WAEV,IADA,IAAI7xB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IASIs8B,EATA7xB,EAAMk0B,EAAS5xB,EAAM,OACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GACR4K,EAAMpV,KAAKoV,IAAI1O,EAAG40B,EAAGp9B,GACrB+B,EAAMD,KAAKC,IAAIyG,EAAG40B,EAAGp9B,GACrB8Z,EAAQ/X,EAAMmV,EACdzO,EAAY,IAARqR,EAAc,IAClB4mB,EAAKxpB,GAAO,IAAM4C,GAAS,IAW/B,OATc,IAAVA,EACAqkB,EAAIpa,OAAOpQ,KAEPnL,IAAMzG,IAAOo8B,GAAKf,EAAIp9B,GAAK8Z,GAC3BsjB,IAAMr7B,IAAOo8B,EAAI,GAAGn+B,EAAIwI,GAAKsR,GAC7B9Z,IAAM+B,IAAOo8B,EAAI,GAAG31B,EAAI40B,GAAKtjB,IACjCqkB,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAG11B,EAAGi4B,IAKdC,EAAWhF,EAAML,OACjBtJ,EAAQlwB,KAAKkwB,MA+Cb4O,GArCU,WAIV,IAHA,IAAI5hC,EAAQ6hC,EAAUC,EAAUC,EAAUC,EAAUC,EAEhDryB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAGI2G,EAAE40B,EAAEp9B,EAHJm+B,GADJvvB,EAAO+xB,EAAS/xB,EAAM,QACT,GACTnG,EAAImG,EAAK,GACT8xB,EAAK9xB,EAAK,GAEd8xB,GAAU,IACV,IAAI9P,EAAS,IAAJnoB,EACT,GAAU,IAANA,EACAD,EAAI40B,EAAIp9B,EAAI0gC,MACT,CACO,MAANvC,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAElB,IAAIl8B,EAAI+vB,EADRmM,GAAK,IAEDd,EAAIc,EAAIl8B,EACRG,EAAIs+B,GAAM,EAAIj4B,GACdy4B,EAAI9+B,EAAIwuB,GAAM,EAAIyM,GAClBjwB,EAAIhL,EAAIwuB,EAAKyM,EACbpe,EAAI7c,EAAIwuB,EACZ,OAAQ3uB,GACJ,KAAK,EAAwBuG,GAApBxJ,EAAS,CAACigB,EAAG7R,EAAGhL,IAAe,GAAIg7B,EAAIp+B,EAAO,GAAIgB,EAAIhB,EAAO,GAAK,MAC3E,KAAK,EAA0BwJ,GAAtBq4B,EAAW,CAACK,EAAGjiB,EAAG7c,IAAiB,GAAIg7B,EAAIyD,EAAS,GAAI7gC,EAAI6gC,EAAS,GAAK,MACnF,KAAK,EAA0Br4B,GAAtBs4B,EAAW,CAAC1+B,EAAG6c,EAAG7R,IAAiB,GAAIgwB,EAAI0D,EAAS,GAAI9gC,EAAI8gC,EAAS,GAAK,MACnF,KAAK,EAA0Bt4B,GAAtBu4B,EAAW,CAAC3+B,EAAG8+B,EAAGjiB,IAAiB,GAAIme,EAAI2D,EAAS,GAAI/gC,EAAI+gC,EAAS,GAAK,MACnF,KAAK,EAA0Bv4B,GAAtBw4B,EAAW,CAAC5zB,EAAGhL,EAAG6c,IAAiB,GAAIme,EAAI4D,EAAS,GAAIhhC,EAAIghC,EAAS,GAAK,MACnF,KAAK,EAA0Bx4B,GAAtBy4B,EAAW,CAAChiB,EAAG7c,EAAG8+B,IAAiB,GAAI9D,EAAI6D,EAAS,GAAIjhC,EAAIihC,EAAS,IAGtF,MAAO,CAACz4B,EAAG40B,EAAGp9B,EAAG4O,EAAK5M,OAAS,EAAI4M,EAAK,GAAK,IAK7CuyB,GAAWxF,EAAML,OACjB8F,GAASzF,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAUm0B,IAAM,WACpB,OAAOZ,EAAU97B,KAAKg4B,OAG1BM,EAASoE,IAAM,WAEX,IADA,IAAIzyB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOqF,IAAMT,GAEnB56B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAOuyB,GAASvyB,EAAM,OACD,UAAjBwyB,GAAOxyB,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,SAKnB,IAAIs/B,GAAW3F,EAAML,OACjBiG,GAAS5F,EAAMF,KACf+F,GAAU1/B,KAAKqY,MA+BfsnB,GA7BU,WAEV,IADA,IAAI7yB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAMg1B,GAAS1yB,EAAM,QACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GACRvM,EAAIuM,EAAI,GACRiwB,EAAOgF,GAAO3yB,IAAS,YACjBjN,IAAN5B,IAAmBA,EAAI,GACd,SAATw8B,IACAA,EAAOx8B,EAAI,EAAI,OAAS,OAK5B,IACI4c,EAAM,WAJVnU,EAAIg5B,GAAQh5B,KAGC,IAFb40B,EAAIoE,GAAQpE,KAEW,GADvBp9B,EAAIwhC,GAAQxhC,KAEW6iB,SAAS,IAChClG,EAAMA,EAAI6hB,OAAO7hB,EAAI3a,OAAS,GAC9B,IAAI0/B,EAAM,IAAMF,GAAY,IAAJzhC,GAAS8iB,SAAS,IAE1C,OADA6e,EAAMA,EAAIlD,OAAOkD,EAAI1/B,OAAS,GACtBu6B,EAAKhR,eACT,IAAK,OAAQ,MAAQ,IAAM5O,EAAM+kB,EACjC,IAAK,OAAQ,MAAQ,IAAMA,EAAM/kB,EACjC,QAAS,MAAQ,IAAMA,IAM3BglB,GAAS,sCACTC,GAAU,sCA8CVC,GA5CU,SAAUjF,GACpB,GAAIA,EAAIja,MAAMgf,IAAS,CAEA,IAAf/E,EAAI56B,QAA+B,IAAf46B,EAAI56B,SACxB46B,EAAMA,EAAI4B,OAAO,IAGF,IAAf5B,EAAI56B,SAEJ46B,GADAA,EAAMA,EAAIpB,MAAM,KACN,GAAGoB,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAEjD,IAAIkF,EAAIta,SAASoV,EAAK,IAItB,MAAO,CAHCkF,GAAK,GACLA,GAAK,EAAI,IACL,IAAJA,EACM,GAIlB,GAAIlF,EAAIja,MAAMif,IAAU,CACD,IAAfhF,EAAI56B,QAA+B,IAAf46B,EAAI56B,SAExB46B,EAAMA,EAAI4B,OAAO,IAGF,IAAf5B,EAAI56B,SAEJ46B,GADAA,EAAMA,EAAIpB,MAAM,KACN,GAAGoB,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAE/D,IAAImF,EAAMva,SAASoV,EAAK,IAKxB,MAAO,CAJGmF,GAAO,GAAK,IACZA,GAAO,GAAK,IACZA,GAAO,EAAI,IACbjgC,KAAKqY,OAAa,IAAN4nB,GAAc,IAAO,KAAO,KAQpD,MAAM,IAAIx7B,MAAO,sBAAwBq2B,IAKzCoF,GAASrG,EAAM9vB,KAKnBgxB,EAAQ3vB,UAAU0vB,IAAM,SAASL,GAC7B,OAAOkF,GAAU98B,KAAKg4B,KAAMJ,IAGhCU,EAASL,IAAM,WAEX,IADA,IAAIhuB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOY,IAAMiF,GACnB77B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,SAAUyB,GAEZ,IADA,IAAIlzB,EAAO,GAAIpJ,EAAMyL,UAAUtL,OAAS,EAChCH,KAAQ,GAAIoJ,EAAMpJ,GAAQyL,UAAWzL,EAAM,GAEnD,IAAKoJ,EAAKjJ,QAAwB,WAAdggC,GAAO7D,IAAmB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGryB,QAAQqyB,EAAEn8B,SAAW,EAC/E,MAAO,SAKnB,IAAIigC,GAAWtG,EAAML,OACjBM,GAAQD,EAAMC,MACd1kB,GAAMpV,KAAKoV,IACX4a,GAAOhwB,KAAKgwB,KACZoQ,GAAOpgC,KAAKogC,KAmCZC,GAjCU,WAEV,IADA,IAAIvzB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAMzC,IAOIs8B,EAPA7xB,EAAM21B,GAASrzB,EAAM,OACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GAKR2H,EAAOiD,GAJX1O,GAAK,IACL40B,GAAK,IACLp9B,GAAK,KAGDiC,GAAKuG,EAAE40B,EAAEp9B,GAAK,EACdqN,EAAIpL,EAAI,EAAI,EAAIgS,EAAKhS,EAAI,EAY7B,OAXU,IAANoL,EACA8wB,EAAIxqB,KAEJwqB,GAAM31B,EAAE40B,GAAI50B,EAAExI,IAAM,EACpBm+B,GAAKrM,IAAMtpB,EAAE40B,IAAI50B,EAAE40B,IAAM50B,EAAExI,IAAIo9B,EAAEp9B,IACjCm+B,EAAI+D,GAAK/D,GACLn+B,EAAIo9B,IACJe,EAAIvC,GAAQuC,GAEhBA,GAAKvC,IAEF,CAAG,IAAFuC,EAAM9wB,EAAEpL,IAKhBmgC,GAAWzG,EAAML,OACjB+G,GAAU1G,EAAMZ,MAChBuH,GAAU3G,EAAMC,MAChBC,GAAUF,EAAME,QAChB0G,GAAMzgC,KAAKygC,IAgDXC,GAzCU,WAEV,IADA,IAAI5zB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAOzC,IAGI2G,EAAE40B,EAAEp9B,EAHJm+B,GADJvvB,EAAOwzB,GAASxzB,EAAM,QACT,GACTvB,EAAIuB,EAAK,GACT3M,EAAI2M,EAAK,GA2Bb,OAxBI2J,MAAM4lB,KAAMA,EAAI,GAChB5lB,MAAMlL,KAAMA,EAAI,GAEhB8wB,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,MAClBA,GAAK,KACG,EAAE,EAGNf,EAAI,IAFJp9B,GAAK,EAAEqN,GAAG,IACV7E,GAAK,EAAE6E,EAAEk1B,GAAID,GAAQnE,GAAGoE,GAAI1G,GAAQyG,GAAQnE,IAAI,IAEzCA,EAAI,EAAE,EAIbn+B,EAAI,IAFJwI,GAAK,EAAE6E,GAAG,IACV+vB,GAAK,EAAE/vB,EAAEk1B,GAAID,IAFbnE,GAAK,EAAE,IAEiBoE,GAAI1G,GAAQyG,GAAQnE,IAAI,IAMhD31B,EAAI,IAFJ40B,GAAK,EAAE/vB,GAAG,IACVrN,GAAK,EAAEqN,EAAEk1B,GAAID,IAFbnE,GAAK,EAAE,IAEiBoE,GAAI1G,GAAQyG,GAAQnE,IAAI,IAM7C,CAAG,KAHV31B,EAAI65B,GAAQpgC,EAAEuG,EAAE,IAGC,KAFjB40B,EAAIiF,GAAQpgC,EAAEm7B,EAAE,IAEQ,KADxBp9B,EAAIqiC,GAAQpgC,EAAEjC,EAAE,IACa4O,EAAK5M,OAAS,EAAI4M,EAAK,GAAK,IAKzD6zB,GAAW9G,EAAML,OACjBoH,GAAS/G,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAUy1B,IAAM,WACpB,OAAOR,GAAUx9B,KAAKg4B,OAG1BM,EAAS0F,IAAM,WAEX,IADA,IAAI/zB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAO2G,IAAMH,GAEnBx8B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAO6zB,GAAS7zB,EAAM,OACD,UAAjB8zB,GAAO9zB,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,SAKnB,IAAI4gC,GAAWjH,EAAML,OACjBuH,GAASlH,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAU8yB,IAAM,WACpB,OAAO9B,EAAUv5B,KAAKg4B,OAG1BM,EAAS+C,IAAM,WAEX,IADA,IAAIpxB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOgE,IAAMrB,EAEnB34B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAOg0B,GAASh0B,EAAM,OACD,UAAjBi0B,GAAOj0B,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,SAKnB,IAAI8gC,GAAWnH,EAAML,OACjByH,GAAQjhC,KAAKoV,IACb8rB,GAAQlhC,KAAKC,IAmCbkhC,GA3BY,WAEZ,IADA,IAAIr0B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,IAMIs8B,EAAE9wB,EAAE4R,EANJzW,GADJoG,EAAOk0B,GAASl0B,EAAM,QACT,GACTwuB,EAAIxuB,EAAK,GACT5O,EAAI4O,EAAK,GACTqF,EAAO8uB,GAAMv6B,EAAG40B,EAAGp9B,GACnBkU,EAAO8uB,GAAMx6B,EAAG40B,EAAGp9B,GACnB8Z,EAAQ5F,EAAOD,EAcnB,OAZAgL,EAAI/K,EAAO,IACE,IAATA,GACAiqB,EAAIpa,OAAOpQ,IACXtG,EAAI,IAEJA,EAAIyM,EAAQ5F,EACR1L,IAAM0L,IAAQiqB,GAAKf,EAAIp9B,GAAK8Z,GAC5BsjB,IAAMlpB,IAAQiqB,EAAI,GAAGn+B,EAAIwI,GAAKsR,GAC9B9Z,IAAMkU,IAAQiqB,EAAI,GAAG31B,EAAI40B,GAAKtjB,IAClCqkB,GAAK,IACG,IAAKA,GAAK,MAEf,CAACA,EAAG9wB,EAAG4R,IAKdikB,GAAWvH,EAAML,OACjB6H,GAAUrhC,KAAKkwB,MAuCfoR,GArCU,WAIV,IAHA,IAAIpkC,EAAQ6hC,EAAUC,EAAUC,EAAUC,EAAUC,EAEhDryB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAGI2G,EAAE40B,EAAEp9B,EAHJm+B,GADJvvB,EAAOs0B,GAASt0B,EAAM,QACT,GACTvB,EAAIuB,EAAK,GACTqQ,EAAIrQ,EAAK,GAGb,GADAqQ,GAAK,IACK,IAAN5R,EACA7E,EAAI40B,EAAIp9B,EAAIif,MACT,CACO,MAANkf,IAAaA,EAAI,GACjBA,EAAI,MAAOA,GAAK,KAChBA,EAAI,IAAKA,GAAK,KAGlB,IAAIl8B,EAAIkhC,GAFRhF,GAAK,IAGDd,EAAIc,EAAIl8B,EACRG,EAAI6c,GAAK,EAAI5R,GACb6zB,EAAIjiB,GAAK,EAAI5R,EAAIgwB,GACjBjwB,EAAI6R,GAAK,EAAI5R,GAAK,EAAIgwB,IAE1B,OAAQp7B,GACJ,KAAK,EAAwBuG,GAApBxJ,EAAS,CAACigB,EAAG7R,EAAGhL,IAAe,GAAIg7B,EAAIp+B,EAAO,GAAIgB,EAAIhB,EAAO,GAAK,MAC3E,KAAK,EAA0BwJ,GAAtBq4B,EAAW,CAACK,EAAGjiB,EAAG7c,IAAiB,GAAIg7B,EAAIyD,EAAS,GAAI7gC,EAAI6gC,EAAS,GAAK,MACnF,KAAK,EAA0Br4B,GAAtBs4B,EAAW,CAAC1+B,EAAG6c,EAAG7R,IAAiB,GAAIgwB,EAAI0D,EAAS,GAAI9gC,EAAI8gC,EAAS,GAAK,MACnF,KAAK,EAA0Bt4B,GAAtBu4B,EAAW,CAAC3+B,EAAG8+B,EAAGjiB,IAAiB,GAAIme,EAAI2D,EAAS,GAAI/gC,EAAI+gC,EAAS,GAAK,MACnF,KAAK,EAA0Bv4B,GAAtBw4B,EAAW,CAAC5zB,EAAGhL,EAAG6c,IAAiB,GAAIme,EAAI4D,EAAS,GAAIhhC,EAAIghC,EAAS,GAAK,MACnF,KAAK,EAA0Bx4B,GAAtBy4B,EAAW,CAAChiB,EAAG7c,EAAG8+B,IAAiB,GAAI9D,EAAI6D,EAAS,GAAIjhC,EAAIihC,EAAS,IAGtF,MAAO,CAACz4B,EAAE40B,EAAEp9B,EAAE4O,EAAK5M,OAAS,EAAE4M,EAAK,GAAG,IAKtCy0B,GAAW1H,EAAML,OACjBgI,GAAS3H,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAUq2B,IAAM,WACpB,OAAON,GAAQt+B,KAAKg4B,OAGxBM,EAASsG,IAAM,WAEX,IADA,IAAI30B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOuH,IAAMH,GAEnBp9B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAOy0B,GAASz0B,EAAM,OACD,UAAjB00B,GAAO10B,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,SAKnB,IAAIwhC,GAAe,CAEfC,GAAI,GAGJC,GAAI,OACJC,GAAI,EACJC,GAAI,QAEJC,GAAI,WACJ/E,GAAI,WACJD,GAAI,UACJD,GAAI,YAGJkF,GAAWnI,EAAML,OACjBvJ,GAAMjwB,KAAKiwB,IAEXgS,GAAU,WAEV,IADA,IAAIn1B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAMw3B,GAASl1B,EAAM,OACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GACR03B,EAAQC,GAAQz7B,EAAE40B,EAAEp9B,GACpBsjB,EAAI0gB,EAAM,GACVzgB,EAAIygB,EAAM,GAEVx4B,EAAI,IAAM+X,EAAI,GAClB,MAAO,CAAC/X,EAAI,EAAI,EAAIA,EAAG,KAAO8X,EAAIC,GAAI,KAAOA,EAFrCygB,EAAM,MAKdE,GAAU,SAAU17B,GACpB,OAAKA,GAAK,MAAQ,OAAkBA,EAAI,MACjCupB,IAAKvpB,EAAI,MAAS,MAAO,MAGhC27B,GAAU,SAAU/2B,GACpB,OAAIA,EAAIo2B,GAAa5E,GAAa7M,GAAI3kB,EAAG,EAAI,GACtCA,EAAIo2B,GAAa3E,GAAK2E,GAAaK,IAG1CI,GAAU,SAAUz7B,EAAE40B,EAAEp9B,GAOxB,OANAwI,EAAI07B,GAAQ17B,GACZ40B,EAAI8G,GAAQ9G,GACZp9B,EAAIkkC,GAAQlkC,GAIL,CAHCmkC,IAAS,SAAY37B,EAAI,SAAY40B,EAAI,SAAYp9B,GAAKwjC,GAAaE,IACvES,IAAS,SAAY37B,EAAI,SAAY40B,EAAI,QAAYp9B,GAAKwjC,GAAaG,IACvEQ,IAAS,SAAY37B,EAAI,QAAY40B,EAAI,SAAYp9B,GAAKwjC,GAAaI,MAI/EQ,GAAYL,GAEZM,GAAW1I,EAAML,OACjBgJ,GAAQxiC,KAAKiwB,IAObwS,GAAU,WAEV,IADA,IAAI31B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,IAGIyhB,EAAEC,EAAEihB,EAHJh5B,GADJoD,EAAOy1B,GAASz1B,EAAM,QACT,GACT7O,EAAI6O,EAAK,GACT5O,EAAI4O,EAAK,GAeb,OAZA2U,GAAK/X,EAAI,IAAM,IACf8X,EAAI/K,MAAMxY,GAAKwjB,EAAIA,EAAIxjB,EAAI,IAC3BykC,EAAIjsB,MAAMvY,GAAKujB,EAAIA,EAAIvjB,EAAI,IAE3BujB,EAAIigB,GAAaG,GAAKc,GAAQlhB,GAC9BD,EAAIkgB,GAAaE,GAAKe,GAAQnhB,GAC9BkhB,EAAIhB,GAAaI,GAAKa,GAAQD,GAMvB,CAJHE,GAAQ,UAAYphB,EAAI,UAAYC,EAAI,SAAYihB,GACpDE,IAAS,QAAYphB,EAAI,UAAYC,EAAI,QAAYihB,GACpDE,GAAQ,SAAYphB,EAAI,SAAYC,EAAI,UAAYihB,GAE1C51B,EAAK5M,OAAS,EAAI4M,EAAK,GAAK,IAG3C81B,GAAU,SAAUl8B,GACpB,OAAO,KAAOA,GAAK,OAAU,MAAQA,EAAI,MAAQ87B,GAAM97B,EAAG,EAAI,KAAO,OAGrEi8B,GAAU,SAAUr3B,GACpB,OAAOA,EAAIo2B,GAAa1E,GAAK1xB,EAAIA,EAAIA,EAAIo2B,GAAa3E,IAAMzxB,EAAIo2B,GAAaK,KAG7Ec,GAAYJ,GAEZK,GAAWjJ,EAAML,OACjBuJ,GAASlJ,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAU43B,IAAM,WACpB,OAAOV,GAAUz/B,KAAKg4B,OAG1BM,EAAS6H,IAAM,WAEX,IADA,IAAIl2B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAO8I,IAAMH,GAEnB3+B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAOg2B,GAASh2B,EAAM,OACD,UAAjBi2B,GAAOj2B,IAAqC,IAAhBA,EAAK5M,OACjC,MAAO,SAKnB,IAAI+iC,GAAWpJ,EAAML,OACjBS,GAAUJ,EAAMI,QAChBiJ,GAASljC,KAAKgwB,KACdmT,GAAQnjC,KAAKmjC,MACbC,GAAUpjC,KAAKqY,MAgBfgrB,GAdU,WAEV,IADA,IAAIv2B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAMy4B,GAASn2B,EAAM,OACrBpD,EAAIc,EAAI,GACRvM,EAAIuM,EAAI,GACRtM,EAAIsM,EAAI,GACR7D,EAAIu8B,GAAOjlC,EAAIA,EAAIC,EAAIA,GACvBm+B,GAAK8G,GAAMjlC,EAAGD,GAAKg8B,GAAU,KAAO,IAExC,OADyB,IAArBmJ,GAAU,IAAFz8B,KAAkB01B,EAAIpa,OAAOpQ,KAClC,CAACnI,EAAG/C,EAAG01B,IAKdiH,GAAWzJ,EAAML,OAmBjB+J,GAfU,WAEV,IADA,IAAIz2B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAM84B,GAASx2B,EAAM,OACrBpG,EAAI8D,EAAI,GACR8wB,EAAI9wB,EAAI,GACRtM,EAAIsM,EAAI,GACR03B,EAAQI,GAAU57B,EAAE40B,EAAEp9B,GACtBwL,EAAIw4B,EAAM,GACVjkC,EAAIikC,EAAM,GACVsB,EAAKtB,EAAM,GACf,OAAOmB,GAAU35B,EAAEzL,EAAEulC,IAKrBC,GAAW5J,EAAML,OACjBQ,GAAUH,EAAMG,QAChB0J,GAAM1jC,KAAK0jC,IACXC,GAAQ3jC,KAAKygC,IAsBbmD,GApBU,WAEV,IADA,IAAI92B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GASzC,IAAIyK,EAAMi5B,GAAS32B,EAAM,OACrBpD,EAAIc,EAAI,GACR7D,EAAI6D,EAAI,GACR6xB,EAAI7xB,EAAI,GAGZ,OAFIiM,MAAM4lB,KAAMA,EAAI,GAEb,CAAC3yB,EAAGi6B,GADXtH,GAAQrC,IACcrzB,EAAG+8B,GAAIrH,GAAK11B,IAKlCk9B,GAAWhK,EAAML,OAuBjBsK,GAnBU,WAEV,IADA,IAAIh3B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,IAAI2J,GADJoD,EAAO+2B,GAAS/2B,EAAM,QACT,GACTnG,EAAImG,EAAK,GACTuvB,EAAIvvB,EAAK,GACTtC,EAAMo5B,GAAWl6B,EAAE/C,EAAE01B,GACrB0H,EAAIv5B,EAAI,GACRvM,EAAIuM,EAAI,GACRg5B,EAAKh5B,EAAI,GACT03B,EAAQW,GAAWkB,EAAE9lC,EAAEulC,GAI3B,MAAO,CAHCtB,EAAM,GACNA,EAAM,GACNA,EAAM,GACGp1B,EAAK5M,OAAS,EAAI4M,EAAK,GAAK,IAK7Ck3B,GAAWnK,EAAML,OAWjByK,GARU,WAEV,IADA,IAAIn3B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAImkC,EAAMF,GAASl3B,EAAM,OAAO8qB,UAChC,OAAOkM,GAAUr4B,WAAM,EAAQy4B,IAK/BC,GAAWtK,EAAML,OACjB4K,GAASvK,EAAM9vB,KAOnBgxB,EAAQ3vB,UAAUi5B,IAAM,WAAa,OAAOd,GAAU1gC,KAAKg4B,OAC3DE,EAAQ3vB,UAAU84B,IAAM,WAAa,OAAOX,GAAU1gC,KAAKg4B,MAAMjD,WAEjEuD,EAASkJ,IAAM,WAEX,IADA,IAAIv3B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAEhFquB,EAAS+I,IAAM,WAEX,IADA,IAAIp3B,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOmK,IAAMP,GACnB5/B,EAAMg2B,OAAOgK,IAAMD,GAEnB,CAAC,MAAM,OAAOpmC,SAAQ,SAAUoK,GAAK,OAAO/D,EAAMi2B,WAAWt7B,KAAK,CAC9DyB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAOq3B,GAASr3B,EAAM7E,GACD,UAAjBm8B,GAAOt3B,IAAqC,IAAhBA,EAAK5M,OACjC,OAAO+H,QAWnB,IA8JIq8B,GA9JS,CACTC,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,WAAY,UACZC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,eAAgB,UAChBC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WAKbC,GAASrU,EAAM9vB,KAMnBgxB,EAAQ3vB,UAAUxJ,KAAO,WAErB,IADA,IAAIk5B,EAAM6E,GAAU98B,KAAKg4B,KAAM,OACtB16B,EAAI,EAAGo5B,EAAO97B,OAAO4M,KAAKi6B,IAAWnkC,EAAIo5B,EAAKr5B,OAAQC,GAAK,EAAG,CACnE,IAAIqH,EAAI+xB,EAAKp5B,GAEb,GAAImkC,GAAS98B,KAAOszB,EAAO,OAAOtzB,EAAEiiB,cAExC,OAAOqR,GAGX52B,EAAMg2B,OAAOyD,MAAQ,SAAU/7B,GAE3B,GADAA,EAAOA,EAAK6nB,cACR6a,GAAS1iC,GAAS,OAAOm+B,GAAUuE,GAAS1iC,IAChD,MAAM,IAAI6C,MAAM,uBAAuB7C,IAG3CsC,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,SAAUyB,GAEZ,IADA,IAAIlzB,EAAO,GAAIpJ,EAAMyL,UAAUtL,OAAS,EAChCH,KAAQ,GAAIoJ,EAAMpJ,GAAQyL,UAAWzL,EAAM,GAEnD,IAAKoJ,EAAKjJ,QAAwB,WAAdguC,GAAO7R,IAAmBiI,GAASjI,EAAE5S,eACrD,MAAO,WAKnB,IAAI0kB,GAAWtU,EAAML,OAajB4U,GAXU,WAEV,IADA,IAAIthC,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAIyK,EAAM2jC,GAASrhC,EAAM,OAIzB,OAHQtC,EAAI,IAGC,KAFLA,EAAI,IAEa,GADjBA,EAAI,IAMZ6jC,GAASxU,EAAM9vB,KAYfukC,GAVU,SAAUvzB,GACpB,GAAmB,UAAfszB,GAAOtzB,IAAoBA,GAAO,GAAKA,GAAO,SAI9C,MAAO,CAHCA,GAAO,GACNA,GAAO,EAAK,IACP,IAANA,EACM,GAElB,MAAM,IAAItW,MAAM,sBAAsBsW,IAKtCwzB,GAAS1U,EAAM9vB,KAInBgxB,EAAQ3vB,UAAU2P,IAAM,WACpB,OAAOqzB,GAAUvrC,KAAKg4B,OAG1BM,EAASpgB,IAAM,WAEX,IADA,IAAIjO,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOnf,IAAMuzB,GAEnBpqC,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,GAAoB,IAAhB+M,EAAK5M,QAAoC,WAApBquC,GAAOzhC,EAAK,KAAoBA,EAAK,IAAM,GAAKA,EAAK,IAAM,SAChF,MAAO,SAKnB,IAAI0hC,GAAW3U,EAAML,OACjBiV,GAAS5U,EAAM9vB,KACf2kC,GAAU1uC,KAAKqY,MAEnB0iB,EAAQ3vB,UAAU+tB,IAAM,SAAS6C,GAG7B,YAFa,IAARA,IAAiBA,GAAI,IAEd,IAARA,EAAwBn5B,KAAKg4B,KAAKz7B,MAAM,EAAE,GACvCyD,KAAKg4B,KAAKz7B,MAAM,EAAE,GAAG+I,IAAIumC,KAGpC3T,EAAQ3vB,UAAUqxB,KAAO,SAAST,GAG9B,YAFa,IAARA,IAAiBA,GAAI,GAEnBn5B,KAAKg4B,KAAKz7B,MAAM,EAAE,GAAG+I,KAAI,SAAUgV,EAAEhd,GACxC,OAAOA,EAAE,GAAa,IAAR67B,EAAgB7e,EAAIuxB,GAAQvxB,GAAMA,MAIxDge,EAAShC,IAAM,WAEX,IADA,IAAIrsB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,WAGhF5I,EAAMg2B,OAAOf,IAAM,WAEf,IADA,IAAIrsB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAAI08B,EAAO+R,GAAS1hC,EAAM,QAE1B,YADgBjN,IAAZ48B,EAAK,KAAoBA,EAAK,GAAK,GAChCA,GAGXv4B,EAAMi2B,WAAWt7B,KAAK,CAClByB,EAAG,EACHs6B,KAAM,WAEF,IADA,IAAI9tB,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAGzC,GADA+M,EAAO0hC,GAAS1hC,EAAM,QACD,UAAjB2hC,GAAO3hC,KAAsC,IAAhBA,EAAK5M,QAClB,IAAhB4M,EAAK5M,QAAmC,UAAnBuuC,GAAO3hC,EAAK,KAAmBA,EAAK,IAAM,GAAKA,EAAK,IAAM,GAC/E,MAAO,SAUnB,IAAI6hC,GAAM3uC,KAAK2uC,IAiBXC,GAfkB,SAAUC,GAC5B,IACInoC,EAAE40B,EAAEp9B,EADJ4wC,EAAOD,EAAS,IAWpB,OATIC,EAAO,IACPpoC,EAAI,IACJ40B,GAAK,mBAAqB,oBAAuBA,EAAIwT,EAAK,GAAK,mBAAqBH,GAAIrT,GACxFp9B,EAAI4wC,EAAO,GAAK,EAA0B,mBAAsB5wC,EAAI4wC,EAAK,IAApD,mBAA0D,mBAAqBH,GAAIzwC,KAExGwI,EAAI,mBAAqB,kBAAqBA,EAAIooC,EAAK,IAAM,kBAAoBH,GAAIjoC,GACrF40B,EAAI,kBAAoB,oBAAuBA,EAAIwT,EAAK,IAAM,iBAAmBH,GAAIrT,GACrFp9B,EAAI,KAED,CAACwI,EAAE40B,EAAEp9B,EAAE,IAWd6wC,GAAWlV,EAAML,OACjBwV,GAAUhvC,KAAKqY,MAwBf42B,GAtBkB,WAElB,IADA,IAAIniC,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAQzC,IANA,IAKI+uC,EALA3V,EAAM4V,GAASjiC,EAAM,OACrBpG,EAAIyyB,EAAI,GAAIj7B,EAAIi7B,EAAI,GACpB+V,EAAU,IACVC,EAAU,IACVC,EAAM,GAEHD,EAAUD,EAAUE,GAAK,CAE5B,IAAIxR,EAAQgR,GADZE,EAA6B,IAArBK,EAAUD,IAEbtR,EAAM,GAAKA,EAAM,IAAQ1/B,EAAIwI,EAC9ByoC,EAAUL,EAEVI,EAAUJ,EAGlB,OAAOE,GAAQF,IAKnB/T,EAAQ3vB,UAAU0jC,KAClB/T,EAAQ3vB,UAAUyjC,OAClB9T,EAAQ3vB,UAAUikC,YAAc,WAC5B,OAAOJ,GAAkBpsC,KAAKg4B,OAGlCM,EAAS2T,KACT3T,EAAS0T,OACT1T,EAASkU,YAAc,WAEnB,IADA,IAAIviC,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,OAAO,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,EAAM,CAAC,YAGhF5I,EAAMg2B,OAAO4U,KACb5qC,EAAMg2B,OAAO2U,OACb3qC,EAAMg2B,OAAOmV,YAAcT,GAE3B,IAAIU,GAASzV,EAAM9vB,KAEnBgxB,EAAQ3vB,UAAUswB,MAAQ,SAASz9B,EAAGsxC,GAGlC,YAFgB,IAAXA,IAAoBA,GAAO,QAEtB1vC,IAAN5B,GAAiC,WAAdqxC,GAAOrxC,GACtBsxC,GACA1sC,KAAKg4B,KAAK,GAAK58B,EACR4E,MAEJ,IAAIk4B,EAAQ,CAACl4B,KAAKg4B,KAAK,GAAIh4B,KAAKg4B,KAAK,GAAIh4B,KAAKg4B,KAAK,GAAI58B,GAAI,OAE/D4E,KAAKg4B,KAAK,IAGrBE,EAAQ3vB,UAAUokC,QAAU,WACxB,OAAO3sC,KAAKg4B,KAAKzB,WAAY,GAGjC2B,EAAQ3vB,UAAUqkC,OAAS,SAAS90B,QACnB,IAAXA,IAAoBA,EAAO,GAEhC,IAAI6f,EAAK33B,KACLmgC,EAAMxI,EAAGwI,MAEb,OADAA,EAAI,IAAMtB,GAAaC,GAAKhnB,EACrB,IAAIogB,EAAQiI,EAAK,OAAOtH,MAAMlB,EAAGkB,SAAS,IAGlDX,EAAQ3vB,UAAUskC,SAAW,SAAS/0B,GAGrC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB9X,KAAK4sC,QAAQ90B,IAGrBogB,EAAQ3vB,UAAUukC,OAAS5U,EAAQ3vB,UAAUqkC,OAC7C1U,EAAQ3vB,UAAUwkC,SAAW7U,EAAQ3vB,UAAUskC,SAE/C3U,EAAQ3vB,UAAUpG,IAAM,SAAS6qC,GAC7B,IAAIrlC,EAAMqlC,EAAGnW,MAAM,KACfe,EAAOjwB,EAAI,GACXslC,EAAUtlC,EAAI,GACdpN,EAAMyF,KAAK43B,KACf,GAAIqV,EAAS,CACT,IAAI3vC,EAAIs6B,EAAKzwB,QAAQ8lC,GACrB,GAAI3vC,GAAK,EAAK,OAAO/C,EAAI+C,GACzB,MAAM,IAAIsE,MAAO,mBAAqBqrC,EAAU,YAAcrV,GAE9D,OAAOr9B,GAIf,IAAI2yC,GAASlW,EAAM9vB,KACfimC,GAAQhwC,KAAKiwB,IAEbggB,GAAM,KACNC,GAAW,GAEfnV,EAAQ3vB,UAAU+kC,UAAY,SAASC,GACnC,QAAYvwC,IAARuwC,GAAqC,WAAhBL,GAAOK,GAAmB,CAC/C,GAAY,IAARA,EAEA,OAAO,IAAIrV,EAAQ,CAAC,EAAE,EAAE,EAAEl4B,KAAKg4B,KAAK,IAAK,OAE7C,GAAY,IAARuV,EAEA,OAAO,IAAIrV,EAAQ,CAAC,IAAI,IAAI,IAAIl4B,KAAKg4B,KAAK,IAAK,OAGnD,IAAIwV,EAAUxtC,KAAKstC,YACf1V,EAAO,MACP6V,EAAWJ,GAEXtV,EAAO,SAAU2V,EAAKC,GACtB,IAAIC,EAAMF,EAAIG,YAAYF,EAAM,GAAK/V,GACjCkW,EAAKF,EAAIN,YACb,OAAInwC,KAAK4wC,IAAIR,EAAMO,GAAMV,KAAQK,IAEtBG,EAEJE,EAAKP,EAAMxV,EAAK2V,EAAKE,GAAO7V,EAAK6V,EAAKD,IAG7CrX,GAAOkX,EAAUD,EAAMxV,EAAK,IAAIG,EAAQ,CAAC,EAAE,EAAE,IAAKl4B,MAAQ+3B,EAAK/3B,KAAM,IAAIk4B,EAAQ,CAAC,IAAI,IAAI,QAAQ5B,MACtG,OAAO,IAAI4B,EAAQ5B,EAAIhtB,OAAQ,CAACtJ,KAAKg4B,KAAK,MAE9C,OAAOgW,GAAcplC,WAAM,EAAS5I,KAAS,KAAEzD,MAAM,EAAE,KAI3D,IAAIyxC,GAAgB,SAAUnqC,EAAE40B,EAAEp9B,GAM9B,MAAO,OAHPwI,EAAIoqC,GAAYpqC,IAGI,OAFpB40B,EAAIwV,GAAYxV,IAEiB,OADjCp9B,EAAI4yC,GAAY5yC,KAIhB4yC,GAAc,SAAUtvB,GAExB,OADAA,GAAK,MACO,OAAUA,EAAE,MAAQwuB,IAAOxuB,EAAE,MAAO,MAAO,MAGvDuvB,GAAe,GAEfC,GAASnX,EAAM9vB,KAGfknC,GAAM,SAAUC,EAAMC,EAAM5V,QACjB,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAIpyB,EAAO,GAAIpJ,EAAMyL,UAAUtL,OAAS,EAChCH,KAAQ,GAAIoJ,EAAMpJ,GAAQyL,UAAWzL,EAAM,GAEnD,IAAI06B,EAAOtxB,EAAK,IAAM,OAKtB,GAJK4nC,GAAatW,IAAUtxB,EAAKjJ,SAE7Bu6B,EAAOh9B,OAAO4M,KAAK0mC,IAAc,KAEhCA,GAAatW,GACd,MAAM,IAAIh2B,MAAO,sBAAwBg2B,EAAO,mBAIpD,MAFqB,WAAjBuW,GAAOE,KAAsBA,EAAO,IAAInW,EAAQmW,IAC/B,WAAjBF,GAAOG,KAAsBA,EAAO,IAAIpW,EAAQoW,IAC7CJ,GAAatW,GAAMyW,EAAMC,EAAM5V,GACjCG,MAAMwV,EAAKxV,QAAUH,GAAK4V,EAAKzV,QAAUwV,EAAKxV,WAGvDX,EAAQ3vB,UAAU6lC,IAClBlW,EAAQ3vB,UAAUslC,YAAc,SAASS,EAAM5V,QACnC,IAANA,IAAeA,EAAE,IAEtB,IADA,IAAIpyB,EAAO,GAAIpJ,EAAMyL,UAAUtL,OAAS,EAChCH,KAAQ,GAAIoJ,EAAMpJ,GAAQyL,UAAWzL,EAAM,GAEnD,OAAOkxC,GAAIxlC,WAAM,EAAQ,CAAE5I,KAAMsuC,EAAM5V,GAAIpvB,OAAQhD,KAGpD4xB,EAAQ3vB,UAAUgmC,YAAc,SAAS7B,QACxB,IAAXA,IAAoBA,GAAO,GAEhC,IAAIpW,EAAMt2B,KAAKg4B,KACX58B,EAAIk7B,EAAI,GACZ,OAAIoW,GACH1sC,KAAKg4B,KAAO,CAAC1B,EAAI,GAAGl7B,EAAGk7B,EAAI,GAAGl7B,EAAGk7B,EAAI,GAAGl7B,EAAGA,GACpC4E,MAEA,IAAIk4B,EAAQ,CAAC5B,EAAI,GAAGl7B,EAAGk7B,EAAI,GAAGl7B,EAAGk7B,EAAI,GAAGl7B,EAAGA,GAAI,QAIxD88B,EAAQ3vB,UAAUimC,SAAW,SAAS12B,QACrB,IAAXA,IAAoBA,EAAO,GAEhC,IAAI6f,EAAK33B,KACLwhC,EAAM7J,EAAG6J,MAGb,OAFAA,EAAI,IAAM3C,GAAaC,GAAKhnB,EACxB0pB,EAAI,GAAK,IAAKA,EAAI,GAAK,GACpB,IAAItJ,EAAQsJ,EAAK,OAAO3I,MAAMlB,EAAGkB,SAAS,IAGlDX,EAAQ3vB,UAAUkmC,WAAa,SAAS32B,GAGvC,YAFgB,IAAXA,IAAoBA,EAAO,GAEzB9X,KAAKwuC,UAAU12B,IAGvB,IAAI42B,GAAS1X,EAAM9vB,KAEnBgxB,EAAQ3vB,UAAUvH,IAAM,SAASgsC,EAAI5sC,EAAOssC,QACxB,IAAXA,IAAoBA,GAAO,GAEhC,IAAI/kC,EAAMqlC,EAAGnW,MAAM,KACfe,EAAOjwB,EAAI,GACXslC,EAAUtlC,EAAI,GACdpN,EAAMyF,KAAK43B,KACf,GAAIqV,EAAS,CACT,IAAI3vC,EAAIs6B,EAAKzwB,QAAQ8lC,GACrB,GAAI3vC,GAAK,EAAG,CACR,GAAqB,UAAjBoxC,GAAOtuC,GACP,OAAOA,EAAMuuC,OAAO,IAChB,IAAK,IACL,IAAK,IAAKp0C,EAAI+C,KAAO8C,EAAO,MAC5B,IAAK,IAAK7F,EAAI+C,KAAQ8C,EAAMy5B,OAAO,GAAK,MACxC,IAAK,IAAKt/B,EAAI+C,KAAQ8C,EAAMy5B,OAAO,GAAK,MACxC,QAASt/B,EAAI+C,IAAM8C,MAEpB,CAAA,GAAsB,WAAlBsuC,GAAOtuC,GAGd,MAAM,IAAIwB,MAAM,mCAFhBrH,EAAI+C,GAAK8C,EAIb,IAAIwuC,EAAM,IAAI1W,EAAQ39B,EAAKq9B,GAC3B,OAAI8U,GACA1sC,KAAKg4B,KAAO4W,EAAI5W,KACTh4B,MAEJ4uC,EAEX,MAAM,IAAIhtC,MAAO,mBAAqBqrC,EAAU,YAAcrV,GAE9D,OAAOr9B,GAIf,IAAIwgC,GAAQ,SAAUsT,EAAMC,EAAM5V,GAC9B,IAAImW,EAAOR,EAAKrW,KACZ8W,EAAOR,EAAKtW,KAChB,OAAO,IAAIE,EACP2W,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5B,QAKRX,GAAa5X,IAAMyE,GAEnB,IAAIgU,GAAS5xC,KAAKgwB,KACd6hB,GAAQ7xC,KAAKiwB,IAEb6hB,GAAO,SAAUZ,EAAMC,EAAM5V,GAC7B,IAAI/wB,EAAM0mC,EAAKrW,KACXkX,EAAKvnC,EAAI,GACTwnC,EAAKxnC,EAAI,GACTynC,EAAKznC,EAAI,GACT03B,EAAQiP,EAAKtW,KACbqX,EAAKhQ,EAAM,GACXiQ,EAAKjQ,EAAM,GACXkQ,EAAKlQ,EAAM,GACf,OAAO,IAAInH,EACP6W,GAAOC,GAAME,EAAG,IAAM,EAAExW,GAAKsW,GAAMK,EAAG,GAAK3W,GAC3CqW,GAAOC,GAAMG,EAAG,IAAM,EAAEzW,GAAKsW,GAAMM,EAAG,GAAK5W,GAC3CqW,GAAOC,GAAMI,EAAG,IAAM,EAAE1W,GAAKsW,GAAMO,EAAG,GAAK7W,GAC3C,QAKRwV,GAAae,KAAOA,GAEpB,IAAIO,GAAQ,SAAUnB,EAAMC,EAAM5V,GAC9B,IAAImW,EAAOR,EAAKlO,MACZ2O,EAAOR,EAAKnO,MAChB,OAAO,IAAIjI,EACP2W,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5BA,EAAK,GAAKnW,GAAKoW,EAAK,GAAGD,EAAK,IAC5B,QAKRX,GAAa/N,IAAMqP,GAEnB,IAAIC,GAAO,SAAUpB,EAAMC,EAAM5V,EAAGtzB,GAChC,IAAI/K,EAAQ6hC,EAER2S,EAAMC,EAmBNY,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAM9BC,EAAKC,EAwBT,MAhDU,QAAN7qC,GACAypC,EAAOR,EAAKhT,MACZyT,EAAOR,EAAKjT,OACC,QAANj2B,GACPypC,EAAOR,EAAKzP,MACZkQ,EAAOR,EAAK1P,OACC,QAANx5B,GACPypC,EAAOR,EAAK3R,MACZoS,EAAOR,EAAK5R,OACC,QAANt3B,GACPypC,EAAOR,EAAKrQ,MACZ8Q,EAAOR,EAAKtQ,OACC,QAAN54B,GAAqB,QAANA,IACtBA,EAAI,MACJypC,EAAOR,EAAKhN,MACZyN,EAAOR,EAAKjN,OAIO,MAAnBj8B,EAAEy0B,OAAO,EAAG,KACI6V,GAAfr1C,EAASw0C,GAAoB,GAAIe,EAAOv1C,EAAO,GAAIy1C,EAAOz1C,EAAO,GAChDs1C,GAAjBzT,EAAW4S,GAAsB,GAAIe,EAAO3T,EAAS,GAAI6T,EAAO7T,EAAS,IAKzEtoB,MAAM87B,IAAU97B,MAAM+7B,GAUf/7B,MAAM87B,GAGN97B,MAAM+7B,GAIdM,EAAM7wB,OAAOpQ,KAHbihC,EAAMN,EACO,GAARG,GAAqB,GAARA,GAAmB,OAAL1qC,IAAc4qC,EAAMH,KAJpDI,EAAMP,EACO,GAARK,GAAqB,GAARA,GAAmB,OAAL3qC,IAAc4qC,EAAMJ,IAHpDK,EAAMP,EAAOhX,GAPTiX,EAAOD,GAAQC,EAAOD,EAAO,IACxBC,GAAMD,EAAK,KACTC,EAAOD,GAAQA,EAAOC,EAAO,IAC/BA,EAAK,IAAID,EAETC,EAAOD,QAaR1yC,IAARgzC,IAAqBA,EAAMJ,EAAOlX,GAAKmX,EAAOD,IAE3C,IAAI1X,EAAQ,CAAC+X,EAAKD,EADnBF,EAAOpX,GAAKqX,EAAKD,IACa1qC,IAGpC8qC,GAAQ,SAAU7B,EAAMC,EAAM5V,GACjC,OAAO+W,GAAKpB,EAAMC,EAAM5V,EAAG,QAI5BwV,GAAa1M,IAAM0O,GACnBhC,GAAa7M,IAAM6O,GAEnB,IAAIC,GAAQ,SAAU9B,EAAMC,EAAM5V,GAC9B,IAAI0X,EAAK/B,EAAKn2B,MACVm4B,EAAK/B,EAAKp2B,MACd,OAAO,IAAIggB,EAAQkY,EAAK1X,GAAK2X,EAAGD,GAAK,QAIzClC,GAAah2B,IAAMi4B,GAEnB,IAAIG,GAAQ,SAAUjC,EAAMC,EAAM5V,GACjC,OAAO+W,GAAKpB,EAAMC,EAAM5V,EAAG,QAI5BwV,GAAaxR,IAAM4T,GAEnB,IAAIC,GAAQ,SAAUlC,EAAMC,EAAM5V,GACjC,OAAO+W,GAAKpB,EAAMC,EAAM5V,EAAG,QAI5BwV,GAAalQ,IAAMuS,GAEnB,IAAIhV,GAAQ,SAAU8S,EAAMC,EAAM5V,GACjC,OAAO+W,GAAKpB,EAAMC,EAAM5V,EAAG,QAI5BwV,GAAa7S,IAAME,GAEnB,IAAIiV,GAAQ,SAAUnC,EAAMC,EAAM5V,GACjC,OAAO+W,GAAKpB,EAAMC,EAAM5V,EAAG,QAI5BwV,GAAatP,IAAM4R,GAEnB,IAAIC,GAAazZ,EAAMX,SACnBqa,GAAQvzC,KAAKiwB,IACbujB,GAASxzC,KAAKgwB,KACdyjB,GAAOzzC,KAAK45B,GACZ8Z,GAAQ1zC,KAAKygC,IACbkT,GAAQ3zC,KAAK0jC,IACbkQ,GAAU5zC,KAAKmjC,MAEf0Q,GAAU,SAAUC,EAAQrZ,EAAMsZ,QACpB,IAATtZ,IAAkBA,EAAK,aACX,IAAZsZ,IAAqBA,EAAQ,MAElC,IAAIrqC,EAAIoqC,EAAO5zC,OACV6zC,IAAWA,EAAUzqC,MAAMC,KAAK,IAAID,MAAMI,IAAIvB,KAAI,WAAc,OAAO,MAE5E,IAAI9K,EAAIqM,EAAIqqC,EAAQC,QAAO,SAAS/1C,EAAGC,GAAK,OAAOD,EAAIC,KAIvD,GAHA61C,EAAQl2C,SAAQ,SAAUo2C,EAAE9zC,GAAK4zC,EAAQ5zC,IAAM9C,KAE/Cy2C,EAASA,EAAO3rC,KAAI,SAAUxB,GAAK,OAAO,IAAIo0B,EAAQp0B,MACzC,SAAT8zB,EACA,OAAOyZ,GAAcJ,EAAQC,GAQjC,IANA,IAAII,EAAQL,EAAOM,QACfC,EAAMF,EAAMnvC,IAAIy1B,GAChB6Z,EAAM,GACNC,EAAK,EACLC,EAAK,EAEAr0C,EAAE,EAAGA,EAAEk0C,EAAIn0C,OAAQC,IAGxB,GAFAk0C,EAAIl0C,IAAMk0C,EAAIl0C,IAAM,GAAK4zC,EAAQ,GACjCO,EAAIz1C,KAAK4X,MAAM49B,EAAIl0C,IAAM,EAAI4zC,EAAQ,IACd,MAAnBtZ,EAAK+W,OAAOrxC,KAAesW,MAAM49B,EAAIl0C,IAAK,CAC1C,IAAIs0C,EAAIJ,EAAIl0C,GAAK,IAAMszC,GACvBc,GAAMb,GAAMe,GAAKV,EAAQ,GACzBS,GAAMb,GAAMc,GAAKV,EAAQ,GAIjC,IAAIrY,EAAQyY,EAAMzY,QAAUqY,EAAQ,GACpCD,EAAOj2C,SAAQ,SAAU8I,EAAE+tC,GACvB,IAAIC,EAAOhuC,EAAE3B,IAAIy1B,GACjBiB,GAAS/0B,EAAE+0B,QAAUqY,EAAQW,EAAG,GAChC,IAAK,IAAIv0C,EAAE,EAAGA,EAAEk0C,EAAIn0C,OAAQC,IACxB,IAAKsW,MAAMk+B,EAAKx0C,IAEZ,GADAm0C,EAAIn0C,IAAM4zC,EAAQW,EAAG,GACE,MAAnBja,EAAK+W,OAAOrxC,GAAY,CACxB,IAAIs0C,EAAIE,EAAKx0C,GAAK,IAAMszC,GACxBc,GAAMb,GAAMe,GAAKV,EAAQW,EAAG,GAC5BF,GAAMb,GAAMc,GAAKV,EAAQW,EAAG,QAE5BL,EAAIl0C,IAAMw0C,EAAKx0C,GAAK4zC,EAAQW,EAAG,MAM/C,IAAK,IAAI7W,EAAI,EAAGA,EAAIwW,EAAIn0C,OAAQ29B,IAC5B,GAAyB,MAArBpD,EAAK+W,OAAO3T,GAAc,CAE1B,IADA,IAAI+W,EAAMhB,GAAQY,EAAKF,EAAIzW,GAAM0W,EAAKD,EAAIzW,IAAQ4V,GAAO,IAClDmB,EAAM,GAAKA,GAAO,IACzB,KAAOA,GAAO,KAAOA,GAAO,IAC5BP,EAAIxW,GAAO+W,OAEXP,EAAIxW,GAAOwW,EAAIxW,GAAKyW,EAAIzW,GAIhC,OADAnC,GAAShyB,EACF,IAAKqxB,EAAQsZ,EAAK5Z,GAAOiB,MAAMA,EAAQ,OAAU,EAAIA,GAAO,IAInEwY,GAAgB,SAAUJ,EAAQC,GAGlC,IAFA,IAAIrqC,EAAIoqC,EAAO5zC,OACXm0C,EAAM,CAAC,EAAE,EAAE,EAAE,GACRl0C,EAAE,EAAGA,EAAI2zC,EAAO5zC,OAAQC,IAAK,CAClC,IAAI00C,EAAMf,EAAO3zC,GACbo7B,EAAIwY,EAAQ5zC,GAAKuJ,EACjByvB,EAAM0b,EAAIha,KACdwZ,EAAI,IAAMd,GAAMpa,EAAI,GAAG,GAAKoC,EAC5B8Y,EAAI,IAAMd,GAAMpa,EAAI,GAAG,GAAKoC,EAC5B8Y,EAAI,IAAMd,GAAMpa,EAAI,GAAG,GAAKoC,EAC5B8Y,EAAI,IAAMlb,EAAI,GAAKoC,EAMvB,OAJA8Y,EAAI,GAAKb,GAAOa,EAAI,IACpBA,EAAI,GAAKb,GAAOa,EAAI,IACpBA,EAAI,GAAKb,GAAOa,EAAI,IAChBA,EAAI,GAAK,WAAaA,EAAI,GAAK,GAC5B,IAAItZ,EAAQuY,GAAWe,KAQ9BS,GAASjb,EAAM9vB,KAEfgrC,GAAQ/0C,KAAKiwB,IAEbnO,GAAQ,SAASgyB,GAGjB,IAAIkB,EAAQ,MACRC,EAAS9Z,EAAS,QAClB+Z,EAAU,EAEVC,EAAU,CAAC,EAAG,GACdC,EAAO,GACPC,EAAW,CAAC,EAAE,GACdC,GAAW,EACXC,EAAU,GACVC,GAAO,EACPC,EAAO,EACPC,EAAO,EACPC,GAAoB,EACpBC,EAAc,GACdC,GAAY,EACZC,EAAS,EAITC,EAAY,SAASjC,GAMrB,IALAA,EAASA,GAAU,CAAC,OAAQ,UACK,WAAnBgB,GAAOhB,IAAwB3Y,EAAS6a,QAClD7a,EAAS6a,OAAOlC,EAAOrqB,iBACvBqqB,EAAS3Y,EAAS6a,OAAOlC,EAAOrqB,gBAEb,UAAnBqrB,GAAOhB,GAAqB,CAEN,IAAlBA,EAAO5zC,SACP4zC,EAAS,CAACA,EAAO,GAAIA,EAAO,KAGhCA,EAASA,EAAO10C,MAAM,GAEtB,IAAK,IAAIuH,EAAE,EAAGA,EAAEmtC,EAAO5zC,OAAQyG,IAC3BmtC,EAAOntC,GAAKw0B,EAAS2Y,EAAOntC,IAGhCyuC,EAAKl1C,OAAS,EACd,IAAK,IAAI+1C,EAAI,EAAGA,EAAInC,EAAO5zC,OAAQ+1C,IAC/Bb,EAAKv2C,KAAKo3C,GAAKnC,EAAO5zC,OAAO,IAIrC,OADAg2C,IACOX,EAAUzB,GAGjBqC,EAAW,SAASlzC,GACpB,GAAgB,MAAZqyC,EAAkB,CAGlB,IAFA,IAAI9tC,EAAI8tC,EAASp1C,OAAO,EACpBC,EAAI,EACDA,EAAIqH,GAAKvE,GAASqyC,EAASn1C,IAC9BA,IAEJ,OAAOA,EAAE,EAEb,OAAO,GAGPi2C,EAAgB,SAAU9qC,GAAK,OAAOA,GACtC+qC,EAAa,SAAU/qC,GAAK,OAAOA,GAcnCgrC,EAAW,SAASC,EAAKC,GACzB,IAAI3B,EAAKvpC,EAET,GADiB,MAAbkrC,IAAqBA,GAAY,GACjC//B,MAAM8/B,IAAiB,OAARA,EAAiB,OAAOtB,EAavC3pC,EAZCkrC,EAYGD,EAXAjB,GAAaA,EAASp1C,OAAS,EAEvBi2C,EAASI,IACRjB,EAASp1C,OAAO,GAClBw1C,IAASD,GAEXc,EAAMd,IAASC,EAAOD,GAEvB,EAOZnqC,EAAI+qC,EAAW/qC,GAEVkrC,IACDlrC,EAAI8qC,EAAc9qC,IAGP,IAAXwqC,IAAgBxqC,EAAIypC,GAAMzpC,EAAGwqC,IAEjCxqC,EAAI+pC,EAAS,GAAM/pC,GAAK,EAAI+pC,EAAS,GAAKA,EAAS,IAEnD/pC,EAAItL,KAAKoV,IAAI,EAAGpV,KAAKC,IAAI,EAAGqL,IAE5B,IAAIjO,EAAI2C,KAAKkwB,MAAU,IAAJ5kB,GAEnB,GAAIuqC,GAAaD,EAAYv4C,GACzBw3C,EAAMe,EAAYv4C,OACf,CACH,GAAwB,UAApBy3C,GAAOS,GAEP,IAAK,IAAIp1C,EAAE,EAAGA,EAAEi1C,EAAKl1C,OAAQC,IAAK,CAC9B,IAAIG,EAAI80C,EAAKj1C,GACb,GAAImL,GAAKhL,EAAG,CACRu0C,EAAMU,EAAQp1C,GACd,MAEJ,GAAKmL,GAAKhL,GAAOH,IAAOi1C,EAAKl1C,OAAO,EAAK,CACrC20C,EAAMU,EAAQp1C,GACd,MAEJ,GAAImL,EAAIhL,GAAKgL,EAAI8pC,EAAKj1C,EAAE,GAAI,CACxBmL,GAAKA,EAAEhL,IAAI80C,EAAKj1C,EAAE,GAAGG,GACrBu0C,EAAM1Z,EAASuV,YAAY6E,EAAQp1C,GAAIo1C,EAAQp1C,EAAE,GAAImL,EAAG0pC,GACxD,WAGmB,aAApBF,GAAOS,KACdV,EAAMU,EAAQjqC,IAEduqC,IAAaD,EAAYv4C,GAAKw3C,GAEtC,OAAOA,GAGPqB,EAAa,WAAc,OAAON,EAAc,IAEpDG,EAAUjC,GAIV,IAAIvY,EAAI,SAASpe,GACb,IAAIxW,EAAIw0B,EAASmb,EAASn5B,IAC1B,OAAIq4B,GAAQ7uC,EAAE6uC,GAAgB7uC,EAAE6uC,KAAyB7uC,GAwM7D,OArMA40B,EAAEkb,QAAU,SAASA,GACjB,GAAe,MAAXA,EAAiB,CACjB,GAAwB,UAApB3B,GAAO2B,GACPnB,EAAWmB,EACXtB,EAAU,CAACsB,EAAQ,GAAIA,EAAQA,EAAQv2C,OAAO,QAC3C,CACH,IAAIwB,EAAIy5B,EAASub,QAAQvB,GAErBG,EADY,IAAZmB,EACW,CAAC/0C,EAAE0T,IAAK1T,EAAEzB,KAEVk7B,EAASwb,OAAOj1C,EAAG,IAAK+0C,GAG3C,OAAOlb,EAEX,OAAO+Z,GAIX/Z,EAAEqb,OAAS,SAASA,GAChB,IAAKprC,UAAUtL,OACX,OAAOi1C,EAEXM,EAAOmB,EAAO,GACdlB,EAAOkB,EAAOA,EAAO12C,OAAO,GAC5Bk1C,EAAO,GACP,IAAI/3C,EAAIk4C,EAAQr1C,OAChB,GAAK02C,EAAO12C,SAAW7C,GAAOo4C,IAASC,EAEnC,IAAK,IAAIv1C,EAAI,EAAGo5B,EAAOjwB,MAAMC,KAAKqtC,GAASz2C,EAAIo5B,EAAKr5B,OAAQC,GAAK,EAAG,CAChE,IAAIuB,EAAI63B,EAAKp5B,GAEfi1C,EAAKv2C,MAAM6C,EAAE+zC,IAASC,EAAKD,QAE1B,CACH,IAAK,IAAI9uC,EAAE,EAAGA,EAAEtJ,EAAGsJ,IACfyuC,EAAKv2C,KAAK8H,GAAGtJ,EAAE,IAEnB,GAAIu5C,EAAO12C,OAAS,EAAG,CAEnB,IAAI22C,EAAOD,EAAOzuC,KAAI,SAAUzG,EAAEvB,GAAK,OAAOA,GAAGy2C,EAAO12C,OAAO,MAC3D42C,EAAUF,EAAOzuC,KAAI,SAAUzG,GAAK,OAAQA,EAAI+zC,IAASC,EAAOD,MAC/DqB,EAAQC,OAAM,SAAUR,EAAKp2C,GAAK,OAAO02C,EAAK12C,KAAOo2C,OACtDF,EAAa,SAAU/qC,GACnB,GAAIA,GAAK,GAAKA,GAAK,EAAK,OAAOA,EAE/B,IADA,IAAInL,EAAI,EACDmL,GAAKwrC,EAAQ32C,EAAE,IAAMA,IAC5B,IAAIo7B,GAAKjwB,EAAIwrC,EAAQ32C,KAAO22C,EAAQ32C,EAAE,GAAK22C,EAAQ32C,IAEnD,OADU02C,EAAK12C,GAAKo7B,GAAKsb,EAAK12C,EAAE,GAAK02C,EAAK12C,OAQ1D,OADAg1C,EAAU,CAACM,EAAMC,GACVna,GAGXA,EAAEd,KAAO,SAASuc,GACd,OAAKxrC,UAAUtL,QAGf80C,EAAQgC,EACRd,IACO3a,GAJIyZ,GAOfzZ,EAAE0b,MAAQ,SAASnD,EAAQsB,GAEvB,OADAW,EAAUjC,GACHvY,GAGXA,EAAEkW,IAAM,SAASyF,GAEb,OADA1B,EAAO0B,EACA3b,GAGXA,EAAE4b,OAAS,SAASZ,GAChB,OAAK/qC,UAAUtL,QAGfg1C,EAAUqB,EACHhb,GAHI2Z,GAMf3Z,EAAE6b,iBAAmB,SAASj6B,GAkC1B,OAjCS,MAALA,IAAaA,GAAI,GACrBw4B,EAAoBx4B,EACpB+4B,IAEIE,EADAT,EACgB,SAASrqC,GAUrB,IATA,IAAI+rC,EAAKf,EAAS,GAAG,GAAMtT,MAAM,GAC7BsU,EAAKhB,EAAS,GAAG,GAAMtT,MAAM,GAC7BuU,EAAMF,EAAKC,EACXE,EAAWlB,EAAShrC,GAAG,GAAM03B,MAAM,GACnCyU,EAAUJ,GAAOC,EAAKD,GAAM/rC,EAC5BosC,EAASF,EAAWC,EACpB1V,EAAK,EACL/E,EAAK,EACLsT,EAAW,GACPtwC,KAAK4wC,IAAI8G,GAAU,KAAUpH,KAAa,GAEtCiH,IAAOG,IAAW,GAClBA,EAAS,GACT3V,EAAKz2B,EACLA,GAAgB,IAAV0xB,EAAK1xB,KAEX0xB,EAAK1xB,EACLA,GAAgB,IAAVy2B,EAAKz2B,IAEfksC,EAAWlB,EAAShrC,GAAG,GAAM03B,MAAM,GAC5B0U,EAASF,EAAWC,EAGnC,OAAOnsC,GAGK,SAAUA,GAAK,OAAOA,GAEnCiwB,GAGXA,EAAEoc,QAAU,SAASr3C,GACjB,OAAS,MAALA,GACkB,WAAdw0C,GAAOx0C,KACPA,EAAI,CAACA,EAAEA,IAEX+0C,EAAW/0C,EACJi7B,GAEA8Z,GAIf9Z,EAAEuY,OAAS,SAAS8D,EAAWnG,GAEvBjmC,UAAUtL,OAAS,IAAKuxC,EAAM,OAClC,IAAIhxC,EAAS,GAEb,GAAyB,IAArB+K,UAAUtL,OACVO,EAAS80C,EAAQn2C,MAAM,QAEpB,GAAkB,IAAdw4C,EACPn3C,EAAS,CAAC86B,EAAE,UAET,GAAIqc,EAAY,EAAG,CACtB,IAAIC,EAAK1C,EAAQ,GACb2C,EAAK3C,EAAQ,GAAK0C,EACtBp3C,EAASs3C,GAAU,EAAGH,GAAW,GAAOzvC,KAAI,SAAUhI,GAAK,OAAOo7B,EAAGsc,EAAO13C,GAAGy3C,EAAU,GAAME,UAE5F,CACHhE,EAAS,GACT,IAAIkE,EAAU,GACd,GAAI1C,GAAaA,EAASp1C,OAAS,EAC/B,IAAK,IAAIC,EAAI,EAAG83C,EAAM3C,EAASp1C,OAAQg4C,EAAM,GAAKD,EAAKC,EAAM/3C,EAAI83C,EAAM93C,EAAI83C,EAAKC,EAAM/3C,IAAMA,IACxF63C,EAAQn5C,KAAiC,IAA3By2C,EAASn1C,EAAE,GAAGm1C,EAASn1C,UAGzC63C,EAAU7C,EAEd10C,EAASu3C,EAAQ7vC,KAAI,SAAUgV,GAAK,OAAOoe,EAAEpe,MAMjD,OAHIge,EAASsW,KACThxC,EAASA,EAAO0H,KAAI,SAAUxB,GAAK,OAAOA,EAAE8qC,SAEzChxC,GAGX86B,EAAE4c,MAAQ,SAASxxC,GACf,OAAS,MAALA,GACAkvC,EAAYlvC,EACL40B,GAEAsa,GAIfta,EAAE6c,MAAQ,SAAS9c,GACf,OAAS,MAALA,GACAwa,EAASxa,EACFC,GAEAua,GAIfva,EAAE8c,OAAS,SAAS32C,GAChB,OAAS,MAALA,GACAuzC,EAAS9Z,EAASz5B,GACX65B,GAEA0Z,GAIR1Z,GAGX,SAASwc,GAAUnkC,EAAMF,EAAO4kC,GAI9B,IAHA,IAAIrB,EAAQ,GACRsB,EAAY3kC,EAAOF,EACnBukC,EAAOK,EAAoBC,EAAY7kC,EAAQ,EAAIA,EAAQ,EAAxCA,EACdvT,EAAIyT,EAAM2kC,EAAYp4C,EAAI83C,EAAM93C,EAAI83C,EAAKM,EAAYp4C,IAAMA,IAClE82C,EAAMp4C,KAAKsB,GAEb,OAAO82C,EAYT,IAAIuB,GAAS,SAAS1E,GAClB,IAAI52C,EAAQ6hC,EAAUC,EAElByZ,EAAGC,EAAMC,EAAMC,EAEnB,GAAsB,KADtB9E,EAASA,EAAO3rC,KAAI,SAAUxB,GAAK,OAAO,IAAIo0B,EAAQp0B,OAC3CzG,OAENhD,EAAS42C,EAAO3rC,KAAI,SAAUxB,GAAK,OAAOA,EAAEq8B,SAAW0V,EAAOx7C,EAAO,GAAIy7C,EAAOz7C,EAAO,GACxFu7C,EAAI,SAASntC,GACT,IAAI03B,EAAO,CAAC,EAAG,EAAG,GAAG76B,KAAI,SAAUhI,GAAK,OAAOu4C,EAAKv4C,GAAMmL,GAAKqtC,EAAKx4C,GAAKu4C,EAAKv4C,OAC9E,OAAO,IAAI46B,EAAQiI,EAAK,aAEzB,GAAsB,IAAlB8Q,EAAO5zC,OAEb6+B,EAAW+U,EAAO3rC,KAAI,SAAUxB,GAAK,OAAOA,EAAEq8B,SAAW0V,EAAO3Z,EAAS,GAAI4Z,EAAO5Z,EAAS,GAAI6Z,EAAO7Z,EAAS,GAClH0Z,EAAI,SAASntC,GACT,IAAI03B,EAAO,CAAC,EAAG,EAAG,GAAG76B,KAAI,SAAUhI,GAAK,OAAS,EAAEmL,IAAI,EAAEA,GAAKotC,EAAKv4C,GAAO,GAAK,EAAEmL,GAAKA,EAAIqtC,EAAKx4C,GAAOmL,EAAIA,EAAIstC,EAAKz4C,MACnH,OAAO,IAAI46B,EAAQiI,EAAK,aAEzB,GAAsB,IAAlB8Q,EAAO5zC,OAAc,CAE5B,IAAI24C,EACH7Z,EAAW8U,EAAO3rC,KAAI,SAAUxB,GAAK,OAAOA,EAAEq8B,SAAW0V,EAAO1Z,EAAS,GAAI2Z,EAAO3Z,EAAS,GAAI4Z,EAAO5Z,EAAS,GAAI6Z,EAAO7Z,EAAS,GACtIyZ,EAAI,SAASntC,GACT,IAAI03B,EAAO,CAAC,EAAG,EAAG,GAAG76B,KAAI,SAAUhI,GAAK,OAAS,EAAEmL,IAAI,EAAEA,IAAI,EAAEA,GAAKotC,EAAKv4C,GAAO,GAAK,EAAEmL,IAAM,EAAEA,GAAKA,EAAIqtC,EAAKx4C,GAAO,GAAK,EAAEmL,GAAKA,EAAIA,EAAIstC,EAAKz4C,GAAOmL,EAAEA,EAAEA,EAAIutC,EAAK14C,MACjK,OAAO,IAAI46B,EAAQiI,EAAK,aAEzB,GAAsB,IAAlB8Q,EAAO5zC,OAAc,CAC5B,IAAI44C,EAAKN,GAAO1E,EAAO10C,MAAM,EAAG,IAC5B25C,EAAKP,GAAO1E,EAAO10C,MAAM,EAAG,IAChCq5C,EAAI,SAASntC,GACT,OAAIA,EAAI,GACGwtC,EAAK,EAAFxtC,GAEHytC,EAAW,GAAPztC,EAAE,MAIzB,OAAOmtC,GAGPO,GAAW,SAAUlF,GACrB,IAAIvY,EAAIid,GAAO1E,GAEf,OADAvY,EAAEzZ,MAAQ,WAAc,OAAOA,GAAMyZ,IAC9BA,GAWP0d,GAAQ,SAAUtlC,EAAQF,EAAKgnB,GAC/B,IAAKwe,GAAMxe,GACP,MAAM,IAAIh2B,MAAM,sBAAwBg2B,GAE5C,OAAOwe,GAAMxe,GAAM9mB,EAAQF,IAG3BylC,GAAU,SAAU3d,GAAK,OAAO,SAAU5nB,EAAOF,GAC7C,IAAI0lC,EAAKhe,EAAS1nB,GAAK0lB,MACnB8Z,EAAK9X,EAASxnB,GAAQwlB,MAC1B,OAAOgC,EAAShC,IAAIoC,EAAE4d,EAAIlG,MAG9BmG,GAAO,SAAU7d,GAAK,OAAO,SAAU4d,EAAIlG,GACvC,IAAIxB,EAAM,GAIV,OAHAA,EAAI,GAAKlW,EAAE4d,EAAG,GAAIlG,EAAG,IACrBxB,EAAI,GAAKlW,EAAE4d,EAAG,GAAIlG,EAAG,IACrBxB,EAAI,GAAKlW,EAAE4d,EAAG,GAAIlG,EAAG,IACdxB,IAGX4H,GAAS,SAAUp7C,GAAK,OAAOA,GAC/Bq7C,GAAW,SAAUr7C,EAAEC,GAAK,OAAOD,EAAIC,EAAI,KAC3Cq7C,GAAW,SAAUt7C,EAAEC,GAAK,OAAOD,EAAIC,EAAIA,EAAID,GAC/Cu7C,GAAU,SAAUv7C,EAAEC,GAAK,OAAOD,EAAIC,EAAID,EAAIC,GAC9Cu7C,GAAS,SAAUx7C,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAED,EAAE,MAAQ,EAAEC,EAAE,OAC7Dw7C,GAAU,SAAUz7C,EAAEC,GAAK,OAAOA,EAAI,IAAM,EAAID,EAAIC,EAAI,IAAM,KAAO,EAAI,GAAK,EAAID,EAAI,MAAU,EAAIC,EAAI,OACxGy7C,GAAO,SAAU17C,EAAEC,GAAK,OAAO,KAAO,GAAK,EAAIA,EAAI,MAAQD,EAAE,OAC7D27C,GAAQ,SAAU37C,EAAEC,GACpB,OAAU,MAAND,IACJA,EAAWC,EAAI,IAAX,KAAmB,EAAID,EAAI,MACpB,IAFa,IAEDA,GAM3Bg7C,GAAMI,OAASH,GAAQE,GAAKC,KAC5BJ,GAAMK,SAAWJ,GAAQE,GAAKE,KAC9BL,GAAMQ,OAASP,GAAQE,GAAKK,KAC5BR,GAAMS,QAAUR,GAAQE,GAAKM,KAC7BT,GAAMxJ,OAASyJ,GAAQE,GAAKG,KAC5BN,GAAMO,QAAUN,GAAQE,GAAKI,KAC7BP,GAAMW,MAAQV,GAAQE,GAAKQ,KAC3BX,GAAMU,KAAOT,GAAQE,GAAKO,KAid1B,IA9cA,IAAIE,GAAUZ,GAMVa,GAASjgB,EAAM9vB,KACfgwC,GAAalgB,EAAMX,SACnB8gB,GAAUngB,EAAMC,MAChBmgB,GAAQj6C,KAAKiwB,IACbiqB,GAAQl6C,KAAK0jC,IACbyW,GAAQn6C,KAAKygC,IAGb2Z,GAAY,SAASz8B,EAAO08B,EAAWvH,EAAKsF,EAAOkC,QACpC,IAAV38B,IAAmBA,EAAM,UACX,IAAd08B,IAAuBA,GAAW,UAC1B,IAARvH,IAAiBA,EAAI,QACX,IAAVsF,IAAmBA,EAAM,QACX,IAAdkC,IAAuBA,EAAU,CAAC,EAAE,IAEzC,IAAYC,EAARC,EAAK,EACiB,UAAtBV,GAAOQ,GACPC,EAAKD,EAAU,GAAKA,EAAU,IAE9BC,EAAK,EACLD,EAAY,CAACA,EAAWA,IAG5B,IAAI/e,EAAI,SAASkf,GACb,IAAIx8C,EAAI+7C,KAAar8B,EAAM,KAAK,IAAQ08B,EAAYI,GAChD/wC,EAAIuwC,GAAMK,EAAU,GAAMC,EAAKE,EAAQrC,GAEvCsC,GADW,IAAPF,EAAW1H,EAAI,GAAM2H,EAAQD,EAAM1H,GAC5BppC,GAAK,EAAEA,GAAM,EACxBixC,EAAQR,GAAMl8C,GACd28C,EAAQV,GAAMj8C,GAIlB,OAAOk9B,EAAS4e,GAAW,CAAG,KAHtBrwC,EAAKgxC,IAAS,OAAUC,EAAU,QAASC,IAGf,KAF5BlxC,EAAKgxC,IAAS,OAAUC,EAAU,OAASC,IAET,KADlClxC,EAAKgxC,GAAO,QAAWC,IACe,MAiDlD,OA9CApf,EAAE5d,MAAQ,SAASpS,GACf,OAAU,MAALA,EAAqBoS,GAC1BA,EAAQpS,EACDgwB,IAGXA,EAAE8e,UAAY,SAAS3zC,GACnB,OAAU,MAALA,EAAqB2zC,GAC1BA,EAAY3zC,EACL60B,IAGXA,EAAE6c,MAAQ,SAAS9c,GACf,OAAU,MAALA,EAAqB8c,GAC1BA,EAAQ9c,EACDC,IAGXA,EAAEuX,IAAM,SAASzW,GACb,OAAU,MAALA,EAAqByW,GAEN,UAAhBgH,GADJhH,EAAMzW,GAGS,IADXme,EAAK1H,EAAI,GAAKA,EAAI,MACFA,EAAMA,EAAI,IAE1B0H,EAAK,EAEFjf,IAGXA,EAAE+e,UAAY,SAASje,GACnB,OAAU,MAALA,EAAqBie,GACR,UAAdR,GAAOzd,IACPie,EAAYje,EACZke,EAAKle,EAAE,GAAKA,EAAE,KAEdie,EAAY,CAACje,EAAEA,GACfke,EAAK,GAEFhf,IAGXA,EAAEzZ,MAAQ,WAAc,OAAOqZ,EAASrZ,MAAMyZ,IAE9CA,EAAEuX,IAAIA,GAECvX,GAGPsf,GAAS,mBAETC,GAAU96C,KAAKkwB,MACf6qB,GAAS/6C,KAAK+6C,OAEdC,GAAW,WAEX,IADA,IAAIC,EAAO,IACF96C,EAAE,EAAGA,EAAE,EAAGA,IACf86C,GAAQJ,GAAOrJ,OAAOsJ,GAAmB,GAAXC,OAElC,OAAO,IAAIhgB,EAAQkgB,EAAM,QAGzBC,GAAQl7C,KAAK2uC,IACbwM,GAAQn7C,KAAKiwB,IACbmrB,GAAUp7C,KAAKkwB,MACf0gB,GAAM5wC,KAAK4wC,IAGX8F,GAAU,SAAUx0C,EAAMwB,QACb,IAARA,IAAiBA,EAAI,MAE1B,IAAIgD,EAAI,CACJ0O,IAAK6M,OAAOo5B,UACZp7C,KAAuB,EAAlBgiB,OAAOo5B,UACZC,IAAK,EACLj8B,OAAQ,GACRk8B,MAAO,GAoBX,MAlBmB,WAAfxxC,EAAK7H,KACLA,EAAOzE,OAAO4hB,OAAOnd,IAEzBA,EAAKrE,SAAQ,SAAU04C,GACf7yC,GAAqB,WAAdqG,EAAKwsC,KAAqBA,EAAMA,EAAI7yC,IAC3C6yC,MAAAA,GAAsC9/B,MAAM8/B,KAC5C7vC,EAAE2Y,OAAOxgB,KAAK03C,GACd7vC,EAAE40C,KAAO/E,EACLA,EAAM7vC,EAAE0O,MAAO1O,EAAE0O,IAAMmhC,GACvBA,EAAM7vC,EAAEzG,MAAOyG,EAAEzG,IAAMs2C,GAC3B7vC,EAAE60C,OAAS,MAInB70C,EAAEkwC,OAAS,CAAClwC,EAAE0O,IAAK1O,EAAEzG,KAErByG,EAAEiwC,OAAS,SAAUlc,EAAM1f,GAAO,OAAO47B,GAAOjwC,EAAG+zB,EAAM1f,IAElDrU,GAIPiwC,GAAS,SAAUz0C,EAAMu4B,EAAM1f,QACjB,IAAT0f,IAAkBA,EAAK,cACf,IAAR1f,IAAiBA,EAAI,GAER,SAAdhR,EAAK7H,KACLA,EAAOw0C,GAAQx0C,IAEnB,IAAIkT,EAAMlT,EAAKkT,IACXnV,EAAMiC,EAAKjC,IACXof,EAASnd,EAAKmd,OAAOmF,MAAK,SAAUvmB,EAAEC,GAAK,OAAOD,EAAEC,KAExD,GAAY,IAAR6c,EAAa,MAAO,CAAC3F,EAAInV,GAE7B,IAAI02C,EAAS,GAOb,GALyB,MAArBlc,EAAKiC,OAAO,EAAE,KACdia,EAAO93C,KAAKuW,GACZuhC,EAAO93C,KAAKoB,IAGS,MAArBw6B,EAAKiC,OAAO,EAAE,GAAY,CAC1Bia,EAAO93C,KAAKuW,GACZ,IAAK,IAAIjV,EAAE,EAAGA,EAAE4a,EAAK5a,IACjBw2C,EAAO93C,KAAKuW,EAAMjV,EAAE4a,GAAM9a,EAAImV,IAElCuhC,EAAO93C,KAAKoB,QAGX,GAAyB,MAArBw6B,EAAKiC,OAAO,EAAE,GAAY,CAC/B,GAAItnB,GAAO,EACP,MAAM,IAAI3Q,MAAM,uDAEpB,IAAI+2C,EAAUx7C,KAAKy7C,OAASP,GAAM9lC,GAC9BsmC,EAAU17C,KAAKy7C,OAASP,GAAMj7C,GAClC02C,EAAO93C,KAAKuW,GACZ,IAAK,IAAIyoB,EAAI,EAAGA,EAAI9iB,EAAK8iB,IACrB8Y,EAAO93C,KAAKs8C,GAAM,GAAIK,EAAY3d,EAAI9iB,GAAQ2gC,EAAUF,KAE5D7E,EAAO93C,KAAKoB,QAGX,GAAyB,MAArBw6B,EAAKiC,OAAO,EAAE,GAAY,CAC/Bia,EAAO93C,KAAKuW,GACZ,IAAK,IAAI2oB,EAAI,EAAGA,EAAIhjB,EAAKgjB,IAAO,CAC5B,IAAIz9B,GAAM+e,EAAOnf,OAAO,GAAK69B,EAAKhjB,EAC9B4gC,EAAKP,GAAQ96C,GACjB,GAAIq7C,IAAOr7C,EACPq2C,EAAO93C,KAAKwgB,EAAOs8B,QAChB,CACH,IAAIC,EAAKt7C,EAAIq7C,EACbhF,EAAO93C,KAAMwgB,EAAOs8B,IAAK,EAAEC,GAAQv8B,EAAOs8B,EAAG,GAAGC,IAGxDjF,EAAO93C,KAAKoB,QAIX,GAAyB,MAArBw6B,EAAKiC,OAAO,EAAE,GAAY,CAM/B,IAAImf,EACAr0C,EAAI6X,EAAOnf,OACX47C,EAAc,IAAIxyC,MAAM9B,GACxBu0C,EAAe,IAAIzyC,MAAMyR,GACzBihC,GAAS,EACTC,EAAW,EACXC,EAAY,MAGhBA,EAAY,IACFr9C,KAAKuW,GACf,IAAK,IAAI6oB,EAAI,EAAGA,EAAIljB,EAAKkjB,IACrBie,EAAUr9C,KAAKuW,EAAQ6oB,EAAIljB,GAAQ9a,EAAImV,IAI3C,IAFA8mC,EAAUr9C,KAAKoB,GAER+7C,GAAQ,CAEX,IAAK,IAAIG,EAAE,EAAGA,EAAEphC,EAAKohC,IACjBJ,EAAaI,GAAK,EAEtB,IAAK,IAAIC,EAAI,EAAGA,EAAI50C,EAAG40C,IAInB,IAHA,IAAIn5C,EAAQoc,EAAO+8B,GACfC,EAAUp6B,OAAOo5B,UACjBiB,SACKC,EAAI,EAAGA,EAAIxhC,EAAKwhC,IAAO,CAC5B,IAAIC,EAAO5L,GAAIsL,EAAUK,GAAKt5C,GAC1Bu5C,EAAOH,IACPA,EAAUG,EACVF,EAAOC,GAEXR,EAAaO,KACbR,EAAYM,GAAOE,EAM3B,IADA,IAAIG,EAAe,IAAInzC,MAAMyR,GACpB2hC,EAAI,EAAGA,EAAI3hC,EAAK2hC,IACrBD,EAAaC,GAAO,KAExB,IAAK,IAAIC,EAAI,EAAGA,EAAIn1C,EAAGm1C,IAEW,OAA1BF,EADJZ,EAAUC,EAAYa,IAElBF,EAAaZ,GAAWx8B,EAAOs9B,GAE/BF,EAAaZ,IAAYx8B,EAAOs9B,GAGxC,IAAK,IAAIC,EAAI,EAAGA,EAAI7hC,EAAK6hC,IACrBH,EAAaG,IAAQ,EAAEb,EAAaa,GAIxCZ,GAAS,EACT,IAAK,IAAIa,EAAI,EAAGA,EAAI9hC,EAAK8hC,IACrB,GAAIJ,EAAaI,KAASX,EAAUW,GAAM,CACtCb,GAAS,EACT,MAIRE,EAAYO,IACZR,EAEe,MACXD,GAAS,GAOjB,IADA,IAAIc,EAAY,GACPC,EAAI,EAAGA,EAAIhiC,EAAKgiC,IACrBD,EAAUC,GAAO,GAErB,IAAK,IAAIC,EAAI,EAAGA,EAAIx1C,EAAGw1C,IAEnBF,EADAjB,EAAUC,EAAYkB,IACHn+C,KAAKwgB,EAAO29B,IAGnC,IADA,IAAIC,EAAkB,GACbC,EAAI,EAAGA,EAAIniC,EAAKmiC,IACrBD,EAAgBp+C,KAAKi+C,EAAUI,GAAK,IACpCD,EAAgBp+C,KAAKi+C,EAAUI,GAAKJ,EAAUI,GAAKh9C,OAAO,IAE9D+8C,EAAkBA,EAAgBz4B,MAAK,SAAUvmB,EAAEC,GAAI,OAAOD,EAAEC,KAChEy4C,EAAO93C,KAAKo+C,EAAgB,IAC5B,IAAK,IAAIE,EAAI,EAAGA,EAAMF,EAAgB/8C,OAAQi9C,GAAM,EAAG,CACnD,IAAIhgC,EAAI8/B,EAAgBE,GACnB1mC,MAAM0G,KAA8B,IAAvBw5B,EAAO3sC,QAAQmT,IAC7Bw5B,EAAO93C,KAAKse,IAIxB,OAAOw5B,GAGPyG,GAAY,CAAC1G,QAASA,GAASC,OAAQA,IAEvC0G,GAAW,SAAUp/C,EAAGC,GAGxBD,EAAI,IAAI88B,EAAQ98B,GAChBC,EAAI,IAAI68B,EAAQ78B,GAChB,IAAIo/C,EAAKr/C,EAAEkyC,YACPoN,EAAKr/C,EAAEiyC,YACX,OAAOmN,EAAKC,GAAMD,EAAK,MAASC,EAAK,MAASA,EAAK,MAASD,EAAK,MAGjEE,GAASx9C,KAAKgwB,KACdytB,GAAUz9C,KAAKmjC,MACfua,GAAQ19C,KAAK4wC,IACb+M,GAAQ39C,KAAKygC,IACbmd,GAAO59C,KAAK45B,GAEZikB,GAAS,SAAS5/C,EAAGC,EAAG6lC,EAAG+Z,QAChB,IAAN/Z,IAAeA,EAAE,QACX,IAAN+Z,IAAeA,EAAE,GAItB7/C,EAAI,IAAI88B,EAAQ98B,GAChBC,EAAI,IAAI68B,EAAQ78B,GAchB,IAbA,IAAIsM,EAAMlB,MAAMC,KAAKtL,EAAE+kC,OACnBsU,EAAK9sC,EAAI,GACTuzC,EAAKvzC,EAAI,GACTwzC,EAAKxzC,EAAI,GACT03B,EAAQ54B,MAAMC,KAAKrL,EAAE8kC,OACrBib,EAAK/b,EAAM,GACXgc,EAAKhc,EAAM,GACXic,EAAKjc,EAAM,GACX+Q,EAAKuK,GAAQO,EAAKA,EAAOC,EAAKA,GAC9B9K,EAAKsK,GAAQU,EAAKA,EAAOC,EAAKA,GAC9BC,EAAK9G,EAAK,GAAO,KAAS,QAAWA,GAAO,EAAO,OAAUA,GAC7D+G,EAAO,MAASpL,GAAO,EAAO,MAASA,GAAQ,KAC/CqL,EAAKrL,EAAK,KAAW,EAAyB,IAAlBwK,GAAQO,EAAID,GAAeH,GACpDU,EAAK,GAAKA,GAAM,IACvB,KAAOA,GAAM,KAAOA,GAAM,IAC1B,IAAIhzC,EAAKgzC,GAAM,KAAWA,GAAM,IAAU,IAAOZ,GAAM,GAAMC,GAAOC,IAAQU,EAAK,KAAU,MAAY,IAAOZ,GAAM,GAAMC,GAAOC,IAAQU,EAAK,IAAS,MACnJC,EAAKtL,EAAKA,EAAKA,EAAKA,EACpB1X,EAAIiiB,GAAOe,GAAMA,EAAK,OACtBC,EAAKH,GAAQ9iB,EAAIjwB,EAAK,EAAOiwB,GAE7BkjB,EAAOxL,EAAKC,EACZwL,EAAOX,EAAKG,EACZS,EAAOX,EAAKG,EAEZS,GALOtH,EAAK2G,IAKCla,EAAIqa,GACjBS,EAAKJ,GAAQX,EAAIO,GAErB,OAAOb,GAAQoB,EAAKA,EAAOC,EAAKA,GAJpBH,EAAOA,EAASC,EAAOA,EAAUF,EAAOA,IAG3CD,EAAAA,KAKTM,GAAW,SAAS7gD,EAAGC,EAAGu8B,QACZ,IAATA,IAAkBA,EAAK,OAI5Bx8B,EAAI,IAAI88B,EAAQ98B,GAChBC,EAAI,IAAI68B,EAAQ78B,GAChB,IAAIo/C,EAAKr/C,EAAE+G,IAAIy1B,GACX8iB,EAAKr/C,EAAE8G,IAAIy1B,GACXskB,EAAS,EACb,IAAK,IAAI5+C,KAAKm9C,EAAI,CACd,IAAI57C,GAAK47C,EAAGn9C,IAAM,IAAMo9C,EAAGp9C,IAAM,GACjC4+C,GAAUr9C,EAAEA,EAEhB,OAAO1B,KAAKgwB,KAAK+uB,IAGjBC,GAAQ,WAER,IADA,IAAIlyC,EAAO,GAAI/M,EAAMyL,UAAUtL,OACvBH,KAAQ+M,EAAM/M,GAAQyL,UAAWzL,GAEzC,IAEI,OADA,IAAKk7B,SAAS7vB,UAAUzD,KAAK8D,MAAOsvB,EAAS,CAAE,MAAO5uB,OAAQW,MACvD,EACT,MAAOjB,GACL,OAAO,IASXozC,GAAS,CACZC,KAAM,WAAkB,OAAOp9B,GAAM,CAACqZ,EAAS+C,IAAI,IAAI,EAAE,IAAK/C,EAAS+C,IAAI,IAAI,GAAG,OAClFihB,IAAK,WAAiB,OAAOr9B,GAAM,CAAC,OAAO,OAAO,OAAO,SAAwB2Y,KAAK,SAoBnF2kB,GAAc,CAEdC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChGC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjGC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIlGC,SAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACzHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAIrHC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACpFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACtFC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/FC,KAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChIC,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrFC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClIC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvFC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAI7F3jB,GAAM,EAAG4jB,GAAShkD,OAAO4M,KAAK+0C,IAAcvhB,GAAM4jB,GAAOvhD,OAAQ29B,IAAO,EAAG,CAChF,IAAIn6B,GAAM+9C,GAAO5jB,IAEjBuhB,GAAY17C,GAAI+lB,eAAiB21B,GAAY17C,IAGjD,IAAIg+C,GAAgBtC,GAqEpB,OAzBAjkB,EAAS0Y,QAAUA,GACnB1Y,EAASqd,OAASQ,GAClB7d,EAAS8d,MAAQY,GACjB1e,EAASif,UAAYA,GACrBjf,EAAS8V,IAAM9V,EAASuV,YAAcO,GACtC9V,EAAS4f,OAASC,GAClB7f,EAASrZ,MAAQA,GAGjBqZ,EAASub,QAAU0G,GAAU1G,QAC7Bvb,EAASkiB,SAAWA,GACpBliB,EAAS0iB,OAASA,GAClB1iB,EAAS2jB,SAAWA,GACpB3jB,EAASwb,OAASyG,GAAUzG,OAC5Bxb,EAAS6jB,MAAQA,GAGjB7jB,EAAS8jB,OAASA,GAGlB9jB,EAAS2Y,OAASxP,GAClBnJ,EAAS6a,OAAS0L,GAEFvmB,EA1lGgEwmB,uGCzCjF3iD,uJAC4CA,4CAAuBA,gCADnEA,eAC4CA,oEAdlC4C,YAAMqB,kBAAY2+C,KAGzBngB,EAAMx+B,EAAM4+C,SAAW5+C,EAAM6+C,QAC7BC,EAAa/mB,IAAQqB,EAAS,IAANoF,EAAIpF,EAAO9wB,EAAGk2B,EAAIl2B,EAAG4R,EAAGskB,EAAItkB,IAAI2d,IAAI,mIAGvDuB,EAAE9wB,EAAE4R,GAAK6d,GAAO+mB,GAAYtgB,MACnCmgB,GAAUvlB,EAAEA,EAAE,IAAO9wB,EAAAA,EAAK4R,EAAAA,oBAMiB4kC,iLCEhC/iD,SAAUA,UAAWA,kCAA2BA,eAAAA,iFAAkCA,0BAD9FA,oJAAAA,wCAC4DA,mJAhBlD4C,YAAMqB,kBAAY2+C,KAGzBI,EAA4B,IAAd/+C,EAAMmS,KAA2B,IAAdnS,EAAMhD,IAAa,IAAM,EAC1DmV,EAAMnS,EAAMmS,IACZnV,EAAMgD,EAAMhD,IAAM+hD,EAClBzsC,EAAOtS,EAAMsS,KAAOysC,EACpBC,GAAeh/C,EAAM4+C,SAAW5+C,EAAM6+C,SAAWE,yIAG7CJ,EAASK,EAAcD,oBAM8BC,sMCoCnDjjD,kEAAAA,8DAQeA,eAAgBA,KAAsBA,KAAK4C,qKAA3C5C,gBAAgBA,KAAsBA,KAAK4C,yIAF7C5C,eAAgBA,KAAsBA,KAAK4C,qKAA3C5C,gBAAgBA,KAAsBA,KAAK4C,iLADrC,YAAd5C,KAAK+K,OAEc,cAAd/K,KAAK+K,wXAJZ/K,0BAALkB,iOAAKlB,aAALkB,yHAAAA,8DAAAA,gqBAkBUgiD,qMAQAl/B,wIADahkB,KAAe01B,OAAf11B,KAAe01B,8QARnC11B,KAAUihB,UAAYjhB,aAOxBA,KAAUkB,2CAMDkjB,4GATbpkB,2fAJMA,KAAUihB,UAAYjhB,wHAI5BA,MAGIA,KAAUkB,iWArEfiiD,WAFOhiC,WAAS7B,KAGhBE,KAGJ9Z,iBACMqY,QAAaC,mBAAmBsB,SAC/BvB,EAAKE,aACExY,uBAAuB6Z,kBAE7B8jC,QAAqBrlC,EAAKG,UAEhCH,QAAaC,0BAA0BmD,MAClCpD,EAAKE,aACExY,MAAM,oDAEZ49C,QAAiBtlC,EAAKG,OAC5BklC,EAAavkD,SAASykD,IACpBA,EAAKr/C,MAAM4+C,QAAUQ,EAASC,EAAK1gD,aAGrC4c,EAAY4jC,+FAIiBxgD,wBAERob,0BAA0BmD,KAC3C/C,OAAQ,OACRC,SACEC,eAAgB,oBAElBzD,KAAM0D,KAAKC,YAAa5b,GAAOqB,OAEvBga,aACExY,oDAAoD0b,8CAOjDgiC,mBAiCkBriC,GAASI,WAAWC,OAfnCL,GAASM,QAAQD,qNCvDZnhB,UAAeA,yFAAfA,mBAAeA,8IADjCA,KAAU8gB,8BAAf5f,4lBAR6D4f,GAAS3Z,2CAQjEnH,KAAU8gB,iBAAf5f,yHAAAA,8DAAAA,0VCG+ClB,KAAQsf,UAIlDtf,KAAQwf,+BAAbte,4hBAJ+ClB,KAAQsf,kCAIlDtf,KAAQwf,kBAAbte,yHAAAA,8DAAAA,sJAKiBlB,eAAgBA,KAAsBA,KAAQsf,KAAMtf,KAAK4C,oKAAzD5C,gBAAgBA,KAAsBA,KAAQsf,KAAMtf,KAAK4C,yIAF3D5C,eAAgBA,KAAsBA,KAAQsf,KAAMtf,KAAK4C,oKAAzD5C,gBAAgBA,KAAsBA,KAAQsf,KAAMtf,KAAK4C,iLADnD,YAAd5C,KAAK+K,OAEc,cAAd/K,KAAK+K,wXAVW,IAA7B/K,KAAQwf,UAAUte,oFAAW,IAA7BlB,KAAQwf,UAAUte,6OAbUoe,EAAM1c,oBAE3Bob,MAAM,aACVI,OAAQ,OACRC,SACEC,eAAgB,oBAElBzD,KAAM0D,KAAKC,WAAiBc,KAAAA,EAAY1c,KAAAA,EAAaqB,MAAAA,sNC8B1BjE,UACWA,sHAIHujD,yDAGAC,+kBARRxjD,mCACWA,iMAJnCA,0BAALkB,yaAAKlB,aAALkB,yHAAAA,8DAAAA,6IAhCAuiD,KAEJ/9C,mBACQqY,QAAaC,MAAM,aACpBD,EAAKE,aACExY,MAAM,2BAEZvC,QAAa6a,EAAKG,WACxBulC,EAAQvgD,EAAY,gBAGhBwgD,kBACE1lC,MAAM,SACVI,OAAQ,OACRvD,KAAM0D,KAAKC,WAAWtb,KAAMoc,IAC5BjB,SACEC,eAAgB,uBAKhBqlC,kBACE7iC,GAAS5Z,IAAIoY,oBAiBoBokC,EAAU9gD,MAGV+gD,EAAa/gD,4NC5C/B5C,KAAQsf,mFAAkBtf,+GAA1BA,KAAQsf,0BAAkBtf,kEAD9CA,KAAQsf,+9CCFD,sEAAQ,CAClBxd,OAAQe,SAASgY"}